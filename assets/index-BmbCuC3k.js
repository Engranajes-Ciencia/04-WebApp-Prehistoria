const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Final-BZvCI7yK.js","assets/Final-Dka1QmYQ.css","assets/Actividad-BTTxjvog.js","assets/Actividad-CqOX3nc3.css","assets/Vitrina-BYAGFOQ9.js","assets/Vitrina-CcsG1K3d.css","assets/VitrinaVirtual-ChdCmIHM.js","assets/VitrinaVirtual-Dv42PLLZ.css"])))=>i.map(i=>d[i]);
function Nm(d,l){for(var c=0;c<l.length;c++){const h=l[c];if(typeof h!="string"&&!Array.isArray(h)){for(const p in h)if(p!=="default"&&!(p in d)){const x=Object.getOwnPropertyDescriptor(h,p);x&&Object.defineProperty(d,p,x.get?x:{enumerable:!0,get:()=>h[p]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))h(p);new MutationObserver(p=>{for(const x of p)if(x.type==="childList")for(const b of x.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&h(b)}).observe(document,{childList:!0,subtree:!0});function c(p){const x={};return p.integrity&&(x.integrity=p.integrity),p.referrerPolicy&&(x.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?x.credentials="include":p.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function h(p){if(p.ep)return;p.ep=!0;const x=c(p);fetch(p.href,x)}})();var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function du(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var gf={exports:{}},Bo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function Om(){if(v0)return Bo;v0=1;var d=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function c(h,p,x){var b=null;if(x!==void 0&&(b=""+x),p.key!==void 0&&(b=""+p.key),"key"in p){x={};for(var v in p)v!=="key"&&(x[v]=p[v])}else x=p;return p=x.ref,{$$typeof:d,type:h,key:b,ref:p!==void 0?p:null,props:x}}return Bo.Fragment=l,Bo.jsx=c,Bo.jsxs=c,Bo}var T0;function Mm(){return T0||(T0=1,gf.exports=Om()),gf.exports}var te=Mm(),mf={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function Im(){if(N0)return it;N0=1;var d=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),_=Symbol.iterator;function U(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Q={};function V(R,B,fe){this.props=R,this.context=B,this.refs=Q,this.updater=fe||F}V.prototype.isReactComponent={},V.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},V.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function K(){}K.prototype=V.prototype;function ie(R,B,fe){this.props=R,this.context=B,this.refs=Q,this.updater=fe||F}var ae=ie.prototype=new K;ae.constructor=ie,j(ae,V.prototype),ae.isPureReactComponent=!0;var Ce=Array.isArray,Te={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function le(R,B,fe,xe,ue,Me){return fe=Me.ref,{$$typeof:d,type:R,key:B,ref:fe!==void 0?fe:null,props:Me}}function Oe(R,B){return le(R.type,B,void 0,void 0,void 0,R.props)}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===d}function Re(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(fe){return B[fe]})}var je=/\/+/g;function ve(R,B){return typeof R=="object"&&R!==null&&R.key!=null?Re(""+R.key):B.toString(36)}function Pe(){}function st(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Pe,Pe):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function $(R,B,fe,xe,ue){var Me=typeof R;(Me==="undefined"||Me==="boolean")&&(R=null);var oe=!1;if(R===null)oe=!0;else switch(Me){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(R.$$typeof){case d:case l:oe=!0;break;case M:return oe=R._init,$(oe(R._payload),B,fe,xe,ue)}}if(oe)return ue=ue(R),oe=xe===""?"."+ve(R,0):xe,Ce(ue)?(fe="",oe!=null&&(fe=oe.replace(je,"$&/")+"/"),$(ue,B,fe,"",function(Ge){return Ge})):ue!=null&&(q(ue)&&(ue=Oe(ue,fe+(ue.key==null||R&&R.key===ue.key?"":(""+ue.key).replace(je,"$&/")+"/")+oe)),B.push(ue)),1;oe=0;var De=xe===""?".":xe+":";if(Ce(R))for(var Ne=0;Ne<R.length;Ne++)xe=R[Ne],Me=De+ve(xe,Ne),oe+=$(xe,B,fe,Me,ue);else if(Ne=U(R),typeof Ne=="function")for(R=Ne.call(R),Ne=0;!(xe=R.next()).done;)xe=xe.value,Me=De+ve(xe,Ne++),oe+=$(xe,B,fe,Me,ue);else if(Me==="object"){if(typeof R.then=="function")return $(st(R),B,fe,xe,ue);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ge(R,B,fe){if(R==null)return R;var xe=[],ue=0;return $(R,xe,"","",function(Me){return B.call(fe,Me,ue++)}),xe}function me(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(fe){(R._status===0||R._status===-1)&&(R._status=1,R._result=fe)},function(fe){(R._status===0||R._status===-1)&&(R._status=2,R._result=fe)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var ke=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function rt(){}return it.Children={map:ge,forEach:function(R,B,fe){ge(R,function(){B.apply(this,arguments)},fe)},count:function(R){var B=0;return ge(R,function(){B++}),B},toArray:function(R){return ge(R,function(B){return B})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},it.Component=V,it.Fragment=c,it.Profiler=p,it.PureComponent=ie,it.StrictMode=h,it.Suspense=S,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Te,it.act=function(){throw Error("act(...) is not supported in production builds of React.")},it.cache=function(R){return function(){return R.apply(null,arguments)}},it.cloneElement=function(R,B,fe){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var xe=j({},R.props),ue=R.key,Me=void 0;if(B!=null)for(oe in B.ref!==void 0&&(Me=void 0),B.key!==void 0&&(ue=""+B.key),B)!we.call(B,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&B.ref===void 0||(xe[oe]=B[oe]);var oe=arguments.length-2;if(oe===1)xe.children=fe;else if(1<oe){for(var De=Array(oe),Ne=0;Ne<oe;Ne++)De[Ne]=arguments[Ne+2];xe.children=De}return le(R.type,ue,void 0,void 0,Me,xe)},it.createContext=function(R){return R={$$typeof:b,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:x,_context:R},R},it.createElement=function(R,B,fe){var xe,ue={},Me=null;if(B!=null)for(xe in B.key!==void 0&&(Me=""+B.key),B)we.call(B,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(ue[xe]=B[xe]);var oe=arguments.length-2;if(oe===1)ue.children=fe;else if(1<oe){for(var De=Array(oe),Ne=0;Ne<oe;Ne++)De[Ne]=arguments[Ne+2];ue.children=De}if(R&&R.defaultProps)for(xe in oe=R.defaultProps,oe)ue[xe]===void 0&&(ue[xe]=oe[xe]);return le(R,Me,void 0,void 0,null,ue)},it.createRef=function(){return{current:null}},it.forwardRef=function(R){return{$$typeof:v,render:R}},it.isValidElement=q,it.lazy=function(R){return{$$typeof:M,_payload:{_status:-1,_result:R},_init:me}},it.memo=function(R,B){return{$$typeof:w,type:R,compare:B===void 0?null:B}},it.startTransition=function(R){var B=Te.T,fe={};Te.T=fe;try{var xe=R(),ue=Te.S;ue!==null&&ue(fe,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(rt,ke)}catch(Me){ke(Me)}finally{Te.T=B}},it.unstable_useCacheRefresh=function(){return Te.H.useCacheRefresh()},it.use=function(R){return Te.H.use(R)},it.useActionState=function(R,B,fe){return Te.H.useActionState(R,B,fe)},it.useCallback=function(R,B){return Te.H.useCallback(R,B)},it.useContext=function(R){return Te.H.useContext(R)},it.useDebugValue=function(){},it.useDeferredValue=function(R,B){return Te.H.useDeferredValue(R,B)},it.useEffect=function(R,B){return Te.H.useEffect(R,B)},it.useId=function(){return Te.H.useId()},it.useImperativeHandle=function(R,B,fe){return Te.H.useImperativeHandle(R,B,fe)},it.useInsertionEffect=function(R,B){return Te.H.useInsertionEffect(R,B)},it.useLayoutEffect=function(R,B){return Te.H.useLayoutEffect(R,B)},it.useMemo=function(R,B){return Te.H.useMemo(R,B)},it.useOptimistic=function(R,B){return Te.H.useOptimistic(R,B)},it.useReducer=function(R,B,fe){return Te.H.useReducer(R,B,fe)},it.useRef=function(R){return Te.H.useRef(R)},it.useState=function(R){return Te.H.useState(R)},it.useSyncExternalStore=function(R,B,fe){return Te.H.useSyncExternalStore(R,B,fe)},it.useTransition=function(){return Te.H.useTransition()},it.version="19.0.0",it}var O0;function Rf(){return O0||(O0=1,mf.exports=Im()),mf.exports}var X=Rf();const Rm=du(X);var pf={exports:{}},ko={},xf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function Dm(){return M0||(M0=1,function(d){function l(ge,me){var ke=ge.length;ge.push(me);e:for(;0<ke;){var rt=ke-1>>>1,R=ge[rt];if(0<p(R,me))ge[rt]=me,ge[ke]=R,ke=rt;else break e}}function c(ge){return ge.length===0?null:ge[0]}function h(ge){if(ge.length===0)return null;var me=ge[0],ke=ge.pop();if(ke!==me){ge[0]=ke;e:for(var rt=0,R=ge.length,B=R>>>1;rt<B;){var fe=2*(rt+1)-1,xe=ge[fe],ue=fe+1,Me=ge[ue];if(0>p(xe,ke))ue<R&&0>p(Me,xe)?(ge[rt]=Me,ge[ue]=ke,rt=ue):(ge[rt]=xe,ge[fe]=ke,rt=fe);else if(ue<R&&0>p(Me,ke))ge[rt]=Me,ge[ue]=ke,rt=ue;else break e}}return me}function p(ge,me){var ke=ge.sortIndex-me.sortIndex;return ke!==0?ke:ge.id-me.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;d.unstable_now=function(){return x.now()}}else{var b=Date,v=b.now();d.unstable_now=function(){return b.now()-v}}var S=[],w=[],M=1,_=null,U=3,F=!1,j=!1,Q=!1,V=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ae(ge){for(var me=c(w);me!==null;){if(me.callback===null)h(w);else if(me.startTime<=ge)h(w),me.sortIndex=me.expirationTime,l(S,me);else break;me=c(w)}}function Ce(ge){if(Q=!1,ae(ge),!j)if(c(S)!==null)j=!0,st();else{var me=c(w);me!==null&&$(Ce,me.startTime-ge)}}var Te=!1,we=-1,le=5,Oe=-1;function q(){return!(d.unstable_now()-Oe<le)}function Re(){if(Te){var ge=d.unstable_now();Oe=ge;var me=!0;try{e:{j=!1,Q&&(Q=!1,K(we),we=-1),F=!0;var ke=U;try{t:{for(ae(ge),_=c(S);_!==null&&!(_.expirationTime>ge&&q());){var rt=_.callback;if(typeof rt=="function"){_.callback=null,U=_.priorityLevel;var R=rt(_.expirationTime<=ge);if(ge=d.unstable_now(),typeof R=="function"){_.callback=R,ae(ge),me=!0;break t}_===c(S)&&h(S),ae(ge)}else h(S);_=c(S)}if(_!==null)me=!0;else{var B=c(w);B!==null&&$(Ce,B.startTime-ge),me=!1}}break e}finally{_=null,U=ke,F=!1}me=void 0}}finally{me?je():Te=!1}}}var je;if(typeof ie=="function")je=function(){ie(Re)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Pe=ve.port2;ve.port1.onmessage=Re,je=function(){Pe.postMessage(null)}}else je=function(){V(Re,0)};function st(){Te||(Te=!0,je())}function $(ge,me){we=V(function(){ge(d.unstable_now())},me)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(ge){ge.callback=null},d.unstable_continueExecution=function(){j||F||(j=!0,st())},d.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<ge?Math.floor(1e3/ge):5},d.unstable_getCurrentPriorityLevel=function(){return U},d.unstable_getFirstCallbackNode=function(){return c(S)},d.unstable_next=function(ge){switch(U){case 1:case 2:case 3:var me=3;break;default:me=U}var ke=U;U=me;try{return ge()}finally{U=ke}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(ge,me){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var ke=U;U=ge;try{return me()}finally{U=ke}},d.unstable_scheduleCallback=function(ge,me,ke){var rt=d.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?rt+ke:rt):ke=rt,ge){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ke+R,ge={id:M++,callback:me,priorityLevel:ge,startTime:ke,expirationTime:R,sortIndex:-1},ke>rt?(ge.sortIndex=ke,l(w,ge),c(S)===null&&ge===c(w)&&(Q?(K(we),we=-1):Q=!0,$(Ce,ke-rt))):(ge.sortIndex=R,l(S,ge),j||F||(j=!0,st())),ge},d.unstable_shouldYield=q,d.unstable_wrapCallback=function(ge){var me=U;return function(){var ke=U;U=me;try{return ge.apply(this,arguments)}finally{U=ke}}}}(yf)),yf}var I0;function _m(){return I0||(I0=1,xf.exports=Dm()),xf.exports}var Ef={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function Lm(){if(R0)return jn;R0=1;var d=Rf();function l(S){var w="https://react.dev/errors/"+S;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)w+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+S+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var h={d:{f:c,r:function(){throw Error(l(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},p=Symbol.for("react.portal");function x(S,w,M){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:_==null?null:""+_,children:S,containerInfo:w,implementation:M}}var b=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(S,w){if(S==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=h,jn.createPortal=function(S,w){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(l(299));return x(S,w,null,M)},jn.flushSync=function(S){var w=b.T,M=h.p;try{if(b.T=null,h.p=2,S)return S()}finally{b.T=w,h.p=M,h.d.f()}},jn.preconnect=function(S,w){typeof S=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,h.d.C(S,w))},jn.prefetchDNS=function(S){typeof S=="string"&&h.d.D(S)},jn.preinit=function(S,w){if(typeof S=="string"&&w&&typeof w.as=="string"){var M=w.as,_=v(M,w.crossOrigin),U=typeof w.integrity=="string"?w.integrity:void 0,F=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;M==="style"?h.d.S(S,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:_,integrity:U,fetchPriority:F}):M==="script"&&h.d.X(S,{crossOrigin:_,integrity:U,fetchPriority:F,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},jn.preinitModule=function(S,w){if(typeof S=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var M=v(w.as,w.crossOrigin);h.d.M(S,{crossOrigin:M,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&h.d.M(S)},jn.preload=function(S,w){if(typeof S=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var M=w.as,_=v(M,w.crossOrigin);h.d.L(S,M,{crossOrigin:_,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},jn.preloadModule=function(S,w){if(typeof S=="string")if(w){var M=v(w.as,w.crossOrigin);h.d.m(S,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:M,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else h.d.m(S)},jn.requestFormReset=function(S){h.d.r(S)},jn.unstable_batchedUpdates=function(S,w){return S(w)},jn.useFormState=function(S,w,M){return b.H.useFormState(S,w,M)},jn.useFormStatus=function(){return b.H.useHostTransitionStatus()},jn.version="19.0.0",jn}var D0;function Bm(){if(D0)return Ef.exports;D0=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(l){console.error(l)}}return d(),Ef.exports=Lm(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function km(){if(_0)return ko;_0=1;var d=_m(),l=Rf(),c=Bm();function h(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),Ce=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case v:return"Portal";case M:return"Profiler";case w:return"StrictMode";case Q:return"Suspense";case V:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case j:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:Oe(e.type)||"Memo";case ie:n=e._payload,e=e._init;try{return Oe(e(n))}catch{}}return null}var q=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=Object.assign,je,ve;function Pe(e){if(je===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);je=n&&n[1]||"",ve=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+e+ve}var st=!1;function $(e,n){if(!e||st)return"";st=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ce){var ne=ce}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(ce){ne=ce}e.call(Ee.prototype)}}else{try{throw Error()}catch(ce){ne=ce}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ce){if(ce&&ne&&typeof ce.stack=="string")return[ce.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=u.DetermineComponentFrameRoot(),T=E[0],D=E[1];if(T&&D){var P=T.split(`
`),Y=D.split(`
`);for(m=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(u===P.length||m===Y.length)for(u=P.length-1,m=Y.length-1;1<=u&&0<=m&&P[u]!==Y[m];)m--;for(;1<=u&&0<=m;u--,m--)if(P[u]!==Y[m]){if(u!==1||m!==1)do if(u--,m--,0>m||P[u]!==Y[m]){var de=`
`+P[u].replace(" at new "," at ");return e.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",e.displayName)),de}while(1<=u&&0<=m);break}}}finally{st=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Pe(r):""}function ge(e){switch(e.tag){case 26:case 27:case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return e=$(e.type,!1),e;case 11:return e=$(e.type.render,!1),e;case 1:return e=$(e.type,!0),e;default:return""}}function me(e){try{var n="";do n+=ge(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ke(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function rt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function R(e){if(ke(e)!==e)throw Error(h(188))}function B(e){var n=e.alternate;if(!n){if(n=ke(e),n===null)throw Error(h(188));return n!==e?null:e}for(var r=e,u=n;;){var m=r.return;if(m===null)break;var E=m.alternate;if(E===null){if(u=m.return,u!==null){r=u;continue}break}if(m.child===E.child){for(E=m.child;E;){if(E===r)return R(m),e;if(E===u)return R(m),n;E=E.sibling}throw Error(h(188))}if(r.return!==u.return)r=m,u=E;else{for(var T=!1,D=m.child;D;){if(D===r){T=!0,r=m,u=E;break}if(D===u){T=!0,u=m,r=E;break}D=D.sibling}if(!T){for(D=E.child;D;){if(D===r){T=!0,r=E,u=m;break}if(D===u){T=!0,u=E,r=m;break}D=D.sibling}if(!T)throw Error(h(189))}}if(r.alternate!==u)throw Error(h(190))}if(r.tag!==3)throw Error(h(188));return r.stateNode.current===r?e:n}function fe(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=fe(e),n!==null)return n;e=e.sibling}return null}var xe=Array.isArray,ue=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},oe=[],De=-1;function Ne(e){return{current:e}}function Ge(e){0>De||(e.current=oe[De],oe[De]=null,De--)}function Ye(e,n){De++,oe[De]=e.current,e.current=n}var Qe=Ne(null),At=Ne(null),ze=Ne(null),Je=Ne(null);function Tt(e,n){switch(Ye(ze,n),Ye(At,e),Ye(Qe,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?e0(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=e0(e),n=t0(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ge(Qe),Ye(Qe,n)}function Yt(){Ge(Qe),Ge(At),Ge(ze)}function wt(e){e.memoizedState!==null&&Ye(Je,e);var n=Qe.current,r=t0(n,e.type);n!==r&&(Ye(At,e),Ye(Qe,r))}function nt(e){At.current===e&&(Ge(Qe),Ge(At)),Je.current===e&&(Ge(Je),Io._currentValue=Me)}var $e=Object.prototype.hasOwnProperty,pn=d.unstable_scheduleCallback,_e=d.unstable_cancelCallback,Ni=d.unstable_shouldYield,Wr=d.unstable_requestPaint,qt=d.unstable_now,xr=d.unstable_getCurrentPriorityLevel,On=d.unstable_ImmediatePriority,yr=d.unstable_UserBlockingPriority,Hn=d.unstable_NormalPriority,cn=d.unstable_LowPriority,Oi=d.unstable_IdlePriority,_a=d.log,js=d.unstable_setDisableYieldValue,_t=null,Se=null;function rn(e){if(Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(_t,e,void 0,(e.current.flags&128)===128)}catch{}}function ht(e){if(typeof _a=="function"&&js(e),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(_t,e)}catch{}}var gt=Math.clz32?Math.clz32:qo,Er=Math.log,Hs=Math.LN2;function qo(e){return e>>>=0,e===0?32:31-(Er(e)/Hs|0)|0}var mt=128,ua=4194304;function La(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ar(e,n){var r=e.pendingLanes;if(r===0)return 0;var u=0,m=e.suspendedLanes,E=e.pingedLanes,T=e.warmLanes;e=e.finishedLanes!==0;var D=r&134217727;return D!==0?(r=D&~m,r!==0?u=La(r):(E&=D,E!==0?u=La(E):e||(T=D&~T,T!==0&&(u=La(T))))):(D=r&~m,D!==0?u=La(D):E!==0?u=La(E):e||(T=r&~T,T!==0&&(u=La(T)))),u===0?0:n!==0&&n!==u&&(n&m)===0&&(m=u&-u,T=n&-n,m>=T||m===32&&(T&4194176)!==0)?n:u}function Mn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vs(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var e=mt;return mt<<=1,(mt&4194176)===0&&(mt=128),e}function ti(){var e=ua;return ua<<=1,(ua&62914560)===0&&(ua=4194304),e}function Mi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function kn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xu(e,n,r,u,m,E){var T=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var D=e.entanglements,P=e.expirationTimes,Y=e.hiddenUpdates;for(r=T&~r;0<r;){var de=31-gt(r),Ee=1<<de;D[de]=0,P[de]=-1;var ne=Y[de];if(ne!==null)for(Y[de]=null,de=0;de<ne.length;de++){var ce=ne[de];ce!==null&&(ce.lane&=-536870913)}r&=~Ee}u!==0&&Ba(e,u,0),E!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=E&~(T&~n))}function Ba(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-gt(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|r&4194218}function Kr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var u=31-gt(r),m=1<<u;m&n|e[u]&n&&(e[u]|=n),r&=~m}}function In(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ka(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:E0(e.type))}function Zn(e,n){var r=ue.p;try{return ue.p=e,n()}finally{ue.p=r}}var Ie=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ie,bn="__reactProps$"+Ie,sn="__reactContainer$"+Ie,Ua="__reactEvents$"+Ie,Jr="__reactListeners$"+Ie,$r="__reactHandles$"+Ie,$n="__reactResources$"+Ie,wr="__reactMarker$"+Ie;function Gs(e){delete e[Qt],delete e[bn],delete e[Ua],delete e[Jr],delete e[$r]}function Cn(e){var n=e[Qt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[sn]||r[Qt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=i0(e);e!==null;){if(r=e[Qt])return r;e=i0(e)}return n}e=r,r=e.parentNode}return null}function $t(e){if(e=e[Qt]||e[sn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Nt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(h(33))}function ni(e){var n=e[$n];return n||(n=e[$n]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function kt(e){e[wr]=!0}var es=new Set,pe={};function ai(e,n){Mt(e,n),Mt(e+"Capture",n)}function Mt(e,n){for(pe[e]=n,e=0;e<n.length;e++)es.add(n[e])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bt={},yt={};function ft(e){return $e.call(yt,e)?!0:$e.call(bt,e)?!1:yu.test(e)?yt[e]=!0:(bt[e]=!0,!1)}function Ii(e,n,r){if(ft(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Ri(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ea(e,n,r,u){if(u===null)e.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+u)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sa(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eu(e){var n=Sa(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,E=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(T){u=""+T,E.call(this,T)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function zt(e){e._valueTracker||(e._valueTracker=Eu(e))}function va(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),u="";return e&&(u=Sa(e)?e.checked?"true":"false":e.value),e=u,e!==r?(n.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Di=/[\n"\\]/g;function ot(e){return e.replace(Di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fn(e,n,r,u,m,E,T,D){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ct(n)):e.value!==""+Ct(n)&&(e.value=""+Ct(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?L(e,T,Ct(n)):r!=null?L(e,T,Ct(r)):u!=null&&e.removeAttribute("value"),m==null&&E!=null&&(e.defaultChecked=!!E),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+Ct(D):e.removeAttribute("name")}function J(e,n,r,u,m,E,T,D){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.type=E),n!=null||r!=null){if(!(E!=="submit"&&E!=="reset"||n!=null))return;r=r!=null?""+Ct(r):"",n=n!=null?""+Ct(n):r,D||n===e.value||(e.value=n),e.defaultValue=n}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=D?e.checked:!!u,e.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function L(e,n,r){n==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ue(e,n,r,u){if(e=e.options,n){n={};for(var m=0;m<r.length;m++)n["$"+r[m]]=!0;for(r=0;r<e.length;r++)m=n.hasOwnProperty("$"+e[r].value),e[r].selected!==m&&(e[r].selected=m),m&&u&&(e[r].defaultSelected=!0)}else{for(r=""+Ct(r),n=null,m=0;m<e.length;m++){if(e[m].value===r){e[m].selected=!0,u&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function on(e,n,r){if(n!=null&&(n=""+Ct(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ct(r):""}function Vn(e,n,r,u){if(n==null){if(u!=null){if(r!=null)throw Error(h(92));if(xe(u)){if(1<u.length)throw Error(h(93));u=u[0]}r=u}r==null&&(r=""),n=r}r=Ct(n),e.defaultValue=r,u=e.textContent,u===r&&u!==""&&u!==null&&(e.value=u)}function _i(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gn(e,n,r){var u=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,r):typeof r!="number"||r===0||Ys.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function He(e,n,r){if(n!=null&&typeof n!="object")throw Error(h(62));if(e=e.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var m in n)u=n[m],n.hasOwnProperty(m)&&r[m]!==u&&Gn(e,m,u)}else for(var E in n)n.hasOwnProperty(E)&&Gn(e,E,n[E])}function Ut(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Au=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(e){return Au.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bi=null;function br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ki=null,Vt=null;function Ui(e){var n=$t(e);if(n&&(e=n.stateNode)){var r=e[bn]||null;e:switch(e=n.stateNode,n.type){case"input":if(fn(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ot(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var u=r[n];if(u!==e&&u.form===e.form){var m=u[bn]||null;if(!m)throw Error(h(90));fn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<r.length;n++)u=r[n],u.form===e.form&&va(u)}break e;case"textarea":on(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ue(e,!!r.multiple,n,!1)}}}var ca=!1;function qe(e,n,r){if(ca)return e(n,r);ca=!0;try{var u=e(n);return u}finally{if(ca=!1,(ki!==null||Vt!==null)&&(Rl(),ki&&(n=ki,e=Vt,Vt=ki=null,Ui(n),e)))for(n=0;n<e.length;n++)Ui(e[n])}}function Cr(e,n){var r=e.stateNode;if(r===null)return null;var u=r[bn]||null;if(u===null)return null;r=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(h(231,n,typeof r));return r}var et=!1;if(Un)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){et=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{et=!1}var Pa=null,Sr=null,vr=null;function Fa(){if(vr)return vr;var e,n=Sr,r=n.length,u,m="value"in Pa?Pa.value:Pa.textContent,E=m.length;for(e=0;e<r&&n[e]===m[e];e++);var T=r-e;for(u=1;u<=T&&n[r-u]===m[E-u];u++);return vr=m.slice(e,1<u?1-u:void 0)}function ns(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function za(){return!0}function Pi(){return!1}function dn(e){function n(r,u,m,E,T){this._reactName=r,this._targetInst=m,this.type=u,this.nativeEvent=E,this.target=T,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(r=e[D],this[D]=r?r(E):E[D]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?za:Pi,this.isPropagationStopped=Pi,this}return Re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),n}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=dn(ja),Ta=Re({},ja,{view:0,detail:0}),Pn=dn(Ta),as,is,Fi,rs=Re({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(as=e.screenX-Fi.screenX,is=e.screenY-Fi.screenY):is=as=0,Fi=e),as)},movementY:function(e){return"movementY"in e?e.movementY:is}}),Zo=dn(rs),wu=Re({},rs,{dataTransfer:0}),Ot=dn(wu),Wo=Re({},Ta,{relatedTarget:0}),zi=dn(Wo),Va=Re({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=dn(Va),re=Re({},ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),at=dn(re),yn=Re({},ja,{data:0}),Tr=dn(yn),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function Nr(){return vu}var ln=Re({},Ta,{key:function(e){if(e.key){var n=Ko[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xs=dn(ln),Xt=Re({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Or=dn(Xt),ii=Re({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),It=dn(ii),Xe=Re({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=dn(Xe),Pt=Re({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ri=dn(Pt),ji=Re({},ja,{newState:0,oldState:0}),Nu=dn(ji),fa=[9,13,27,32],Mr=Un&&"CompositionEvent"in window,Hi=null;Un&&"documentMode"in document&&(Hi=document.documentMode);var qs=Un&&"TextEvent"in window&&!Hi,Qs=Un&&(!Mr||Hi&&8<Hi&&11>=Hi),Zs=" ",Jo=!1;function si(e,n){switch(e){case"keyup":return fa.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ss(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function Ir(e,n){switch(e){case"compositionend":return ss(n);case"keypress":return n.which!==32?null:(Jo=!0,Zs);case"textInput":return e=n.data,e===Zs&&Jo?null:e;default:return null}}function Ou(e,n){if(Vi)return e==="compositionend"||!Mr&&si(e,n)?(e=Fa(),vr=Sr=Pa=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qs&&n.locale!=="ko"?null:n.data;default:return null}}var Ga={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ga[e.type]:n==="textarea"}function Yn(e,n,r,u){ki?Vt?Vt.push(u):Vt=[u]:ki=u,n=kl(n,"onChange"),0<n.length&&(r=new Ha("onChange","change",null,r,u),e.push({event:r,listeners:n}))}var Gi=null,Fn=null;function Mu(e){Z1(e,0)}function Yi(e){var n=Nt(e);if(va(n))return e}function $o(e,n){if(e==="change")return n}var Ws=!1;if(Un){var Wn;if(Un){var Ks="oninput"in document;if(!Ks){var os=document.createElement("div");os.setAttribute("oninput","return;"),Ks=typeof os.oninput=="function"}Wn=Ks}else Wn=!1;Ws=Wn&&(!document.documentMode||9<document.documentMode)}function Xi(){Gi&&(Gi.detachEvent("onpropertychange",pt),Fn=Gi=null)}function pt(e){if(e.propertyName==="value"&&Yi(Fn)){var n=[];Yn(n,Fn,e,br(e)),qe(Mu,n)}}function ls(e,n,r){e==="focusin"?(Xi(),Gi=n,Fn=r,Gi.attachEvent("onpropertychange",pt)):e==="focusout"&&Xi()}function N(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yi(Fn)}function t(e,n){if(e==="click")return Yi(n)}function a(e,n){if(e==="input"||e==="change")return Yi(n)}function i(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var s=typeof Object.is=="function"?Object.is:i;function o(e,n){if(s(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),u=Object.keys(n);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var m=r[u];if(!$e.call(n,m)||!s(e[m],n[m]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var r=f(e);e=0;for(var u;r;){if(r.nodeType===3){if(u=e+r.textContent.length,e<=n&&u>=n)return{node:r,offset:n-e};e=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=f(r)}}function y(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?y(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function A(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ts(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ts(e.document)}return n}function C(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function O(e,n){var r=A(n);n=e.focusedElem;var u=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&y(n.ownerDocument.documentElement,n)){if(u!==null&&C(n)){if(e=u.start,r=u.end,r===void 0&&(r=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(r,n.value.length);else if(r=(e=n.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var m=n.textContent.length,E=Math.min(u.start,m);u=u.end===void 0?E:Math.min(u.end,m),!r.extend&&E>u&&(m=u,u=E,E=m),m=g(n,E);var T=g(n,u);m&&T&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(e=e.createRange(),e.setStart(m.node,m.offset),r.removeAllRanges(),E>u?(r.addRange(e),r.extend(T.node,T.offset)):(e.setEnd(T.node,T.offset),r.addRange(e)))}}for(e=[],r=n;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)r=e[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var I=Un&&"documentMode"in document&&11>=document.documentMode,k=null,z=null,H=null,W=!1;function se(e,n,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;W||k==null||k!==ts(u)||(u=k,"selectionStart"in u&&C(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),H&&o(H,u)||(H=u,u=kl(z,"onSelect"),0<u.length&&(n=new Ha("onSelect","select",null,n,r),e.push({event:n,listeners:u}),n.target=k)))}function Ae(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var be={animationend:Ae("Animation","AnimationEnd"),animationiteration:Ae("Animation","AnimationIteration"),animationstart:Ae("Animation","AnimationStart"),transitionrun:Ae("Transition","TransitionRun"),transitionstart:Ae("Transition","TransitionStart"),transitioncancel:Ae("Transition","TransitionCancel"),transitionend:Ae("Transition","TransitionEnd")},ye={},lt={};Un&&(lt=document.createElement("div").style,"AnimationEvent"in window||(delete be.animationend.animation,delete be.animationiteration.animation,delete be.animationstart.animation),"TransitionEvent"in window||delete be.transitionend.transition);function Ze(e){if(ye[e])return ye[e];if(!be[e])return e;var n=be[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in lt)return ye[e]=n[r];return e}var Rn=Ze("animationend"),Kn=Ze("animationiteration"),Dn=Ze("animationstart"),Rt=Ze("transitionrun"),En=Ze("transitionstart"),Xn=Ze("transitioncancel"),oi=Ze("transitionend"),li=new Map,el="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ta(e,n){li.set(e,n),ai(n,[e])}var da=[],us=0,Iu=0;function tl(){for(var e=us,n=Iu=us=0;n<e;){var r=da[n];da[n++]=null;var u=da[n];da[n++]=null;var m=da[n];da[n++]=null;var E=da[n];if(da[n++]=null,u!==null&&m!==null){var T=u.pending;T===null?m.next=m:(m.next=T.next,T.next=m),u.pending=m}E!==0&&jf(r,m,E)}}function nl(e,n,r,u){da[us++]=e,da[us++]=n,da[us++]=r,da[us++]=u,Iu|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Ru(e,n,r,u){return nl(e,n,r,u),al(e)}function qi(e,n){return nl(e,null,null,n),al(e)}function jf(e,n,r){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r);for(var m=!1,E=e.return;E!==null;)E.childLanes|=r,u=E.alternate,u!==null&&(u.childLanes|=r),E.tag===22&&(e=E.stateNode,e===null||e._visibility&1||(m=!0)),e=E,E=E.return;m&&n!==null&&e.tag===3&&(E=e.stateNode,m=31-gt(r),E=E.hiddenUpdates,e=E[m],e===null?E[m]=[n]:e.push(n),n.lane=r|536870912)}function al(e){if(50<Co)throw Co=0,Uc=null,Error(h(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var cs={},Hf=new WeakMap;function ha(e,n){if(typeof e=="object"&&e!==null){var r=Hf.get(e);return r!==void 0?r:(n={value:e,source:n,stack:me(n)},Hf.set(e,n),n)}return{value:e,source:n,stack:me(n)}}var fs=[],ds=0,il=null,rl=0,ga=[],ma=0,Dr=null,ui=1,ci="";function _r(e,n){fs[ds++]=rl,fs[ds++]=il,il=e,rl=n}function Vf(e,n,r){ga[ma++]=ui,ga[ma++]=ci,ga[ma++]=Dr,Dr=e;var u=ui;e=ci;var m=32-gt(u)-1;u&=~(1<<m),r+=1;var E=32-gt(n)+m;if(30<E){var T=m-m%5;E=(u&(1<<T)-1).toString(32),u>>=T,m-=T,ui=1<<32-gt(n)+m|r<<m|u,ci=E+e}else ui=1<<E|r<<m|u,ci=e}function Du(e){e.return!==null&&(_r(e,1),Vf(e,1,0))}function _u(e){for(;e===il;)il=fs[--ds],fs[ds]=null,rl=fs[--ds],fs[ds]=null;for(;e===Dr;)Dr=ga[--ma],ga[ma]=null,ci=ga[--ma],ga[ma]=null,ui=ga[--ma],ga[ma]=null}var qn=null,_n=null,St=!1,Na=null,Ya=!1,Lu=Error(h(519));function Lr(e){var n=Error(h(418,""));throw eo(ha(n,e)),Lu}function Gf(e){var n=e.stateNode,r=e.type,u=e.memoizedProps;switch(n[Qt]=e,n[bn]=u,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<vo.length;r++)xt(vo[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),J(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zt(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Vn(n,u.value,u.defaultValue,u.children),zt(n)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||u.suppressHydrationWarning===!0||$1(n.textContent,r)?(u.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),u.onScroll!=null&&xt("scroll",n),u.onScrollEnd!=null&&xt("scrollend",n),u.onClick!=null&&(n.onclick=Ul),n=!0):n=!1,n||Lr(e)}function Yf(e){for(qn=e.return;qn;)switch(qn.tag){case 3:case 27:Ya=!0;return;case 5:case 13:Ya=!1;return;default:qn=qn.return}}function Js(e){if(e!==qn)return!1;if(!St)return Yf(e),St=!0,!1;var n=!1,r;if((r=e.tag!==3&&e.tag!==27)&&((r=e.tag===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ef(e.type,e.memoizedProps)),r=!r),r&&(n=!0),n&&_n&&Lr(e),Yf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){_n=Ma(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}_n=null}}else _n=qn?Ma(e.stateNode.nextSibling):null;return!0}function $s(){_n=qn=null,St=!1}function eo(e){Na===null?Na=[e]:Na.push(e)}var to=Error(h(460)),Xf=Error(h(474)),Bu={then:function(){}};function qf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sl(){}function Qf(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(sl,sl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===to?Error(h(483)):e;default:if(typeof n.status=="string")n.then(sl,sl);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(h(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=u}},function(u){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===to?Error(h(483)):e}throw no=n,to}}var no=null;function Zf(){if(no===null)throw Error(h(459));var e=no;return no=null,e}var hs=null,ao=0;function ol(e){var n=ao;return ao+=1,hs===null&&(hs=[]),Qf(hs,e,n)}function io(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ll(e,n){throw n.$$typeof===x?Error(h(525)):(e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wf(e){var n=e._init;return n(e._payload)}function Kf(e){function n(Z,G){if(e){var ee=Z.deletions;ee===null?(Z.deletions=[G],Z.flags|=16):ee.push(G)}}function r(Z,G){if(!e)return null;for(;G!==null;)n(Z,G),G=G.sibling;return null}function u(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function m(Z,G){return Z=rr(Z,G),Z.index=0,Z.sibling=null,Z}function E(Z,G,ee){return Z.index=ee,e?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<G?(Z.flags|=33554434,G):ee):(Z.flags|=33554434,G)):(Z.flags|=1048576,G)}function T(Z){return e&&Z.alternate===null&&(Z.flags|=33554434),Z}function D(Z,G,ee,he){return G===null||G.tag!==6?(G=Mc(ee,Z.mode,he),G.return=Z,G):(G=m(G,ee),G.return=Z,G)}function P(Z,G,ee,he){var Be=ee.type;return Be===S?de(Z,G,ee.props.children,he,ee.key):G!==null&&(G.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ie&&Wf(Be)===G.type)?(G=m(G,ee.props),io(G,ee),G.return=Z,G):(G=Tl(ee.type,ee.key,ee.props,null,Z.mode,he),io(G,ee),G.return=Z,G)}function Y(Z,G,ee,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Ic(ee,Z.mode,he),G.return=Z,G):(G=m(G,ee.children||[]),G.return=Z,G)}function de(Z,G,ee,he,Be){return G===null||G.tag!==7?(G=Gr(ee,Z.mode,he,Be),G.return=Z,G):(G=m(G,ee),G.return=Z,G)}function Ee(Z,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Mc(""+G,Z.mode,ee),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return ee=Tl(G.type,G.key,G.props,null,Z.mode,ee),io(ee,G),ee.return=Z,ee;case v:return G=Ic(G,Z.mode,ee),G.return=Z,G;case ie:var he=G._init;return G=he(G._payload),Ee(Z,G,ee)}if(xe(G)||we(G))return G=Gr(G,Z.mode,ee,null),G.return=Z,G;if(typeof G.then=="function")return Ee(Z,ol(G),ee);if(G.$$typeof===F)return Ee(Z,Cl(Z,G),ee);ll(Z,G)}return null}function ne(Z,G,ee,he){var Be=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Be!==null?null:D(Z,G,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===Be?P(Z,G,ee,he):null;case v:return ee.key===Be?Y(Z,G,ee,he):null;case ie:return Be=ee._init,ee=Be(ee._payload),ne(Z,G,ee,he)}if(xe(ee)||we(ee))return Be!==null?null:de(Z,G,ee,he,null);if(typeof ee.then=="function")return ne(Z,G,ol(ee),he);if(ee.$$typeof===F)return ne(Z,G,Cl(Z,ee),he);ll(Z,ee)}return null}function ce(Z,G,ee,he,Be){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Z=Z.get(ee)||null,D(G,Z,""+he,Be);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return Z=Z.get(he.key===null?ee:he.key)||null,P(G,Z,he,Be);case v:return Z=Z.get(he.key===null?ee:he.key)||null,Y(G,Z,he,Be);case ie:var ct=he._init;return he=ct(he._payload),ce(Z,G,ee,he,Be)}if(xe(he)||we(he))return Z=Z.get(ee)||null,de(G,Z,he,Be,null);if(typeof he.then=="function")return ce(Z,G,ee,ol(he),Be);if(he.$$typeof===F)return ce(Z,G,ee,Cl(G,he),Be);ll(G,he)}return null}function Fe(Z,G,ee,he){for(var Be=null,ct=null,Ve=G,We=G=0,Tn=null;Ve!==null&&We<ee.length;We++){Ve.index>We?(Tn=Ve,Ve=null):Tn=Ve.sibling;var vt=ne(Z,Ve,ee[We],he);if(vt===null){Ve===null&&(Ve=Tn);break}e&&Ve&&vt.alternate===null&&n(Z,Ve),G=E(vt,G,We),ct===null?Be=vt:ct.sibling=vt,ct=vt,Ve=Tn}if(We===ee.length)return r(Z,Ve),St&&_r(Z,We),Be;if(Ve===null){for(;We<ee.length;We++)Ve=Ee(Z,ee[We],he),Ve!==null&&(G=E(Ve,G,We),ct===null?Be=Ve:ct.sibling=Ve,ct=Ve);return St&&_r(Z,We),Be}for(Ve=u(Ve);We<ee.length;We++)Tn=ce(Ve,Z,We,ee[We],he),Tn!==null&&(e&&Tn.alternate!==null&&Ve.delete(Tn.key===null?We:Tn.key),G=E(Tn,G,We),ct===null?Be=Tn:ct.sibling=Tn,ct=Tn);return e&&Ve.forEach(function(dr){return n(Z,dr)}),St&&_r(Z,We),Be}function tt(Z,G,ee,he){if(ee==null)throw Error(h(151));for(var Be=null,ct=null,Ve=G,We=G=0,Tn=null,vt=ee.next();Ve!==null&&!vt.done;We++,vt=ee.next()){Ve.index>We?(Tn=Ve,Ve=null):Tn=Ve.sibling;var dr=ne(Z,Ve,vt.value,he);if(dr===null){Ve===null&&(Ve=Tn);break}e&&Ve&&dr.alternate===null&&n(Z,Ve),G=E(dr,G,We),ct===null?Be=dr:ct.sibling=dr,ct=dr,Ve=Tn}if(vt.done)return r(Z,Ve),St&&_r(Z,We),Be;if(Ve===null){for(;!vt.done;We++,vt=ee.next())vt=Ee(Z,vt.value,he),vt!==null&&(G=E(vt,G,We),ct===null?Be=vt:ct.sibling=vt,ct=vt);return St&&_r(Z,We),Be}for(Ve=u(Ve);!vt.done;We++,vt=ee.next())vt=ce(Ve,Z,We,vt.value,he),vt!==null&&(e&&vt.alternate!==null&&Ve.delete(vt.key===null?We:vt.key),G=E(vt,G,We),ct===null?Be=vt:ct.sibling=vt,ct=vt);return e&&Ve.forEach(function(Tm){return n(Z,Tm)}),St&&_r(Z,We),Be}function nn(Z,G,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===S&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var Be=ee.key;G!==null;){if(G.key===Be){if(Be=ee.type,Be===S){if(G.tag===7){r(Z,G.sibling),he=m(G,ee.props.children),he.return=Z,Z=he;break e}}else if(G.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ie&&Wf(Be)===G.type){r(Z,G.sibling),he=m(G,ee.props),io(he,ee),he.return=Z,Z=he;break e}r(Z,G);break}else n(Z,G);G=G.sibling}ee.type===S?(he=Gr(ee.props.children,Z.mode,he,ee.key),he.return=Z,Z=he):(he=Tl(ee.type,ee.key,ee.props,null,Z.mode,he),io(he,ee),he.return=Z,Z=he)}return T(Z);case v:e:{for(Be=ee.key;G!==null;){if(G.key===Be)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){r(Z,G.sibling),he=m(G,ee.children||[]),he.return=Z,Z=he;break e}else{r(Z,G);break}else n(Z,G);G=G.sibling}he=Ic(ee,Z.mode,he),he.return=Z,Z=he}return T(Z);case ie:return Be=ee._init,ee=Be(ee._payload),nn(Z,G,ee,he)}if(xe(ee))return Fe(Z,G,ee,he);if(we(ee)){if(Be=we(ee),typeof Be!="function")throw Error(h(150));return ee=Be.call(ee),tt(Z,G,ee,he)}if(typeof ee.then=="function")return nn(Z,G,ol(ee),he);if(ee.$$typeof===F)return nn(Z,G,Cl(Z,ee),he);ll(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(r(Z,G.sibling),he=m(G,ee),he.return=Z,Z=he):(r(Z,G),he=Mc(ee,Z.mode,he),he.return=Z,Z=he),T(Z)):r(Z,G)}return function(Z,G,ee,he){try{ao=0;var Be=nn(Z,G,ee,he);return hs=null,Be}catch(Ve){if(Ve===to)throw Ve;var ct=Ea(29,Ve,null,Z.mode);return ct.lanes=he,ct.return=Z,ct}finally{}}}var Br=Kf(!0),Jf=Kf(!1),gs=Ne(null),ul=Ne(0);function $f(e,n){e=wi,Ye(ul,e),Ye(gs,n),wi=e|n.baseLanes}function ku(){Ye(ul,wi),Ye(gs,gs.current)}function Uu(){wi=ul.current,Ge(gs),Ge(ul)}var pa=Ne(null),Xa=null;function Qi(e){var n=e.alternate;Ye(An,An.current&1),Ye(pa,e),Xa===null&&(n===null||gs.current!==null||n.memoizedState!==null)&&(Xa=e)}function ed(e){if(e.tag===22){if(Ye(An,An.current),Ye(pa,e),Xa===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Xa=e)}}else Zi()}function Zi(){Ye(An,An.current),Ye(pa,pa.current)}function fi(e){Ge(pa),Xa===e&&(Xa=null),Ge(An)}var An=Ne(0);function cl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},gg=d.unstable_scheduleCallback,mg=d.unstable_NormalPriority,wn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pu(){return{controller:new hg,data:new Map,refCount:0}}function ro(e){e.refCount--,e.refCount===0&&gg(mg,function(){e.controller.abort()})}var so=null,Fu=0,ms=0,ps=null;function pg(e,n){if(so===null){var r=so=[];Fu=0,ms=Yc(),ps={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Fu++,n.then(td,td),n}function td(){if(--Fu===0&&so!==null){ps!==null&&(ps.status="fulfilled");var e=so;so=null,ms=0,ps=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function xg(e,n){var r=[],u={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var m=0;m<r.length;m++)(0,r[m])(n)},function(m){for(u.status="rejected",u.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),u}var nd=q.S;q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&pg(e,n),nd!==null&&nd(e,n)};var kr=Ne(null);function zu(){var e=kr.current;return e!==null?e:jt.pooledCache}function fl(e,n){n===null?Ye(kr,kr.current):Ye(kr,n.pool)}function ad(){var e=zu();return e===null?null:{parent:wn._currentValue,pool:e}}var Wi=0,ut=null,Lt=null,hn=null,dl=!1,xs=!1,Ur=!1,hl=0,oo=0,ys=null,yg=0;function un(){throw Error(h(321))}function ju(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!s(e[r],n[r]))return!1;return!0}function Hu(e,n,r,u,m,E){return Wi=E,ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Pr:Ki,Ur=!1,E=r(u,m),Ur=!1,xs&&(E=rd(n,r,u,m)),id(e),E}function id(e){q.H=qa;var n=Lt!==null&&Lt.next!==null;if(Wi=0,hn=Lt=ut=null,dl=!1,oo=0,ys=null,n)throw Error(h(300));e===null||Sn||(e=e.dependencies,e!==null&&bl(e)&&(Sn=!0))}function rd(e,n,r,u){ut=e;var m=0;do{if(xs&&(ys=null),oo=0,xs=!1,25<=m)throw Error(h(301));if(m+=1,hn=Lt=null,e.updateQueue!=null){var E=e.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}q.H=Fr,E=n(r,u)}while(xs);return E}function Eg(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?lo(n):n,e=e.useState()[0],(Lt!==null?Lt.memoizedState:null)!==e&&(ut.flags|=1024),n}function Vu(){var e=hl!==0;return hl=0,e}function Gu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Yu(e){if(dl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}dl=!1}Wi=0,hn=Lt=ut=null,xs=!1,oo=hl=0,ys=null}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?ut.memoizedState=hn=e:hn=hn.next=e,hn}function gn(){if(Lt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var n=hn===null?ut.memoizedState:hn.next;if(n!==null)hn=n,Lt=e;else{if(e===null)throw ut.alternate===null?Error(h(467)):Error(h(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},hn===null?ut.memoizedState=hn=e:hn=hn.next=e}return hn}var gl;gl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function lo(e){var n=oo;return oo+=1,ys===null&&(ys=[]),e=Qf(ys,e,n),n=ut,(hn===null?n.memoizedState:hn.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Pr:Ki),e}function ml(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lo(e);if(e.$$typeof===F)return zn(e)}throw Error(h(438,String(e)))}function Xu(e){var n=null,r=ut.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var u=ut.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=gl(),ut.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),u=0;u<e;u++)r[u]=Ce;return n.index++,r}function di(e,n){return typeof n=="function"?n(e):n}function pl(e){var n=gn();return qu(n,Lt,e)}function qu(e,n,r){var u=e.queue;if(u===null)throw Error(h(311));u.lastRenderedReducer=r;var m=e.baseQueue,E=u.pending;if(E!==null){if(m!==null){var T=m.next;m.next=E.next,E.next=T}n.baseQueue=m=E,u.pending=null}if(E=e.baseState,m===null)e.memoizedState=E;else{n=m.next;var D=T=null,P=null,Y=n,de=!1;do{var Ee=Y.lane&-536870913;if(Ee!==Y.lane?(Et&Ee)===Ee:(Wi&Ee)===Ee){var ne=Y.revertLane;if(ne===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),Ee===ms&&(de=!0);else if((Wi&ne)===ne){Y=Y.next,ne===ms&&(de=!0);continue}else Ee={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(D=P=Ee,T=E):P=P.next=Ee,ut.lanes|=ne,sr|=ne;Ee=Y.action,Ur&&r(E,Ee),E=Y.hasEagerState?Y.eagerState:r(E,Ee)}else ne={lane:Ee,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(D=P=ne,T=E):P=P.next=ne,ut.lanes|=Ee,sr|=Ee;Y=Y.next}while(Y!==null&&Y!==n);if(P===null?T=E:P.next=D,!s(E,e.memoizedState)&&(Sn=!0,de&&(r=ps,r!==null)))throw r;e.memoizedState=E,e.baseState=T,e.baseQueue=P,u.lastRenderedState=E}return m===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Qu(e){var n=gn(),r=n.queue;if(r===null)throw Error(h(311));r.lastRenderedReducer=e;var u=r.dispatch,m=r.pending,E=n.memoizedState;if(m!==null){r.pending=null;var T=m=m.next;do E=e(E,T.action),T=T.next;while(T!==m);s(E,n.memoizedState)||(Sn=!0),n.memoizedState=E,n.baseQueue===null&&(n.baseState=E),r.lastRenderedState=E}return[E,u]}function sd(e,n,r){var u=ut,m=gn(),E=St;if(E){if(r===void 0)throw Error(h(407));r=r()}else r=n();var T=!s((Lt||m).memoizedState,r);if(T&&(m.memoizedState=r,Sn=!0),m=m.queue,Ku(ud.bind(null,u,m,e),[e]),m.getSnapshot!==n||T||hn!==null&&hn.memoizedState.tag&1){if(u.flags|=2048,Es(9,ld.bind(null,u,m,r,n),{destroy:void 0},null),jt===null)throw Error(h(349));E||(Wi&60)!==0||od(u,n,r)}return r}function od(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=ut.updateQueue,n===null?(n=gl(),ut.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ld(e,n,r,u){n.value=r,n.getSnapshot=u,cd(n)&&fd(e)}function ud(e,n,r){return r(function(){cd(n)&&fd(e)})}function cd(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!s(e,r)}catch{return!0}}function fd(e){var n=qi(e,2);n!==null&&Qn(n,e,2)}function Zu(e){var n=Jn();if(typeof e=="function"){var r=e;if(e=r(),Ur){ht(!0);try{r()}finally{ht(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},n}function dd(e,n,r,u){return e.baseState=r,qu(e,Lt,typeof u=="function"?u:di)}function Ag(e,n,r,u,m){if(El(e))throw Error(h(485));if(e=n.action,e!==null){var E={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){E.listeners.push(T)}};q.T!==null?r(!0):E.isTransition=!1,u(E),r=n.pending,r===null?(E.next=n.pending=E,hd(n,E)):(E.next=r.next,n.pending=r.next=E)}}function hd(e,n){var r=n.action,u=n.payload,m=e.state;if(n.isTransition){var E=q.T,T={};q.T=T;try{var D=r(m,u),P=q.S;P!==null&&P(T,D),gd(e,n,D)}catch(Y){Wu(e,n,Y)}finally{q.T=E}}else try{E=r(m,u),gd(e,n,E)}catch(Y){Wu(e,n,Y)}}function gd(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){md(e,n,u)},function(u){return Wu(e,n,u)}):md(e,n,r)}function md(e,n,r){n.status="fulfilled",n.value=r,pd(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,hd(e,r)))}function Wu(e,n,r){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=r,pd(n),n=n.next;while(n!==u)}e.action=null}function pd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xd(e,n){return n}function yd(e,n){if(St){var r=jt.formState;if(r!==null){e:{var u=ut;if(St){if(_n){t:{for(var m=_n,E=Ya;m.nodeType!==8;){if(!E){m=null;break t}if(m=Ma(m.nextSibling),m===null){m=null;break t}}E=m.data,m=E==="F!"||E==="F"?m:null}if(m){_n=Ma(m.nextSibling),u=m.data==="F!";break e}}Lr(u)}u=!1}u&&(n=r[0])}}return r=Jn(),r.memoizedState=r.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:n},r.queue=u,r=kd.bind(null,ut,u),u.dispatch=r,u=Zu(!1),E=nc.bind(null,ut,!1,u.queue),u=Jn(),m={state:n,dispatch:null,action:e,pending:null},u.queue=m,r=Ag.bind(null,ut,m,E,r),m.dispatch=r,u.memoizedState=e,[n,r,!1]}function Ed(e){var n=gn();return Ad(n,Lt,e)}function Ad(e,n,r){n=qu(e,n,xd)[0],e=pl(di)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?lo(n):n;var u=gn(),m=u.queue,E=m.dispatch;return r!==u.memoizedState&&(ut.flags|=2048,Es(9,wg.bind(null,m,r),{destroy:void 0},null)),[n,E,e]}function wg(e,n){e.action=n}function wd(e){var n=gn(),r=Lt;if(r!==null)return Ad(n,r,e);gn(),n=n.memoizedState,r=gn();var u=r.queue.dispatch;return r.memoizedState=e,[n,u,!1]}function Es(e,n,r,u){return e={tag:e,create:n,inst:r,deps:u,next:null},n=ut.updateQueue,n===null&&(n=gl(),ut.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(u=r.next,r.next=e,e.next=u,n.lastEffect=e),e}function bd(){return gn().memoizedState}function xl(e,n,r,u){var m=Jn();ut.flags|=e,m.memoizedState=Es(1|n,r,{destroy:void 0},u===void 0?null:u)}function yl(e,n,r,u){var m=gn();u=u===void 0?null:u;var E=m.memoizedState.inst;Lt!==null&&u!==null&&ju(u,Lt.memoizedState.deps)?m.memoizedState=Es(n,r,E,u):(ut.flags|=e,m.memoizedState=Es(1|n,r,E,u))}function Cd(e,n){xl(8390656,8,e,n)}function Ku(e,n){yl(2048,8,e,n)}function Sd(e,n){return yl(4,2,e,n)}function vd(e,n){return yl(4,4,e,n)}function Td(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Nd(e,n,r){r=r!=null?r.concat([e]):null,yl(4,4,Td.bind(null,n,e),r)}function Ju(){}function Od(e,n){var r=gn();n=n===void 0?null:n;var u=r.memoizedState;return n!==null&&ju(n,u[1])?u[0]:(r.memoizedState=[e,n],e)}function Md(e,n){var r=gn();n=n===void 0?null:n;var u=r.memoizedState;if(n!==null&&ju(n,u[1]))return u[0];if(u=e(),Ur){ht(!0);try{e()}finally{ht(!1)}}return r.memoizedState=[u,n],u}function $u(e,n,r){return r===void 0||(Wi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=R1(),ut.lanes|=e,sr|=e,r)}function Id(e,n,r,u){return s(r,n)?r:gs.current!==null?(e=$u(e,r,u),s(e,n)||(Sn=!0),e):(Wi&42)===0?(Sn=!0,e.memoizedState=r):(e=R1(),ut.lanes|=e,sr|=e,n)}function Rd(e,n,r,u,m){var E=ue.p;ue.p=E!==0&&8>E?E:8;var T=q.T,D={};q.T=D,nc(e,!1,n,r);try{var P=m(),Y=q.S;if(Y!==null&&Y(D,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var de=xg(P,u);uo(e,n,de,ra(e))}else uo(e,n,u,ra(e))}catch(Ee){uo(e,n,{then:function(){},status:"rejected",reason:Ee},ra())}finally{ue.p=E,q.T=T}}function bg(){}function ec(e,n,r,u){if(e.tag!==5)throw Error(h(476));var m=Dd(e).queue;Rd(e,m,n,Me,r===null?bg:function(){return _d(e),r(u)})}function Dd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:Me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _d(e){var n=Dd(e).next.queue;uo(e,n,{},ra())}function tc(){return zn(Io)}function Ld(){return gn().memoizedState}function Bd(){return gn().memoizedState}function Cg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=ra();e=er(r);var u=tr(n,e,r);u!==null&&(Qn(u,n,r),ho(u,n,r)),n={cache:Pu()},e.payload=n;return}n=n.return}}function Sg(e,n,r){var u=ra();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},El(e)?Ud(n,r):(r=Ru(e,n,r,u),r!==null&&(Qn(r,e,u),Pd(r,n,u)))}function kd(e,n,r){var u=ra();uo(e,n,r,u)}function uo(e,n,r,u){var m={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(El(e))Ud(n,m);else{var E=e.alternate;if(e.lanes===0&&(E===null||E.lanes===0)&&(E=n.lastRenderedReducer,E!==null))try{var T=n.lastRenderedState,D=E(T,r);if(m.hasEagerState=!0,m.eagerState=D,s(D,T))return nl(e,n,m,0),jt===null&&tl(),!1}catch{}finally{}if(r=Ru(e,n,m,u),r!==null)return Qn(r,e,u),Pd(r,n,u),!0}return!1}function nc(e,n,r,u){if(u={lane:2,revertLane:Yc(),action:u,hasEagerState:!1,eagerState:null,next:null},El(e)){if(n)throw Error(h(479))}else n=Ru(e,r,u,2),n!==null&&Qn(n,e,2)}function El(e){var n=e.alternate;return e===ut||n!==null&&n===ut}function Ud(e,n){xs=dl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Pd(e,n,r){if((r&4194176)!==0){var u=n.lanes;u&=e.pendingLanes,r|=u,n.lanes=r,Kr(e,r)}}var qa={readContext:zn,use:ml,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un};qa.useCacheRefresh=un,qa.useMemoCache=un,qa.useHostTransitionStatus=un,qa.useFormState=un,qa.useActionState=un,qa.useOptimistic=un;var Pr={readContext:zn,use:ml,useCallback:function(e,n){return Jn().memoizedState=[e,n===void 0?null:n],e},useContext:zn,useEffect:Cd,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,xl(4194308,4,Td.bind(null,n,e),r)},useLayoutEffect:function(e,n){return xl(4194308,4,e,n)},useInsertionEffect:function(e,n){xl(4,2,e,n)},useMemo:function(e,n){var r=Jn();n=n===void 0?null:n;var u=e();if(Ur){ht(!0);try{e()}finally{ht(!1)}}return r.memoizedState=[u,n],u},useReducer:function(e,n,r){var u=Jn();if(r!==void 0){var m=r(n);if(Ur){ht(!0);try{r(n)}finally{ht(!1)}}}else m=n;return u.memoizedState=u.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},u.queue=e,e=e.dispatch=Sg.bind(null,ut,e),[u.memoizedState,e]},useRef:function(e){var n=Jn();return e={current:e},n.memoizedState=e},useState:function(e){e=Zu(e);var n=e.queue,r=kd.bind(null,ut,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ju,useDeferredValue:function(e,n){var r=Jn();return $u(r,e,n)},useTransition:function(){var e=Zu(!1);return e=Rd.bind(null,ut,e.queue,!0,!1),Jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var u=ut,m=Jn();if(St){if(r===void 0)throw Error(h(407));r=r()}else{if(r=n(),jt===null)throw Error(h(349));(Et&60)!==0||od(u,n,r)}m.memoizedState=r;var E={value:r,getSnapshot:n};return m.queue=E,Cd(ud.bind(null,u,E,e),[e]),u.flags|=2048,Es(9,ld.bind(null,u,E,r,n),{destroy:void 0},null),r},useId:function(){var e=Jn(),n=jt.identifierPrefix;if(St){var r=ci,u=ui;r=(u&~(1<<32-gt(u)-1)).toString(32)+r,n=":"+n+"R"+r,r=hl++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=yg++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return Jn().memoizedState=Cg.bind(null,ut)}};Pr.useMemoCache=Xu,Pr.useHostTransitionStatus=tc,Pr.useFormState=yd,Pr.useActionState=yd,Pr.useOptimistic=function(e){var n=Jn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=nc.bind(null,ut,!0,r),r.dispatch=n,[e,n]};var Ki={readContext:zn,use:ml,useCallback:Od,useContext:zn,useEffect:Ku,useImperativeHandle:Nd,useInsertionEffect:Sd,useLayoutEffect:vd,useMemo:Md,useReducer:pl,useRef:bd,useState:function(){return pl(di)},useDebugValue:Ju,useDeferredValue:function(e,n){var r=gn();return Id(r,Lt.memoizedState,e,n)},useTransition:function(){var e=pl(di)[0],n=gn().memoizedState;return[typeof e=="boolean"?e:lo(e),n]},useSyncExternalStore:sd,useId:Ld};Ki.useCacheRefresh=Bd,Ki.useMemoCache=Xu,Ki.useHostTransitionStatus=tc,Ki.useFormState=Ed,Ki.useActionState=Ed,Ki.useOptimistic=function(e,n){var r=gn();return dd(r,Lt,e,n)};var Fr={readContext:zn,use:ml,useCallback:Od,useContext:zn,useEffect:Ku,useImperativeHandle:Nd,useInsertionEffect:Sd,useLayoutEffect:vd,useMemo:Md,useReducer:Qu,useRef:bd,useState:function(){return Qu(di)},useDebugValue:Ju,useDeferredValue:function(e,n){var r=gn();return Lt===null?$u(r,e,n):Id(r,Lt.memoizedState,e,n)},useTransition:function(){var e=Qu(di)[0],n=gn().memoizedState;return[typeof e=="boolean"?e:lo(e),n]},useSyncExternalStore:sd,useId:Ld};Fr.useCacheRefresh=Bd,Fr.useMemoCache=Xu,Fr.useHostTransitionStatus=tc,Fr.useFormState=wd,Fr.useActionState=wd,Fr.useOptimistic=function(e,n){var r=gn();return Lt!==null?dd(r,Lt,e,n):(r.baseState=e,[e,r.queue.dispatch])};function ac(e,n,r,u){n=e.memoizedState,r=r(u,n),r=r==null?n:Re({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ic={isMounted:function(e){return(e=e._reactInternals)?ke(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var u=ra(),m=er(u);m.payload=n,r!=null&&(m.callback=r),n=tr(e,m,u),n!==null&&(Qn(n,e,u),ho(n,e,u))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var u=ra(),m=er(u);m.tag=1,m.payload=n,r!=null&&(m.callback=r),n=tr(e,m,u),n!==null&&(Qn(n,e,u),ho(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=ra(),u=er(r);u.tag=2,n!=null&&(u.callback=n),n=tr(e,u,r),n!==null&&(Qn(n,e,r),ho(n,e,r))}};function Fd(e,n,r,u,m,E,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,E,T):n.prototype&&n.prototype.isPureReactComponent?!o(r,u)||!o(m,E):!0}function zd(e,n,r,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,u),n.state!==e&&ic.enqueueReplaceState(n,n.state,null)}function zr(e,n){var r=n;if("ref"in n){r={};for(var u in n)u!=="ref"&&(r[u]=n[u])}if(e=e.defaultProps){r===n&&(r=Re({},r));for(var m in e)r[m]===void 0&&(r[m]=e[m])}return r}var Al=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jd(e){Al(e)}function Hd(e){console.error(e)}function Vd(e){Al(e)}function wl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Gd(e,n,r){try{var u=e.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rc(e,n,r){return r=er(r),r.tag=3,r.payload={element:null},r.callback=function(){wl(e,n)},r}function Yd(e){return e=er(e),e.tag=3,e}function Xd(e,n,r,u){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var E=u.value;e.payload=function(){return m(E)},e.callback=function(){Gd(n,r,u)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Gd(n,r,u),typeof m!="function"&&(or===null?or=new Set([this]):or.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function vg(e,n,r,u,m){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=r.alternate,n!==null&&fo(n,r,m,!0),r=pa.current,r!==null){switch(r.tag){case 13:return Xa===null?zc():r.alternate===null&&tn===0&&(tn=3),r.flags&=-257,r.flags|=65536,r.lanes=m,u===Bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([u]):n.add(u),Hc(e,u,m)),!1;case 22:return r.flags|=65536,u===Bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([u]):r.add(u)),Hc(e,u,m)),!1}throw Error(h(435,r.tag))}return Hc(e,u,m),zc(),!1}if(St)return n=pa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,u!==Lu&&(e=Error(h(422),{cause:u}),eo(ha(e,r)))):(u!==Lu&&(n=Error(h(423),{cause:u}),eo(ha(n,r))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,u=ha(u,r),m=rc(e.stateNode,u,m),Ac(e,m),tn!==4&&(tn=2)),!1;var E=Error(h(520),{cause:u});if(E=ha(E,r),wo===null?wo=[E]:wo.push(E),tn!==4&&(tn=2),n===null)return!0;u=ha(u,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=m&-m,r.lanes|=e,e=rc(r.stateNode,u,e),Ac(r,e),!1;case 1:if(n=r.type,E=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(or===null||!or.has(E))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Yd(m),Xd(m,e,r,u),Ac(r,m),!1}r=r.return}while(r!==null);return!1}var qd=Error(h(461)),Sn=!1;function Ln(e,n,r,u){n.child=e===null?Jf(n,null,r,u):Br(n,e.child,r,u)}function Qd(e,n,r,u,m){r=r.render;var E=n.ref;if("ref"in u){var T={};for(var D in u)D!=="ref"&&(T[D]=u[D])}else T=u;return Hr(n),u=Hu(e,n,r,T,E,m),D=Vu(),e!==null&&!Sn?(Gu(e,n,m),hi(e,n,m)):(St&&D&&Du(n),n.flags|=1,Ln(e,n,u,m),n.child)}function Zd(e,n,r,u,m){if(e===null){var E=r.type;return typeof E=="function"&&!Oc(E)&&E.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=E,Wd(e,n,E,u,m)):(e=Tl(r.type,null,u,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(E=e.child,!gc(e,m)){var T=E.memoizedProps;if(r=r.compare,r=r!==null?r:o,r(T,u)&&e.ref===n.ref)return hi(e,n,m)}return n.flags|=1,e=rr(E,u),e.ref=n.ref,e.return=n,n.child=e}function Wd(e,n,r,u,m){if(e!==null){var E=e.memoizedProps;if(o(E,u)&&e.ref===n.ref)if(Sn=!1,n.pendingProps=u=E,gc(e,m))(e.flags&131072)!==0&&(Sn=!0);else return n.lanes=e.lanes,hi(e,n,m)}return sc(e,n,r,u,m)}function Kd(e,n,r){var u=n.pendingProps,m=u.children,E=(n.stateNode._pendingVisibility&2)!==0,T=e!==null?e.memoizedState:null;if(co(e,n),u.mode==="hidden"||E){if((n.flags&128)!==0){if(u=T!==null?T.baseLanes|r:r,e!==null){for(m=n.child=e.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;n.childLanes=E&~u}else n.childLanes=0,n.child=null;return Jd(e,n,u,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fl(n,T!==null?T.cachePool:null),T!==null?$f(n,T):ku(),ed(n);else return n.lanes=n.childLanes=536870912,Jd(e,n,T!==null?T.baseLanes|r:r,r)}else T!==null?(fl(n,T.cachePool),$f(n,T),Zi(),n.memoizedState=null):(e!==null&&fl(n,null),ku(),Zi());return Ln(e,n,m,r),n.child}function Jd(e,n,r,u){var m=zu();return m=m===null?null:{parent:wn._currentValue,pool:m},n.memoizedState={baseLanes:r,cachePool:m},e!==null&&fl(n,null),ku(),ed(n),e!==null&&fo(e,n,u,!0),null}function co(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(h(284));(e===null||e.ref!==r)&&(n.flags|=2097664)}}function sc(e,n,r,u,m){return Hr(n),r=Hu(e,n,r,u,void 0,m),u=Vu(),e!==null&&!Sn?(Gu(e,n,m),hi(e,n,m)):(St&&u&&Du(n),n.flags|=1,Ln(e,n,r,m),n.child)}function $d(e,n,r,u,m,E){return Hr(n),n.updateQueue=null,r=rd(n,u,r,m),id(e),u=Vu(),e!==null&&!Sn?(Gu(e,n,E),hi(e,n,E)):(St&&u&&Du(n),n.flags|=1,Ln(e,n,r,E),n.child)}function e1(e,n,r,u,m){if(Hr(n),n.stateNode===null){var E=cs,T=r.contextType;typeof T=="object"&&T!==null&&(E=zn(T)),E=new r(u,E),n.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=ic,n.stateNode=E,E._reactInternals=n,E=n.stateNode,E.props=u,E.state=n.memoizedState,E.refs={},yc(n),T=r.contextType,E.context=typeof T=="object"&&T!==null?zn(T):cs,E.state=n.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(ac(n,r,T,u),E.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(T=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),T!==E.state&&ic.enqueueReplaceState(E,E.state,null),mo(n,u,E,m),go(),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){E=n.stateNode;var D=n.memoizedProps,P=zr(r,D);E.props=P;var Y=E.context,de=r.contextType;T=cs,typeof de=="object"&&de!==null&&(T=zn(de));var Ee=r.getDerivedStateFromProps;de=typeof Ee=="function"||typeof E.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,de||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D||Y!==T)&&zd(n,E,u,T),$i=!1;var ne=n.memoizedState;E.state=ne,mo(n,u,E,m),go(),Y=n.memoizedState,D||ne!==Y||$i?(typeof Ee=="function"&&(ac(n,r,Ee,u),Y=n.memoizedState),(P=$i||Fd(n,r,P,u,ne,Y,T))?(de||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=Y),E.props=u,E.state=Y,E.context=T,u=P):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{E=n.stateNode,Ec(e,n),T=n.memoizedProps,de=zr(r,T),E.props=de,Ee=n.pendingProps,ne=E.context,Y=r.contextType,P=cs,typeof Y=="object"&&Y!==null&&(P=zn(Y)),D=r.getDerivedStateFromProps,(Y=typeof D=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(T!==Ee||ne!==P)&&zd(n,E,u,P),$i=!1,ne=n.memoizedState,E.state=ne,mo(n,u,E,m),go();var ce=n.memoizedState;T!==Ee||ne!==ce||$i||e!==null&&e.dependencies!==null&&bl(e.dependencies)?(typeof D=="function"&&(ac(n,r,D,u),ce=n.memoizedState),(de=$i||Fd(n,r,de,u,ne,ce,P)||e!==null&&e.dependencies!==null&&bl(e.dependencies))?(Y||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(u,ce,P),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(u,ce,P)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||T===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=ce),E.props=u,E.state=ce,E.context=P,u=de):(typeof E.componentDidUpdate!="function"||T===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),u=!1)}return E=u,co(e,n),u=(n.flags&128)!==0,E||u?(E=n.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:E.render(),n.flags|=1,e!==null&&u?(n.child=Br(n,e.child,null,m),n.child=Br(n,null,r,m)):Ln(e,n,r,m),n.memoizedState=E.state,e=n.child):e=hi(e,n,m),e}function t1(e,n,r,u){return $s(),n.flags|=256,Ln(e,n,r,u),n.child}var oc={dehydrated:null,treeContext:null,retryLane:0};function lc(e){return{baseLanes:e,cachePool:ad()}}function uc(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Aa),e}function n1(e,n,r){var u=n.pendingProps,m=!1,E=(n.flags&128)!==0,T;if((T=E)||(T=e!==null&&e.memoizedState===null?!1:(An.current&2)!==0),T&&(m=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(St){if(m?Qi(n):Zi(),St){var D=_n,P;if(P=D){e:{for(P=D,D=Ya;P.nodeType!==8;){if(!D){D=null;break e}if(P=Ma(P.nextSibling),P===null){D=null;break e}}D=P}D!==null?(n.memoizedState={dehydrated:D,treeContext:Dr!==null?{id:ui,overflow:ci}:null,retryLane:536870912},P=Ea(18,null,null,0),P.stateNode=D,P.return=n,n.child=P,qn=n,_n=null,P=!0):P=!1}P||Lr(n)}if(D=n.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?n.lanes=16:n.lanes=536870912,null;fi(n)}return D=u.children,u=u.fallback,m?(Zi(),m=n.mode,D=fc({mode:"hidden",children:D},m),u=Gr(u,m,r,null),D.return=n,u.return=n,D.sibling=u,n.child=D,m=n.child,m.memoizedState=lc(r),m.childLanes=uc(e,T,r),n.memoizedState=oc,u):(Qi(n),cc(n,D))}if(P=e.memoizedState,P!==null&&(D=P.dehydrated,D!==null)){if(E)n.flags&256?(Qi(n),n.flags&=-257,n=dc(e,n,r)):n.memoizedState!==null?(Zi(),n.child=e.child,n.flags|=128,n=null):(Zi(),m=u.fallback,D=n.mode,u=fc({mode:"visible",children:u.children},D),m=Gr(m,D,r,null),m.flags|=2,u.return=n,m.return=n,u.sibling=m,n.child=u,Br(n,e.child,null,r),u=n.child,u.memoizedState=lc(r),u.childLanes=uc(e,T,r),n.memoizedState=oc,n=m);else if(Qi(n),D.data==="$!"){if(T=D.nextSibling&&D.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(h(419)),u.stack="",u.digest=T,eo({value:u,source:null,stack:null}),n=dc(e,n,r)}else if(Sn||fo(e,n,r,!1),T=(r&e.childLanes)!==0,Sn||T){if(T=jt,T!==null){if(u=r&-r,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(T.suspendedLanes|r))!==0?0:u,u!==0&&u!==P.retryLane)throw P.retryLane=u,qi(e,u),Qn(T,e,u),qd}D.data==="$?"||zc(),n=dc(e,n,r)}else D.data==="$?"?(n.flags|=128,n.child=e.child,n=zg.bind(null,e),D._reactRetry=n,n=null):(e=P.treeContext,_n=Ma(D.nextSibling),qn=n,St=!0,Na=null,Ya=!1,e!==null&&(ga[ma++]=ui,ga[ma++]=ci,ga[ma++]=Dr,ui=e.id,ci=e.overflow,Dr=n),n=cc(n,u.children),n.flags|=4096);return n}return m?(Zi(),m=u.fallback,D=n.mode,P=e.child,Y=P.sibling,u=rr(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&31457280,Y!==null?m=rr(Y,m):(m=Gr(m,D,r,null),m.flags|=2),m.return=n,u.return=n,u.sibling=m,n.child=u,u=m,m=n.child,D=e.child.memoizedState,D===null?D=lc(r):(P=D.cachePool,P!==null?(Y=wn._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=ad(),D={baseLanes:D.baseLanes|r,cachePool:P}),m.memoizedState=D,m.childLanes=uc(e,T,r),n.memoizedState=oc,u):(Qi(n),r=e.child,e=r.sibling,r=rr(r,{mode:"visible",children:u.children}),r.return=n,r.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=r,n.memoizedState=null,r)}function cc(e,n){return n=fc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function fc(e,n){return O1(e,n,0,null)}function dc(e,n,r){return Br(n,e.child,null,r),e=cc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function a1(e,n,r){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),pc(e.return,n,r)}function hc(e,n,r,u,m){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:m}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=r,E.tailMode=m)}function i1(e,n,r){var u=n.pendingProps,m=u.revealOrder,E=u.tail;if(Ln(e,n,u.children,r),u=An.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a1(e,r,n);else if(e.tag===19)a1(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(Ye(An,u),m){case"forwards":for(r=n.child,m=null;r!==null;)e=r.alternate,e!==null&&cl(e)===null&&(m=r),r=r.sibling;r=m,r===null?(m=n.child,n.child=null):(m=r.sibling,r.sibling=null),hc(n,!1,m,r,E);break;case"backwards":for(r=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&cl(e)===null){n.child=m;break}e=m.sibling,m.sibling=r,r=m,m=e}hc(n,!0,r,null,E);break;case"together":hc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function hi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),sr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(fo(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,r=rr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=rr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function gc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bl(e)))}function Tg(e,n,r){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Ji(n,wn,e.memoizedState.cache),$s();break;case 27:case 5:wt(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Ji(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Qi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?n1(e,n,r):(Qi(n),e=hi(e,n,r),e!==null?e.sibling:null);Qi(n);break;case 19:var m=(e.flags&128)!==0;if(u=(r&n.childLanes)!==0,u||(fo(e,n,r,!1),u=(r&n.childLanes)!==0),m){if(u)return i1(e,n,r);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ye(An,An.current),u)break;return null;case 22:case 23:return n.lanes=0,Kd(e,n,r);case 24:Ji(n,wn,e.memoizedState.cache)}return hi(e,n,r)}function r1(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Sn=!0;else{if(!gc(e,r)&&(n.flags&128)===0)return Sn=!1,Tg(e,n,r);Sn=(e.flags&131072)!==0}else Sn=!1,St&&(n.flags&1048576)!==0&&Vf(n,rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var u=n.elementType,m=u._init;if(u=m(u._payload),n.type=u,typeof u=="function")Oc(u)?(e=zr(u,e),n.tag=1,n=e1(null,n,u,e,r)):(n.tag=0,n=sc(null,n,u,e,r));else{if(u!=null){if(m=u.$$typeof,m===j){n.tag=11,n=Qd(null,n,u,e,r);break e}else if(m===K){n.tag=14,n=Zd(null,n,u,e,r);break e}}throw n=Oe(u)||u,Error(h(306,n,""))}}return n;case 0:return sc(e,n,n.type,n.pendingProps,r);case 1:return u=n.type,m=zr(u,n.pendingProps),e1(e,n,u,m,r);case 3:e:{if(Tt(n,n.stateNode.containerInfo),e===null)throw Error(h(387));var E=n.pendingProps;m=n.memoizedState,u=m.element,Ec(e,n),mo(n,E,null,r);var T=n.memoizedState;if(E=T.cache,Ji(n,wn,E),E!==m.cache&&xc(n,[wn],r,!0),go(),E=T.element,m.isDehydrated)if(m={element:E,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=t1(e,n,E,r);break e}else if(E!==u){u=ha(Error(h(424)),n),eo(u),n=t1(e,n,E,r);break e}else for(_n=Ma(n.stateNode.containerInfo.firstChild),qn=n,St=!0,Na=null,Ya=!0,r=Jf(n,null,E,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),E===u){n=hi(e,n,r);break e}Ln(e,n,E,r)}n=n.child}return n;case 26:return co(e,n),e===null?(r=l0(n.type,null,n.pendingProps,null))?n.memoizedState=r:St||(r=n.type,e=n.pendingProps,u=Pl(ze.current).createElement(r),u[Qt]=n,u[bn]=e,Bn(u,r,e),kt(u),n.stateNode=u):n.memoizedState=l0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return wt(n),e===null&&St&&(u=n.stateNode=r0(n.type,n.pendingProps,ze.current),qn=n,Ya=!0,_n=Ma(u.firstChild)),u=n.pendingProps.children,e!==null||St?Ln(e,n,u,r):n.child=Br(n,null,u,r),co(e,n),n.child;case 5:return e===null&&St&&((m=u=_n)&&(u=nm(u,n.type,n.pendingProps,Ya),u!==null?(n.stateNode=u,qn=n,_n=Ma(u.firstChild),Ya=!1,m=!0):m=!1),m||Lr(n)),wt(n),m=n.type,E=n.pendingProps,T=e!==null?e.memoizedProps:null,u=E.children,ef(m,E)?u=null:T!==null&&ef(m,T)&&(n.flags|=32),n.memoizedState!==null&&(m=Hu(e,n,Eg,null,null,r),Io._currentValue=m),co(e,n),Ln(e,n,u,r),n.child;case 6:return e===null&&St&&((e=r=_n)&&(r=am(r,n.pendingProps,Ya),r!==null?(n.stateNode=r,qn=n,_n=null,e=!0):e=!1),e||Lr(n)),null;case 13:return n1(e,n,r);case 4:return Tt(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Br(n,null,u,r):Ln(e,n,u,r),n.child;case 11:return Qd(e,n,n.type,n.pendingProps,r);case 7:return Ln(e,n,n.pendingProps,r),n.child;case 8:return Ln(e,n,n.pendingProps.children,r),n.child;case 12:return Ln(e,n,n.pendingProps.children,r),n.child;case 10:return u=n.pendingProps,Ji(n,n.type,u.value),Ln(e,n,u.children,r),n.child;case 9:return m=n.type._context,u=n.pendingProps.children,Hr(n),m=zn(m),u=u(m),n.flags|=1,Ln(e,n,u,r),n.child;case 14:return Zd(e,n,n.type,n.pendingProps,r);case 15:return Wd(e,n,n.type,n.pendingProps,r);case 19:return i1(e,n,r);case 22:return Kd(e,n,r);case 24:return Hr(n),u=zn(wn),e===null?(m=zu(),m===null&&(m=jt,E=Pu(),m.pooledCache=E,E.refCount++,E!==null&&(m.pooledCacheLanes|=r),m=E),n.memoizedState={parent:u,cache:m},yc(n),Ji(n,wn,m)):((e.lanes&r)!==0&&(Ec(e,n),mo(n,null,null,r),go()),m=e.memoizedState,E=n.memoizedState,m.parent!==u?(m={parent:u,cache:u},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Ji(n,wn,u)):(u=E.cache,Ji(n,wn,u),u!==m.cache&&xc(n,[wn],r,!0))),Ln(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(h(156,n.tag))}var mc=Ne(null),jr=null,gi=null;function Ji(e,n,r){Ye(mc,n._currentValue),n._currentValue=r}function mi(e){e._currentValue=mc.current,Ge(mc)}function pc(e,n,r){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===r)break;e=e.return}}function xc(e,n,r,u){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var E=m.dependencies;if(E!==null){var T=m.child;E=E.firstContext;e:for(;E!==null;){var D=E;E=m;for(var P=0;P<n.length;P++)if(D.context===n[P]){E.lanes|=r,D=E.alternate,D!==null&&(D.lanes|=r),pc(E.return,r,e),u||(T=null);break e}E=D.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(h(341));T.lanes|=r,E=T.alternate,E!==null&&(E.lanes|=r),pc(T,r,e),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===e){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function fo(e,n,r,u){e=null;for(var m=n,E=!1;m!==null;){if(!E){if((m.flags&524288)!==0)E=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(h(387));if(T=T.memoizedProps,T!==null){var D=m.type;s(m.pendingProps.value,T.value)||(e!==null?e.push(D):e=[D])}}else if(m===Je.current){if(T=m.alternate,T===null)throw Error(h(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Io):e=[Io])}m=m.return}e!==null&&xc(n,e,r,u),n.flags|=262144}function bl(e){for(e=e.firstContext;e!==null;){if(!s(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){jr=e,gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zn(e){return s1(jr,e)}function Cl(e,n){return jr===null&&Hr(e),s1(e,n)}function s1(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},gi===null){if(e===null)throw Error(h(308));gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else gi=gi.next=n;return r}var $i=!1;function yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ec(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,n,r){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var m=u.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),u.pending=n,n=al(e),jf(e,null,r),n}return nl(e,u,n,r),al(e)}function ho(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var u=n.lanes;u&=e.pendingLanes,r|=u,n.lanes=r,Kr(e,r)}}function Ac(e,n){var r=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var m=null,E=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};E===null?m=E=T:E=E.next=T,r=r.next}while(r!==null);E===null?m=E=n:E=E.next=n}else m=E=n;r={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:E,shared:u.shared,callbacks:u.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var wc=!1;function go(){if(wc){var e=ps;if(e!==null)throw e}}function mo(e,n,r,u){wc=!1;var m=e.updateQueue;$i=!1;var E=m.firstBaseUpdate,T=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var P=D,Y=P.next;P.next=null,T===null?E=Y:T.next=Y,T=P;var de=e.alternate;de!==null&&(de=de.updateQueue,D=de.lastBaseUpdate,D!==T&&(D===null?de.firstBaseUpdate=Y:D.next=Y,de.lastBaseUpdate=P))}if(E!==null){var Ee=m.baseState;T=0,de=Y=P=null,D=E;do{var ne=D.lane&-536870913,ce=ne!==D.lane;if(ce?(Et&ne)===ne:(u&ne)===ne){ne!==0&&ne===ms&&(wc=!0),de!==null&&(de=de.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Fe=e,tt=D;ne=n;var nn=r;switch(tt.tag){case 1:if(Fe=tt.payload,typeof Fe=="function"){Ee=Fe.call(nn,Ee,ne);break e}Ee=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=tt.payload,ne=typeof Fe=="function"?Fe.call(nn,Ee,ne):Fe,ne==null)break e;Ee=Re({},Ee,ne);break e;case 2:$i=!0}}ne=D.callback,ne!==null&&(e.flags|=64,ce&&(e.flags|=8192),ce=m.callbacks,ce===null?m.callbacks=[ne]:ce.push(ne))}else ce={lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},de===null?(Y=de=ce,P=Ee):de=de.next=ce,T|=ne;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ce=D,D=ce.next,ce.next=null,m.lastBaseUpdate=ce,m.shared.pending=null}}while(!0);de===null&&(P=Ee),m.baseState=P,m.firstBaseUpdate=Y,m.lastBaseUpdate=de,E===null&&(m.shared.lanes=0),sr|=T,e.lanes=T,e.memoizedState=Ee}}function o1(e,n){if(typeof e!="function")throw Error(h(191,e));e.call(n)}function l1(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)o1(r[e],n)}function po(e,n){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var m=u.next;r=m;do{if((r.tag&e)===e){u=void 0;var E=r.create,T=r.inst;u=E(),T.destroy=u}r=r.next}while(r!==m)}}catch(D){Ft(n,n.return,D)}}function nr(e,n,r){try{var u=n.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var E=m.next;u=E;do{if((u.tag&e)===e){var T=u.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,m=n;var P=r;try{D()}catch(Y){Ft(m,P,Y)}}}u=u.next}while(u!==E)}}catch(Y){Ft(n,n.return,Y)}}function u1(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{l1(n,r)}catch(u){Ft(e,e.return,u)}}}function c1(e,n,r){r.props=zr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(u){Ft(e,n,u)}}function Vr(e,n){try{var r=e.ref;if(r!==null){var u=e.stateNode;switch(e.tag){case 26:case 27:case 5:var m=u;break;default:m=u}typeof r=="function"?e.refCleanup=r(m):r.current=m}}catch(E){Ft(e,n,E)}}function na(e,n){var r=e.ref,u=e.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(m){Ft(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){Ft(e,n,m)}else r.current=null}function f1(e){var n=e.type,r=e.memoizedProps,u=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(m){Ft(e,e.return,m)}}function d1(e,n,r){try{var u=e.stateNode;Kg(u,e.type,r,n),u[bn]=n}catch(m){Ft(e,e.return,m)}}function h1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,n,r){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ul));else if(u!==4&&u!==27&&(e=e.child,e!==null))for(Cc(e,n,r),e=e.sibling;e!==null;)Cc(e,n,r),e=e.sibling}function Sl(e,n,r){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(u!==4&&u!==27&&(e=e.child,e!==null))for(Sl(e,n,r),e=e.sibling;e!==null;)Sl(e,n,r),e=e.sibling}var pi=!1,en=!1,Sc=!1,g1=typeof WeakSet=="function"?WeakSet:Set,vn=null,m1=!1;function Ng(e,n){if(e=e.containerInfo,Jc=Gl,e=A(e),C(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var m=u.anchorOffset,E=u.focusNode;u=u.focusOffset;try{r.nodeType,E.nodeType}catch{r=null;break e}var T=0,D=-1,P=-1,Y=0,de=0,Ee=e,ne=null;t:for(;;){for(var ce;Ee!==r||m!==0&&Ee.nodeType!==3||(D=T+m),Ee!==E||u!==0&&Ee.nodeType!==3||(P=T+u),Ee.nodeType===3&&(T+=Ee.nodeValue.length),(ce=Ee.firstChild)!==null;)ne=Ee,Ee=ce;for(;;){if(Ee===e)break t;if(ne===r&&++Y===m&&(D=T),ne===E&&++de===u&&(P=T),(ce=Ee.nextSibling)!==null)break;Ee=ne,ne=Ee.parentNode}Ee=ce}r=D===-1||P===-1?null:{start:D,end:P}}else r=null}r=r||{start:0,end:0}}else r=null;for($c={focusedElem:e,selectionRange:r},Gl=!1,vn=n;vn!==null;)if(n=vn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,vn=e;else for(;vn!==null;){switch(n=vn,E=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&E!==null){e=void 0,r=n,m=E.memoizedProps,E=E.memoizedState,u=r.stateNode;try{var Fe=zr(r.type,m,r.elementType===r.type);e=u.getSnapshotBeforeUpdate(Fe,E),u.__reactInternalSnapshotBeforeUpdate=e}catch(tt){Ft(r,r.return,tt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)af(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(h(163))}if(e=n.sibling,e!==null){e.return=n.return,vn=e;break}vn=n.return}return Fe=m1,m1=!1,Fe}function p1(e,n,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:yi(e,r),u&4&&po(5,r);break;case 1:if(yi(e,r),u&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(D){Ft(r,r.return,D)}else{var m=zr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(D){Ft(r,r.return,D)}}u&64&&u1(r),u&512&&Vr(r,r.return);break;case 3:if(yi(e,r),u&64&&(u=r.updateQueue,u!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{l1(u,e)}catch(D){Ft(r,r.return,D)}}break;case 26:yi(e,r),u&512&&Vr(r,r.return);break;case 27:case 5:yi(e,r),n===null&&u&4&&f1(r),u&512&&Vr(r,r.return);break;case 12:yi(e,r);break;case 13:yi(e,r),u&4&&E1(e,r);break;case 22:if(m=r.memoizedState!==null||pi,!m){n=n!==null&&n.memoizedState!==null||en;var E=pi,T=en;pi=m,(en=n)&&!T?ar(e,r,(r.subtreeFlags&8772)!==0):yi(e,r),pi=E,en=T}u&512&&(r.memoizedProps.mode==="manual"?Vr(r,r.return):na(r,r.return));break;default:yi(e,r)}}function x1(e){var n=e.alternate;n!==null&&(e.alternate=null,x1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mn=null,aa=!1;function xi(e,n,r){for(r=r.child;r!==null;)y1(e,n,r),r=r.sibling}function y1(e,n,r){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(_t,r)}catch{}switch(r.tag){case 26:en||na(r,n),xi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:en||na(r,n);var u=mn,m=aa;for(mn=r.stateNode,xi(e,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Gs(r),mn=u,aa=m;break;case 5:en||na(r,n);case 6:m=mn;var E=aa;if(mn=null,xi(e,n,r),mn=m,aa=E,mn!==null)if(aa)try{e=mn,u=r.stateNode,e.nodeType===8?e.parentNode.removeChild(u):e.removeChild(u)}catch(T){Ft(r,n,T)}else try{mn.removeChild(r.stateNode)}catch(T){Ft(r,n,T)}break;case 18:mn!==null&&(aa?(n=mn,r=r.stateNode,n.nodeType===8?nf(n.parentNode,r):n.nodeType===1&&nf(n,r),Lo(n)):nf(mn,r.stateNode));break;case 4:u=mn,m=aa,mn=r.stateNode.containerInfo,aa=!0,xi(e,n,r),mn=u,aa=m;break;case 0:case 11:case 14:case 15:en||nr(2,r,n),en||nr(4,r,n),xi(e,n,r);break;case 1:en||(na(r,n),u=r.stateNode,typeof u.componentWillUnmount=="function"&&c1(r,n,u)),xi(e,n,r);break;case 21:xi(e,n,r);break;case 22:en||na(r,n),en=(u=en)||r.memoizedState!==null,xi(e,n,r),en=u;break;default:xi(e,n,r)}}function E1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Lo(e)}catch(r){Ft(n,n.return,r)}}function Og(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new g1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new g1),n;default:throw Error(h(435,e.tag))}}function vc(e,n){var r=Og(e);n.forEach(function(u){var m=jg.bind(null,e,u);r.has(u)||(r.add(u),u.then(m,m))})}function xa(e,n){var r=n.deletions;if(r!==null)for(var u=0;u<r.length;u++){var m=r[u],E=e,T=n,D=T;e:for(;D!==null;){switch(D.tag){case 27:case 5:mn=D.stateNode,aa=!1;break e;case 3:mn=D.stateNode.containerInfo,aa=!0;break e;case 4:mn=D.stateNode.containerInfo,aa=!0;break e}D=D.return}if(mn===null)throw Error(h(160));y1(E,T,m),mn=null,aa=!1,E=m.alternate,E!==null&&(E.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)A1(n,e),n=n.sibling}var Oa=null;function A1(e,n){var r=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xa(n,e),ya(e),u&4&&(nr(3,e,e.return),po(3,e),nr(5,e,e.return));break;case 1:xa(n,e),ya(e),u&512&&(en||r===null||na(r,r.return)),u&64&&pi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var m=Oa;if(xa(n,e),ya(e),u&512&&(en||r===null||na(r,r.return)),u&4){var E=r!==null?r.memoizedState:null;if(u=e.memoizedState,r===null)if(u===null)if(e.stateNode===null){e:{u=e.type,r=e.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":E=m.getElementsByTagName("title")[0],(!E||E[wr]||E[Qt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=m.createElement(u),m.head.insertBefore(E,m.querySelector("head > title"))),Bn(E,u,r),E[Qt]=e,kt(E),u=E;break e;case"link":var T=f0("link","href",m).get(u+(r.href||""));if(T){for(var D=0;D<T.length;D++)if(E=T[D],E.getAttribute("href")===(r.href==null?null:r.href)&&E.getAttribute("rel")===(r.rel==null?null:r.rel)&&E.getAttribute("title")===(r.title==null?null:r.title)&&E.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(D,1);break t}}E=m.createElement(u),Bn(E,u,r),m.head.appendChild(E);break;case"meta":if(T=f0("meta","content",m).get(u+(r.content||""))){for(D=0;D<T.length;D++)if(E=T[D],E.getAttribute("content")===(r.content==null?null:""+r.content)&&E.getAttribute("name")===(r.name==null?null:r.name)&&E.getAttribute("property")===(r.property==null?null:r.property)&&E.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&E.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(D,1);break t}}E=m.createElement(u),Bn(E,u,r),m.head.appendChild(E);break;default:throw Error(h(468,u))}E[Qt]=e,kt(E),u=E}e.stateNode=u}else d0(m,e.type,e.stateNode);else e.stateNode=c0(m,u,e.memoizedProps);else E!==u?(E===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):E.count--,u===null?d0(m,e.type,e.stateNode):c0(m,u,e.memoizedProps)):u===null&&e.stateNode!==null&&d1(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(u&4&&e.alternate===null){m=e.stateNode,E=e.memoizedProps;try{for(var P=m.firstChild;P;){var Y=P.nextSibling,de=P.nodeName;P[wr]||de==="HEAD"||de==="BODY"||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&P.rel.toLowerCase()==="stylesheet"||m.removeChild(P),P=Y}for(var Ee=e.type,ne=m.attributes;ne.length;)m.removeAttributeNode(ne[0]);Bn(m,Ee,E),m[Qt]=e,m[bn]=E}catch(Fe){Ft(e,e.return,Fe)}}case 5:if(xa(n,e),ya(e),u&512&&(en||r===null||na(r,r.return)),e.flags&32){m=e.stateNode;try{_i(m,"")}catch(Fe){Ft(e,e.return,Fe)}}u&4&&e.stateNode!=null&&(m=e.memoizedProps,d1(e,m,r!==null?r.memoizedProps:m)),u&1024&&(Sc=!0);break;case 6:if(xa(n,e),ya(e),u&4){if(e.stateNode===null)throw Error(h(162));u=e.memoizedProps,r=e.stateNode;try{r.nodeValue=u}catch(Fe){Ft(e,e.return,Fe)}}break;case 3:if(jl=null,m=Oa,Oa=Fl(n.containerInfo),xa(n,e),Oa=m,ya(e),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Lo(n.containerInfo)}catch(Fe){Ft(e,e.return,Fe)}Sc&&(Sc=!1,w1(e));break;case 4:u=Oa,Oa=Fl(e.stateNode.containerInfo),xa(n,e),ya(e),Oa=u;break;case 12:xa(n,e),ya(e);break;case 13:xa(n,e),ya(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Lc=qt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,vc(e,u)));break;case 22:if(u&512&&(en||r===null||na(r,r.return)),P=e.memoizedState!==null,Y=r!==null&&r.memoizedState!==null,de=pi,Ee=en,pi=de||P,en=Ee||Y,xa(n,e),en=Ee,pi=de,ya(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,u&8192&&(n._visibility=P?n._visibility&-2:n._visibility|1,P&&(n=pi||en,r===null||Y||n||As(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(r=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){Y=r=n;try{if(m=Y.stateNode,P)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=Y.stateNode,D=Y.memoizedProps.style;var ce=D!=null&&D.hasOwnProperty("display")?D.display:null;T.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Fe){Ft(Y,Y.return,Fe)}}}else if(n.tag===6){if(r===null){Y=n;try{Y.stateNode.nodeValue=P?"":Y.memoizedProps}catch(Fe){Ft(Y,Y.return,Fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,vc(e,r))));break;case 19:xa(n,e),ya(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,vc(e,u)));break;case 21:break;default:xa(n,e),ya(e)}}function ya(e){var n=e.flags;if(n&2){try{if(e.tag!==27){e:{for(var r=e.return;r!==null;){if(h1(r)){var u=r;break e}r=r.return}throw Error(h(160))}switch(u.tag){case 27:var m=u.stateNode,E=bc(e);Sl(e,E,m);break;case 5:var T=u.stateNode;u.flags&32&&(_i(T,""),u.flags&=-33);var D=bc(e);Sl(e,D,T);break;case 3:case 4:var P=u.stateNode.containerInfo,Y=bc(e);Cc(e,Y,P);break;default:throw Error(h(161))}}}catch(de){Ft(e,e.return,de)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function w1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;w1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)p1(e,n.alternate,n),n=n.sibling}function As(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),As(n);break;case 1:na(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&c1(n,n.return,r),As(n);break;case 26:case 27:case 5:na(n,n.return),As(n);break;case 22:na(n,n.return),n.memoizedState===null&&As(n);break;default:As(n)}e=e.sibling}}function ar(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,m=e,E=n,T=E.flags;switch(E.tag){case 0:case 11:case 15:ar(m,E,r),po(4,E);break;case 1:if(ar(m,E,r),u=E,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){Ft(u,u.return,Y)}if(u=E,m=u.updateQueue,m!==null){var D=u.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)o1(P[m],D)}catch(Y){Ft(u,u.return,Y)}}r&&T&64&&u1(E),Vr(E,E.return);break;case 26:case 27:case 5:ar(m,E,r),r&&u===null&&T&4&&f1(E),Vr(E,E.return);break;case 12:ar(m,E,r);break;case 13:ar(m,E,r),r&&T&4&&E1(m,E);break;case 22:E.memoizedState===null&&ar(m,E,r),Vr(E,E.return);break;default:ar(m,E,r)}n=n.sibling}}function Tc(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ro(r))}function Nc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ro(e))}function ir(e,n,r,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)b1(e,n,r,u),n=n.sibling}function b1(e,n,r,u){var m=n.flags;switch(n.tag){case 0:case 11:case 15:ir(e,n,r,u),m&2048&&po(9,n);break;case 3:ir(e,n,r,u),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ro(e)));break;case 12:if(m&2048){ir(e,n,r,u),e=n.stateNode;try{var E=n.memoizedProps,T=E.id,D=E.onPostCommit;typeof D=="function"&&D(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){Ft(n,n.return,P)}}else ir(e,n,r,u);break;case 23:break;case 22:E=n.stateNode,n.memoizedState!==null?E._visibility&4?ir(e,n,r,u):xo(e,n):E._visibility&4?ir(e,n,r,u):(E._visibility|=4,ws(e,n,r,u,(n.subtreeFlags&10256)!==0)),m&2048&&Tc(n.alternate,n);break;case 24:ir(e,n,r,u),m&2048&&Nc(n.alternate,n);break;default:ir(e,n,r,u)}}function ws(e,n,r,u,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var E=e,T=n,D=r,P=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:ws(E,T,D,P,m),po(8,T);break;case 23:break;case 22:var de=T.stateNode;T.memoizedState!==null?de._visibility&4?ws(E,T,D,P,m):xo(E,T):(de._visibility|=4,ws(E,T,D,P,m)),m&&Y&2048&&Tc(T.alternate,T);break;case 24:ws(E,T,D,P,m),m&&Y&2048&&Nc(T.alternate,T);break;default:ws(E,T,D,P,m)}n=n.sibling}}function xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,u=n,m=u.flags;switch(u.tag){case 22:xo(r,u),m&2048&&Tc(u.alternate,u);break;case 24:xo(r,u),m&2048&&Nc(u.alternate,u);break;default:xo(r,u)}n=n.sibling}}var yo=8192;function bs(e){if(e.subtreeFlags&yo)for(e=e.child;e!==null;)C1(e),e=e.sibling}function C1(e){switch(e.tag){case 26:bs(e),e.flags&yo&&e.memoizedState!==null&&pm(Oa,e.memoizedState,e.memoizedProps);break;case 5:bs(e);break;case 3:case 4:var n=Oa;Oa=Fl(e.stateNode.containerInfo),bs(e),Oa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=yo,yo=16777216,bs(e),yo=n):bs(e));break;default:bs(e)}}function S1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var u=n[r];vn=u,T1(u,e)}S1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)v1(e),e=e.sibling}function v1(e){switch(e.tag){case 0:case 11:case 15:Eo(e),e.flags&2048&&nr(9,e,e.return);break;case 3:Eo(e);break;case 12:Eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,vl(e)):Eo(e);break;default:Eo(e)}}function vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var u=n[r];vn=u,T1(u,e)}S1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:nr(8,n,n.return),vl(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,vl(n));break;default:vl(n)}e=e.sibling}}function T1(e,n){for(;vn!==null;){var r=vn;switch(r.tag){case 0:case 11:case 15:nr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ro(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,vn=u;else e:for(r=e;vn!==null;){u=vn;var m=u.sibling,E=u.return;if(x1(u),u===r){vn=null;break e}if(m!==null){m.return=E,vn=m;break e}vn=E}}}function Mg(e,n,r,u){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(e,n,r,u){return new Mg(e,n,r,u)}function Oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rr(e,n){var r=e.alternate;return r===null?(r=Ea(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&31457280,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function N1(e,n){e.flags&=31457282;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Tl(e,n,r,u,m,E){var T=0;if(u=e,typeof e=="function")Oc(e)&&(T=1);else if(typeof e=="string")T=gm(e,r,Qe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case S:return Gr(r.children,m,E,n);case w:T=8,m|=24;break;case M:return e=Ea(12,r,n,m|2),e.elementType=M,e.lanes=E,e;case Q:return e=Ea(13,r,n,m),e.elementType=Q,e.lanes=E,e;case V:return e=Ea(19,r,n,m),e.elementType=V,e.lanes=E,e;case ae:return O1(r,m,E,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:case F:T=10;break e;case U:T=9;break e;case j:T=11;break e;case K:T=14;break e;case ie:T=16,u=null;break e}T=29,r=Error(h(130,e===null?"null":typeof e,"")),u=null}return n=Ea(T,r,n,m),n.elementType=e,n.type=u,n.lanes=E,n}function Gr(e,n,r,u){return e=Ea(7,e,u,n),e.lanes=r,e}function O1(e,n,r,u){e=Ea(22,e,u,n),e.elementType=ae,e.lanes=r;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var E=m._current;if(E===null)throw Error(h(456));if((m._pendingVisibility&2)===0){var T=qi(E,2);T!==null&&(m._pendingVisibility|=2,Qn(T,E,2))}},attach:function(){var E=m._current;if(E===null)throw Error(h(456));if((m._pendingVisibility&2)!==0){var T=qi(E,2);T!==null&&(m._pendingVisibility&=-3,Qn(T,E,2))}}};return e.stateNode=m,e}function Mc(e,n,r){return e=Ea(6,e,null,n),e.lanes=r,e}function Ic(e,n,r){return n=Ea(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ei(e){e.flags|=4}function M1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!h0(n)){if(n=pa.current,n!==null&&((Et&4194176)===Et?Xa!==null:(Et&62914560)!==Et&&(Et&536870912)===0||n!==Xa))throw no=Bu,Xf;e.flags|=8192}}function Nl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ti():536870912,e.lanes|=n,Ss|=n)}function Ao(e,n){if(!St)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,u=0;if(n)for(var m=e.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags&31457280,u|=m.flags&31457280,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=u,e.childLanes=r,n}function Ig(e,n,r){var u=n.pendingProps;switch(_u(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return r=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),mi(wn),Yt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Js(n)?Ei(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Na!==null&&(Pc(Na),Na=null))),Wt(n),null;case 26:return r=n.memoizedState,e===null?(Ei(n),r!==null?(Wt(n),M1(n,r)):(Wt(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Ei(n),Wt(n),M1(n,r)):(Wt(n),n.flags&=-16777217):(e.memoizedProps!==u&&Ei(n),Wt(n),n.flags&=-16777217),null;case 27:nt(n),r=ze.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Ei(n);else{if(!u){if(n.stateNode===null)throw Error(h(166));return Wt(n),null}e=Qe.current,Js(n)?Gf(n):(e=r0(m,u,r),n.stateNode=e,Ei(n))}return Wt(n),null;case 5:if(nt(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Ei(n);else{if(!u){if(n.stateNode===null)throw Error(h(166));return Wt(n),null}if(e=Qe.current,Js(n))Gf(n);else{switch(m=Pl(ze.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?m.createElement(r,{is:u.is}):m.createElement(r)}}e[Qt]=n,e[bn]=u;e:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;e:switch(Bn(e,r,u),r){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ei(n)}}return Wt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&Ei(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(h(166));if(e=ze.current,Js(n)){if(e=n.stateNode,r=n.memoizedProps,u=null,m=qn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}e[Qt]=n,e=!!(e.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||$1(e.nodeValue,r)),e||Lr(n)}else e=Pl(e).createTextNode(u),e[Qt]=n,n.stateNode=e}return Wt(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Js(n),u!==null&&u.dehydrated!==null){if(e===null){if(!m)throw Error(h(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(h(317));m[Qt]=n}else $s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),m=!1}else Na!==null&&(Pc(Na),Na=null),m=!0;if(!m)return n.flags&256?(fi(n),n):(fi(n),null)}if(fi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=u!==null,e=e!==null&&e.memoizedState!==null,r){u=n.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var E=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(E=u.memoizedState.cachePool.pool),E!==m&&(u.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Nl(n,n.updateQueue),Wt(n),null;case 4:return Yt(),e===null&&Zc(n.stateNode.containerInfo),Wt(n),null;case 10:return mi(n.type),Wt(n),null;case 19:if(Ge(An),m=n.memoizedState,m===null)return Wt(n),null;if(u=(n.flags&128)!==0,E=m.rendering,E===null)if(u)Ao(m,!1);else{if(tn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(E=cl(e),E!==null){for(n.flags|=128,Ao(m,!1),e=E.updateQueue,n.updateQueue=e,Nl(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)N1(r,e),r=r.sibling;return Ye(An,An.current&1|2),n.child}e=e.sibling}m.tail!==null&&qt()>Ol&&(n.flags|=128,u=!0,Ao(m,!1),n.lanes=4194304)}else{if(!u)if(e=cl(E),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Nl(n,e),Ao(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!St)return Wt(n),null}else 2*qt()-m.renderingStartTime>Ol&&r!==536870912&&(n.flags|=128,u=!0,Ao(m,!1),n.lanes=4194304);m.isBackwards?(E.sibling=n.child,n.child=E):(e=m.last,e!==null?e.sibling=E:n.child=E,m.last=E)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=qt(),n.sibling=null,e=An.current,Ye(An,u?e&1|2:e&1),n):(Wt(n),null);case 22:case 23:return fi(n),Uu(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(r&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),r=n.updateQueue,r!==null&&Nl(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==r&&(n.flags|=2048),e!==null&&Ge(kr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),mi(wn),Wt(n),null;case 25:return null}throw Error(h(156,n.tag))}function Rg(e,n){switch(_u(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return mi(wn),Yt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return nt(n),null;case 13:if(fi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));$s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ge(An),null;case 4:return Yt(),null;case 10:return mi(n.type),null;case 22:case 23:return fi(n),Uu(),e!==null&&Ge(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return mi(wn),null;case 25:return null;default:return null}}function I1(e,n){switch(_u(n),n.tag){case 3:mi(wn),Yt();break;case 26:case 27:case 5:nt(n);break;case 4:Yt();break;case 13:fi(n);break;case 19:Ge(An);break;case 10:mi(n.type);break;case 22:case 23:fi(n),Uu(),e!==null&&Ge(kr);break;case 24:mi(wn)}}var Dg={getCacheForType:function(e){var n=zn(wn),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},_g=typeof WeakMap=="function"?WeakMap:Map,Kt=0,jt=null,dt=null,Et=0,Ht=0,ia=null,Ai=!1,Cs=!1,Rc=!1,wi=0,tn=0,sr=0,Yr=0,Dc=0,Aa=0,Ss=0,wo=null,Qa=null,_c=!1,Lc=0,Ol=1/0,Ml=null,or=null,Il=!1,Xr=null,bo=0,Bc=0,kc=null,Co=0,Uc=null;function ra(){if((Kt&2)!==0&&Et!==0)return Et&-Et;if(q.T!==null){var e=ms;return e!==0?e:Yc()}return ka()}function R1(){Aa===0&&(Aa=(Et&536870912)===0||St?xn():536870912);var e=pa.current;return e!==null&&(e.flags|=32),Aa}function Qn(e,n,r){(e===jt&&Ht===2||e.cancelPendingCommit!==null)&&(vs(e,0),bi(e,Et,Aa,!1)),kn(e,r),((Kt&2)===0||e!==jt)&&(e===jt&&((Kt&2)===0&&(Yr|=r),tn===4&&bi(e,Et,Aa,!1)),Za(e))}function D1(e,n,r){if((Kt&6)!==0)throw Error(h(327));var u=!r&&(n&60)===0&&(n&e.expiredLanes)===0||Mn(e,n),m=u?kg(e,n):jc(e,n,!0),E=u;do{if(m===0){Cs&&!u&&bi(e,n,0,!1);break}else if(m===6)bi(e,n,0,!Ai);else{if(r=e.current.alternate,E&&!Lg(r)){m=jc(e,n,!1),E=!1;continue}if(m===2){if(E=n,e.errorRecoveryDisabledLanes&E)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var D=e;m=wo;var P=D.current.memoizedState.isDehydrated;if(P&&(vs(D,T).flags|=256),T=jc(D,T,!1),T!==2){if(Rc&&!P){D.errorRecoveryDisabledLanes|=E,Yr|=E,m=4;break e}E=Qa,Qa=m,E!==null&&Pc(E)}m=T}if(E=!1,m!==2)continue}}if(m===1){vs(e,0),bi(e,n,0,!0);break}e:{switch(u=e,m){case 0:case 1:throw Error(h(345));case 4:if((n&4194176)===n){bi(u,n,Aa,!Ai);break e}break;case 2:Qa=null;break;case 3:case 5:break;default:throw Error(h(329))}if(u.finishedWork=r,u.finishedLanes=n,(n&62914560)===n&&(E=Lc+300-qt(),10<E)){if(bi(u,n,Aa,!Ai),Ar(u,0)!==0)break e;u.timeoutHandle=n0(_1.bind(null,u,r,Qa,Ml,_c,n,Aa,Yr,Ss,Ai,2,-0,0),E);break e}_1(u,r,Qa,Ml,_c,n,Aa,Yr,Ss,Ai,0,-0,0)}}break}while(!0);Za(e)}function Pc(e){Qa===null?Qa=e:Qa.push.apply(Qa,e)}function _1(e,n,r,u,m,E,T,D,P,Y,de,Ee,ne){var ce=n.subtreeFlags;if((ce&8192||(ce&16785408)===16785408)&&(Mo={stylesheets:null,count:0,unsuspend:mm},C1(n),n=xm(),n!==null)){e.cancelPendingCommit=n(z1.bind(null,e,r,u,m,T,D,P,1,Ee,ne)),bi(e,E,T,!Y);return}z1(e,r,u,m,T,D,P,de,Ee,ne)}function Lg(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var m=r[u],E=m.getSnapshot;m=m.value;try{if(!s(E(),m))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bi(e,n,r,u){n&=~Dc,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var m=n;0<m;){var E=31-gt(m),T=1<<E;u[E]=-1,m&=~T}r!==0&&Ba(e,r,n)}function Rl(){return(Kt&6)===0?(So(0),!1):!0}function Fc(){if(dt!==null){if(Ht===0)var e=dt.return;else e=dt,gi=jr=null,Yu(e),hs=null,ao=0,e=dt;for(;e!==null;)I1(e.alternate,e),e=e.return;dt=null}}function vs(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,$g(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fc(),jt=e,dt=r=rr(e.current,null),Et=n,Ht=0,ia=null,Ai=!1,Cs=Mn(e,n),Rc=!1,Ss=Aa=Dc=Yr=sr=tn=0,Qa=wo=null,_c=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var m=31-gt(u),E=1<<m;n|=e[m],u&=~E}return wi=n,tl(),r}function L1(e,n){ut=null,q.H=qa,n===to?(n=Zf(),Ht=3):n===Xf?(n=Zf(),Ht=4):Ht=n===qd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ia=n,dt===null&&(tn=1,wl(e,ha(n,e.current)))}function B1(){var e=q.H;return q.H=qa,e===null?qa:e}function k1(){var e=q.A;return q.A=Dg,e}function zc(){tn=4,Ai||(Et&4194176)!==Et&&pa.current!==null||(Cs=!0),(sr&134217727)===0&&(Yr&134217727)===0||jt===null||bi(jt,Et,Aa,!1)}function jc(e,n,r){var u=Kt;Kt|=2;var m=B1(),E=k1();(jt!==e||Et!==n)&&(Ml=null,vs(e,n)),n=!1;var T=tn;e:do try{if(Ht!==0&&dt!==null){var D=dt,P=ia;switch(Ht){case 8:Fc(),T=6;break e;case 3:case 2:case 6:pa.current===null&&(n=!0);var Y=Ht;if(Ht=0,ia=null,Ts(e,D,P,Y),r&&Cs){T=0;break e}break;default:Y=Ht,Ht=0,ia=null,Ts(e,D,P,Y)}}Bg(),T=tn;break}catch(de){L1(e,de)}while(!0);return n&&e.shellSuspendCounter++,gi=jr=null,Kt=u,q.H=m,q.A=E,dt===null&&(jt=null,Et=0,tl()),T}function Bg(){for(;dt!==null;)U1(dt)}function kg(e,n){var r=Kt;Kt|=2;var u=B1(),m=k1();jt!==e||Et!==n?(Ml=null,Ol=qt()+500,vs(e,n)):Cs=Mn(e,n);e:do try{if(Ht!==0&&dt!==null){n=dt;var E=ia;t:switch(Ht){case 1:Ht=0,ia=null,Ts(e,n,E,1);break;case 2:if(qf(E)){Ht=0,ia=null,P1(n);break}n=function(){Ht===2&&jt===e&&(Ht=7),Za(e)},E.then(n,n);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:qf(E)?(Ht=0,ia=null,P1(n)):(Ht=0,ia=null,Ts(e,n,E,7));break;case 5:var T=null;switch(dt.tag){case 26:T=dt.memoizedState;case 5:case 27:var D=dt;if(!T||h0(T)){Ht=0,ia=null;var P=D.sibling;if(P!==null)dt=P;else{var Y=D.return;Y!==null?(dt=Y,Dl(Y)):dt=null}break t}}Ht=0,ia=null,Ts(e,n,E,5);break;case 6:Ht=0,ia=null,Ts(e,n,E,6);break;case 8:Fc(),tn=6;break e;default:throw Error(h(462))}}Ug();break}catch(de){L1(e,de)}while(!0);return gi=jr=null,q.H=u,q.A=m,Kt=r,dt!==null?0:(jt=null,Et=0,tl(),tn)}function Ug(){for(;dt!==null&&!Ni();)U1(dt)}function U1(e){var n=r1(e.alternate,e,wi);e.memoizedProps=e.pendingProps,n===null?Dl(e):dt=n}function P1(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=$d(r,n,n.pendingProps,n.type,void 0,Et);break;case 11:n=$d(r,n,n.pendingProps,n.type.render,n.ref,Et);break;case 5:Yu(n);default:I1(r,n),n=dt=N1(n,wi),n=r1(r,n,wi)}e.memoizedProps=e.pendingProps,n===null?Dl(e):dt=n}function Ts(e,n,r,u){gi=jr=null,Yu(n),hs=null,ao=0;var m=n.return;try{if(vg(e,m,n,r,Et)){tn=1,wl(e,ha(r,e.current)),dt=null;return}}catch(E){if(m!==null)throw dt=m,E;tn=1,wl(e,ha(r,e.current)),dt=null;return}n.flags&32768?(St||u===1?e=!0:Cs||(Et&536870912)!==0?e=!1:(Ai=e=!0,(u===2||u===3||u===6)&&(u=pa.current,u!==null&&u.tag===13&&(u.flags|=16384))),F1(n,e)):Dl(n)}function Dl(e){var n=e;do{if((n.flags&32768)!==0){F1(n,Ai);return}e=n.return;var r=Ig(n.alternate,n,wi);if(r!==null){dt=r;return}if(n=n.sibling,n!==null){dt=n;return}dt=n=e}while(n!==null);tn===0&&(tn=5)}function F1(e,n){do{var r=Rg(e.alternate,e);if(r!==null){r.flags&=32767,dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){dt=e;return}dt=e=r}while(e!==null);tn=6,dt=null}function z1(e,n,r,u,m,E,T,D,P,Y){var de=q.T,Ee=ue.p;try{ue.p=2,q.T=null,Pg(e,n,r,u,Ee,m,E,T,D,P,Y)}finally{q.T=de,ue.p=Ee}}function Pg(e,n,r,u,m,E,T,D){do Ns();while(Xr!==null);if((Kt&6)!==0)throw Error(h(327));var P=e.finishedWork;if(u=e.finishedLanes,P===null)return null;if(e.finishedWork=null,e.finishedLanes=0,P===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var Y=P.lanes|P.childLanes;if(Y|=Iu,xu(e,u,Y,E,T,D),e===jt&&(dt=jt=null,Et=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||Il||(Il=!0,Bc=Y,kc=r,Hg(Hn,function(){return Ns(),null})),r=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||r?(r=q.T,q.T=null,E=ue.p,ue.p=2,T=Kt,Kt|=4,Ng(e,P),A1(P,e),O($c,e.containerInfo),Gl=!!Jc,$c=Jc=null,e.current=P,p1(e,P.alternate,P),Wr(),Kt=T,ue.p=E,q.T=r):e.current=P,Il?(Il=!1,Xr=e,bo=u):j1(e,Y),Y=e.pendingLanes,Y===0&&(or=null),rn(P.stateNode),Za(e),n!==null)for(m=e.onRecoverableError,P=0;P<n.length;P++)Y=n[P],m(Y.value,{componentStack:Y.stack});return(bo&3)!==0&&Ns(),Y=e.pendingLanes,(u&4194218)!==0&&(Y&42)!==0?e===Uc?Co++:(Co=0,Uc=e):Co=0,So(0),null}function j1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ro(n)))}function Ns(){if(Xr!==null){var e=Xr,n=Bc;Bc=0;var r=In(bo),u=q.T,m=ue.p;try{if(ue.p=32>r?32:r,q.T=null,Xr===null)var E=!1;else{r=kc,kc=null;var T=Xr,D=bo;if(Xr=null,bo=0,(Kt&6)!==0)throw Error(h(331));var P=Kt;if(Kt|=4,v1(T.current),b1(T,T.current,D,r),Kt=P,So(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(_t,T)}catch{}E=!0}return E}finally{ue.p=m,q.T=u,j1(e,n)}}return!1}function H1(e,n,r){n=ha(r,n),n=rc(e.stateNode,n,2),e=tr(e,n,2),e!==null&&(kn(e,2),Za(e))}function Ft(e,n,r){if(e.tag===3)H1(e,e,r);else for(;n!==null;){if(n.tag===3){H1(n,e,r);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(or===null||!or.has(u))){e=ha(r,e),r=Yd(2),u=tr(n,r,2),u!==null&&(Xd(r,u,n,e),kn(u,2),Za(u));break}}n=n.return}}function Hc(e,n,r){var u=e.pingCache;if(u===null){u=e.pingCache=new _g;var m=new Set;u.set(n,m)}else m=u.get(n),m===void 0&&(m=new Set,u.set(n,m));m.has(r)||(Rc=!0,m.add(r),e=Fg.bind(null,e,n,r),n.then(e,e))}function Fg(e,n,r){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,jt===e&&(Et&r)===r&&(tn===4||tn===3&&(Et&62914560)===Et&&300>qt()-Lc?(Kt&2)===0&&vs(e,0):Dc|=r,Ss===Et&&(Ss=0)),Za(e)}function V1(e,n){n===0&&(n=ti()),e=qi(e,n),e!==null&&(kn(e,n),Za(e))}function zg(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),V1(e,r)}function jg(e,n){var r=0;switch(e.tag){case 13:var u=e.stateNode,m=e.memoizedState;m!==null&&(r=m.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(h(314))}u!==null&&u.delete(n),V1(e,r)}function Hg(e,n){return pn(e,n)}var _l=null,Os=null,Vc=!1,Ll=!1,Gc=!1,qr=0;function Za(e){e!==Os&&e.next===null&&(Os===null?_l=Os=e:Os=Os.next=e),Ll=!0,Vc||(Vc=!0,Gg(Vg))}function So(e,n){if(!Gc&&Ll){Gc=!0;do for(var r=!1,u=_l;u!==null;){if(e!==0){var m=u.pendingLanes;if(m===0)var E=0;else{var T=u.suspendedLanes,D=u.pingedLanes;E=(1<<31-gt(42|e)+1)-1,E&=m&~(T&~D),E=E&201326677?E&201326677|1:E?E|2:0}E!==0&&(r=!0,X1(u,E))}else E=Et,E=Ar(u,u===jt?E:0),(E&3)===0||Mn(u,E)||(r=!0,X1(u,E));u=u.next}while(r);Gc=!1}}function Vg(){Ll=Vc=!1;var e=0;qr!==0&&(Jg()&&(e=qr),qr=0);for(var n=qt(),r=null,u=_l;u!==null;){var m=u.next,E=G1(u,n);E===0?(u.next=null,r===null?_l=m:r.next=m,m===null&&(Os=r)):(r=u,(e!==0||(E&3)!==0)&&(Ll=!0)),u=m}So(e)}function G1(e,n){for(var r=e.suspendedLanes,u=e.pingedLanes,m=e.expirationTimes,E=e.pendingLanes&-62914561;0<E;){var T=31-gt(E),D=1<<T,P=m[T];P===-1?((D&r)===0||(D&u)!==0)&&(m[T]=Vs(D,n)):P<=n&&(e.expiredLanes|=D),E&=~D}if(n=jt,r=Et,r=Ar(e,e===n?r:0),u=e.callbackNode,r===0||e===n&&Ht===2||e.cancelPendingCommit!==null)return u!==null&&u!==null&&_e(u),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Mn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(u!==null&&_e(u),In(r)){case 2:case 8:r=yr;break;case 32:r=Hn;break;case 268435456:r=Oi;break;default:r=Hn}return u=Y1.bind(null,e),r=pn(r,u),e.callbackPriority=n,e.callbackNode=r,n}return u!==null&&u!==null&&_e(u),e.callbackPriority=2,e.callbackNode=null,2}function Y1(e,n){var r=e.callbackNode;if(Ns()&&e.callbackNode!==r)return null;var u=Et;return u=Ar(e,e===jt?u:0),u===0?null:(D1(e,u,n),G1(e,qt()),e.callbackNode!=null&&e.callbackNode===r?Y1.bind(null,e):null)}function X1(e,n){if(Ns())return null;D1(e,n,!0)}function Gg(e){em(function(){(Kt&6)!==0?pn(On,e):e()})}function Yc(){return qr===0&&(qr=xn()),qr}function q1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Li(""+e)}function Q1(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Yg(e,n,r,u,m){if(n==="submit"&&r&&r.stateNode===m){var E=q1((m[bn]||null).action),T=u.submitter;T&&(n=(n=T[bn]||null)?q1(n.formAction):T.getAttribute("formAction"),n!==null&&(E=n,T=null));var D=new Ha("action","action",null,u,m);e.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qr!==0){var P=T?Q1(m,T):new FormData(m);ec(r,{pending:!0,data:P,method:m.method,action:E},null,P)}}else typeof E=="function"&&(D.preventDefault(),P=T?Q1(m,T):new FormData(m),ec(r,{pending:!0,data:P,method:m.method,action:E},E,P))},currentTarget:m}]})}}for(var Xc=0;Xc<el.length;Xc++){var qc=el[Xc],Xg=qc.toLowerCase(),qg=qc[0].toUpperCase()+qc.slice(1);ta(Xg,"on"+qg)}ta(Rn,"onAnimationEnd"),ta(Kn,"onAnimationIteration"),ta(Dn,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(Rt,"onTransitionRun"),ta(En,"onTransitionStart"),ta(Xn,"onTransitionCancel"),ta(oi,"onTransitionEnd"),Mt("onMouseEnter",["mouseout","mouseover"]),Mt("onMouseLeave",["mouseout","mouseover"]),Mt("onPointerEnter",["pointerout","pointerover"]),Mt("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function Z1(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var u=e[r],m=u.event;u=u.listeners;e:{var E=void 0;if(n)for(var T=u.length-1;0<=T;T--){var D=u[T],P=D.instance,Y=D.currentTarget;if(D=D.listener,P!==E&&m.isPropagationStopped())break e;E=D,m.currentTarget=Y;try{E(m)}catch(de){Al(de)}m.currentTarget=null,E=P}else for(T=0;T<u.length;T++){if(D=u[T],P=D.instance,Y=D.currentTarget,D=D.listener,P!==E&&m.isPropagationStopped())break e;E=D,m.currentTarget=Y;try{E(m)}catch(de){Al(de)}m.currentTarget=null,E=P}}}}function xt(e,n){var r=n[Ua];r===void 0&&(r=n[Ua]=new Set);var u=e+"__bubble";r.has(u)||(W1(n,e,2,!1),r.add(u))}function Qc(e,n,r){var u=0;n&&(u|=4),W1(r,e,u,n)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Bl]){e[Bl]=!0,es.forEach(function(r){r!=="selectionchange"&&(Qg.has(r)||Qc(r,!1,e),Qc(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bl]||(n[Bl]=!0,Qc("selectionchange",!1,n))}}function W1(e,n,r,u){switch(E0(n)){case 2:var m=Am;break;case 8:m=wm;break;default:m=uf}r=m.bind(null,n,r,e),m=void 0,!et||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),u?m!==void 0?e.addEventListener(n,r,{capture:!0,passive:m}):e.addEventListener(n,r,!0):m!==void 0?e.addEventListener(n,r,{passive:m}):e.addEventListener(n,r,!1)}function Wc(e,n,r,u,m){var E=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var D=u.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(T===4)for(T=u.return;T!==null;){var P=T.tag;if((P===3||P===4)&&(P=T.stateNode.containerInfo,P===m||P.nodeType===8&&P.parentNode===m))return;T=T.return}for(;D!==null;){if(T=Cn(D),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){u=E=T;continue e}D=D.parentNode}}u=u.return}qe(function(){var Y=E,de=br(r),Ee=[];e:{var ne=li.get(e);if(ne!==void 0){var ce=Ha,Fe=e;switch(e){case"keypress":if(ns(r)===0)break e;case"keydown":case"keyup":ce=Xs;break;case"focusin":Fe="focus",ce=zi;break;case"focusout":Fe="blur",ce=zi;break;case"beforeblur":case"afterblur":ce=zi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Ot;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=It;break;case Rn:case Kn:case Dn:ce=bu;break;case oi:ce=Tu;break;case"scroll":case"scrollend":ce=Pn;break;case"wheel":ce=ri;break;case"copy":case"cut":case"paste":ce=at;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Or;break;case"toggle":case"beforetoggle":ce=Nu}var tt=(n&4)!==0,nn=!tt&&(e==="scroll"||e==="scrollend"),Z=tt?ne!==null?ne+"Capture":null:ne;tt=[];for(var G=Y,ee;G!==null;){var he=G;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||Z===null||(he=Cr(G,Z),he!=null&&tt.push(To(G,he,ee))),nn)break;G=G.return}0<tt.length&&(ne=new ce(ne,Fe,null,r,de),Ee.push({event:ne,listeners:tt}))}}if((n&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",ne&&r!==Bi&&(Fe=r.relatedTarget||r.fromElement)&&(Cn(Fe)||Fe[sn]))break e;if((ce||ne)&&(ne=de.window===de?de:(ne=de.ownerDocument)?ne.defaultView||ne.parentWindow:window,ce?(Fe=r.relatedTarget||r.toElement,ce=Y,Fe=Fe?Cn(Fe):null,Fe!==null&&(nn=ke(Fe),tt=Fe.tag,Fe!==nn||tt!==5&&tt!==27&&tt!==6)&&(Fe=null)):(ce=null,Fe=Y),ce!==Fe)){if(tt=Zo,he="onMouseLeave",Z="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(tt=Or,he="onPointerLeave",Z="onPointerEnter",G="pointer"),nn=ce==null?ne:Nt(ce),ee=Fe==null?ne:Nt(Fe),ne=new tt(he,G+"leave",ce,r,de),ne.target=nn,ne.relatedTarget=ee,he=null,Cn(de)===Y&&(tt=new tt(Z,G+"enter",Fe,r,de),tt.target=ee,tt.relatedTarget=nn,he=tt),nn=he,ce&&Fe)t:{for(tt=ce,Z=Fe,G=0,ee=tt;ee;ee=Ms(ee))G++;for(ee=0,he=Z;he;he=Ms(he))ee++;for(;0<G-ee;)tt=Ms(tt),G--;for(;0<ee-G;)Z=Ms(Z),ee--;for(;G--;){if(tt===Z||Z!==null&&tt===Z.alternate)break t;tt=Ms(tt),Z=Ms(Z)}tt=null}else tt=null;ce!==null&&K1(Ee,ne,ce,tt,!1),Fe!==null&&nn!==null&&K1(Ee,nn,Fe,tt,!0)}}e:{if(ne=Y?Nt(Y):window,ce=ne.nodeName&&ne.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ne.type==="file")var Be=$o;else if(Rr(ne))if(Ws)Be=a;else{Be=N;var ct=ls}else ce=ne.nodeName,!ce||ce.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Y&&Ut(Y.elementType)&&(Be=$o):Be=t;if(Be&&(Be=Be(e,Y))){Yn(Ee,Be,r,de);break e}ct&&ct(e,ne,Y),e==="focusout"&&Y&&ne.type==="number"&&Y.memoizedProps.value!=null&&L(ne,"number",ne.value)}switch(ct=Y?Nt(Y):window,e){case"focusin":(Rr(ct)||ct.contentEditable==="true")&&(k=ct,z=Y,H=null);break;case"focusout":H=z=k=null;break;case"mousedown":W=!0;break;case"contextmenu":case"mouseup":case"dragend":W=!1,se(Ee,r,de);break;case"selectionchange":if(I)break;case"keydown":case"keyup":se(Ee,r,de)}var Ve;if(Mr)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Vi?si(e,r)&&(We="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(We="onCompositionStart");We&&(Qs&&r.locale!=="ko"&&(Vi||We!=="onCompositionStart"?We==="onCompositionEnd"&&Vi&&(Ve=Fa()):(Pa=de,Sr="value"in Pa?Pa.value:Pa.textContent,Vi=!0)),ct=kl(Y,We),0<ct.length&&(We=new Tr(We,e,null,r,de),Ee.push({event:We,listeners:ct}),Ve?We.data=Ve:(Ve=ss(r),Ve!==null&&(We.data=Ve)))),(Ve=qs?Ir(e,r):Ou(e,r))&&(We=kl(Y,"onBeforeInput"),0<We.length&&(ct=new Tr("onBeforeInput","beforeinput",null,r,de),Ee.push({event:ct,listeners:We}),ct.data=Ve)),Yg(Ee,e,Y,r,de)}Z1(Ee,n)})}function To(e,n,r){return{instance:e,listener:n,currentTarget:r}}function kl(e,n){for(var r=n+"Capture",u=[];e!==null;){var m=e,E=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||E===null||(m=Cr(e,r),m!=null&&u.unshift(To(e,m,E)),m=Cr(e,n),m!=null&&u.push(To(e,m,E))),e=e.return}return u}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function K1(e,n,r,u,m){for(var E=n._reactName,T=[];r!==null&&r!==u;){var D=r,P=D.alternate,Y=D.stateNode;if(D=D.tag,P!==null&&P===u)break;D!==5&&D!==26&&D!==27||Y===null||(P=Y,m?(Y=Cr(r,E),Y!=null&&T.unshift(To(r,Y,P))):m||(Y=Cr(r,E),Y!=null&&T.push(To(r,Y,P)))),r=r.return}T.length!==0&&e.push({event:n,listeners:T})}var Zg=/\r\n?/g,Wg=/\u0000|\uFFFD/g;function J1(e){return(typeof e=="string"?e:""+e).replace(Zg,`
`).replace(Wg,"")}function $1(e,n){return n=J1(n),J1(e)===n}function Ul(){}function Bt(e,n,r,u,m,E){switch(r){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||_i(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&_i(e,""+u);break;case"className":Ri(e,"class",u);break;case"tabIndex":Ri(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(e,r,u);break;case"style":He(e,u,E);break;case"data":if(n!=="object"){Ri(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(r);break}u=Li(""+u),e.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(r==="formAction"?(n!=="input"&&Bt(e,n,"name",m.name,m,null),Bt(e,n,"formEncType",m.formEncType,m,null),Bt(e,n,"formMethod",m.formMethod,m,null),Bt(e,n,"formTarget",m.formTarget,m,null)):(Bt(e,n,"encType",m.encType,m,null),Bt(e,n,"method",m.method,m,null),Bt(e,n,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(r);break}u=Li(""+u),e.setAttribute(r,u);break;case"onClick":u!=null&&(e.onclick=Ul);break;case"onScroll":u!=null&&xt("scroll",e);break;case"onScrollEnd":u!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(h(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(h(60));e.innerHTML=r}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}r=Li(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,""+u):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":u===!0?e.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,u):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(r,u):e.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(r):e.setAttribute(r,u);break;case"popover":xt("beforetoggle",e),xt("toggle",e),Ii(e,"popover",u);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ii(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Qo.get(r)||r,Ii(e,r,u))}}function Kc(e,n,r,u,m,E){switch(r){case"style":He(e,u,E);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(h(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(h(60));e.innerHTML=r}}break;case"children":typeof u=="string"?_i(e,u):(typeof u=="number"||typeof u=="bigint")&&_i(e,""+u);break;case"onScroll":u!=null&&xt("scroll",e);break;case"onScrollEnd":u!=null&&xt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Ul);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pe.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),n=r.slice(2,m?r.length-7:void 0),E=e[bn]||null,E=E!=null?E[r]:null,typeof E=="function"&&e.removeEventListener(n,E,m),typeof u=="function")){typeof E!="function"&&E!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,u,m);break e}r in e?e[r]=u:u===!0?e.setAttribute(r,""):Ii(e,r,u)}}}function Bn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var u=!1,m=!1,E;for(E in r)if(r.hasOwnProperty(E)){var T=r[E];if(T!=null)switch(E){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Bt(e,n,E,T,r,null)}}m&&Bt(e,n,"srcSet",r.srcSet,r,null),u&&Bt(e,n,"src",r.src,r,null);return;case"input":xt("invalid",e);var D=E=T=m=null,P=null,Y=null;for(u in r)if(r.hasOwnProperty(u)){var de=r[u];if(de!=null)switch(u){case"name":m=de;break;case"type":T=de;break;case"checked":P=de;break;case"defaultChecked":Y=de;break;case"value":E=de;break;case"defaultValue":D=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(h(137,n));break;default:Bt(e,n,u,de,r,null)}}J(e,E,D,P,Y,T,m,!1),zt(e);return;case"select":xt("invalid",e),u=T=E=null;for(m in r)if(r.hasOwnProperty(m)&&(D=r[m],D!=null))switch(m){case"value":E=D;break;case"defaultValue":T=D;break;case"multiple":u=D;default:Bt(e,n,m,D,r,null)}n=E,r=T,e.multiple=!!u,n!=null?Ue(e,!!u,n,!1):r!=null&&Ue(e,!!u,r,!0);return;case"textarea":xt("invalid",e),E=m=u=null;for(T in r)if(r.hasOwnProperty(T)&&(D=r[T],D!=null))switch(T){case"value":u=D;break;case"defaultValue":m=D;break;case"children":E=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(h(91));break;default:Bt(e,n,T,D,r,null)}Vn(e,u,m,E),zt(e);return;case"option":for(P in r)if(r.hasOwnProperty(P)&&(u=r[P],u!=null))switch(P){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Bt(e,n,P,u,r,null)}return;case"dialog":xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(u=0;u<vo.length;u++)xt(vo[u],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in r)if(r.hasOwnProperty(Y)&&(u=r[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Bt(e,n,Y,u,r,null)}return;default:if(Ut(n)){for(de in r)r.hasOwnProperty(de)&&(u=r[de],u!==void 0&&Kc(e,n,de,u,r,void 0));return}}for(D in r)r.hasOwnProperty(D)&&(u=r[D],u!=null&&Bt(e,n,D,u,r,null))}function Kg(e,n,r,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,E=null,T=null,D=null,P=null,Y=null,de=null;for(ce in r){var Ee=r[ce];if(r.hasOwnProperty(ce)&&Ee!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":P=Ee;default:u.hasOwnProperty(ce)||Bt(e,n,ce,null,u,Ee)}}for(var ne in u){var ce=u[ne];if(Ee=r[ne],u.hasOwnProperty(ne)&&(ce!=null||Ee!=null))switch(ne){case"type":E=ce;break;case"name":m=ce;break;case"checked":Y=ce;break;case"defaultChecked":de=ce;break;case"value":T=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(h(137,n));break;default:ce!==Ee&&Bt(e,n,ne,ce,u,Ee)}}fn(e,T,D,P,Y,de,E,m);return;case"select":ce=T=D=ne=null;for(E in r)if(P=r[E],r.hasOwnProperty(E)&&P!=null)switch(E){case"value":break;case"multiple":ce=P;default:u.hasOwnProperty(E)||Bt(e,n,E,null,u,P)}for(m in u)if(E=u[m],P=r[m],u.hasOwnProperty(m)&&(E!=null||P!=null))switch(m){case"value":ne=E;break;case"defaultValue":D=E;break;case"multiple":T=E;default:E!==P&&Bt(e,n,m,E,u,P)}n=D,r=T,u=ce,ne!=null?Ue(e,!!r,ne,!1):!!u!=!!r&&(n!=null?Ue(e,!!r,n,!0):Ue(e,!!r,r?[]:"",!1));return;case"textarea":ce=ne=null;for(D in r)if(m=r[D],r.hasOwnProperty(D)&&m!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Bt(e,n,D,null,u,m)}for(T in u)if(m=u[T],E=r[T],u.hasOwnProperty(T)&&(m!=null||E!=null))switch(T){case"value":ne=m;break;case"defaultValue":ce=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(h(91));break;default:m!==E&&Bt(e,n,T,m,u,E)}on(e,ne,ce);return;case"option":for(var Fe in r)if(ne=r[Fe],r.hasOwnProperty(Fe)&&ne!=null&&!u.hasOwnProperty(Fe))switch(Fe){case"selected":e.selected=!1;break;default:Bt(e,n,Fe,null,u,ne)}for(P in u)if(ne=u[P],ce=r[P],u.hasOwnProperty(P)&&ne!==ce&&(ne!=null||ce!=null))switch(P){case"selected":e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Bt(e,n,P,ne,u,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in r)ne=r[tt],r.hasOwnProperty(tt)&&ne!=null&&!u.hasOwnProperty(tt)&&Bt(e,n,tt,null,u,ne);for(Y in u)if(ne=u[Y],ce=r[Y],u.hasOwnProperty(Y)&&ne!==ce&&(ne!=null||ce!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(h(137,n));break;default:Bt(e,n,Y,ne,u,ce)}return;default:if(Ut(n)){for(var nn in r)ne=r[nn],r.hasOwnProperty(nn)&&ne!==void 0&&!u.hasOwnProperty(nn)&&Kc(e,n,nn,void 0,u,ne);for(de in u)ne=u[de],ce=r[de],!u.hasOwnProperty(de)||ne===ce||ne===void 0&&ce===void 0||Kc(e,n,de,ne,u,ce);return}}for(var Z in r)ne=r[Z],r.hasOwnProperty(Z)&&ne!=null&&!u.hasOwnProperty(Z)&&Bt(e,n,Z,null,u,ne);for(Ee in u)ne=u[Ee],ce=r[Ee],!u.hasOwnProperty(Ee)||ne===ce||ne==null&&ce==null||Bt(e,n,Ee,ne,u,ce)}var Jc=null,$c=null;function Pl(e){return e.nodeType===9?e:e.ownerDocument}function e0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ef(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=null;function Jg(){var e=window.event;return e&&e.type==="popstate"?e===tf?!1:(tf=e,!0):(tf=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,$g=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,em=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(e){return a0.resolve(null).then(e).catch(tm)}:n0;function tm(e){setTimeout(function(){throw e})}function nf(e,n){var r=n,u=0;do{var m=r.nextSibling;if(e.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(u===0){e.removeChild(m),Lo(n);return}u--}else r!=="$"&&r!=="$?"&&r!=="$!"||u++;r=m}while(r);Lo(n)}function af(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":af(r),Gs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function nm(e,n,r,u){for(;e.nodeType===1;){var m=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[wr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(E=e.getAttribute("rel"),E==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(E!==m.rel||e.getAttribute("href")!==(m.href==null?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(E=e.getAttribute("src"),(E!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&E&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var E=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===E)return e}else return e;if(e=Ma(e.nextSibling),e===null)break}return null}function am(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ma(e.nextSibling),e===null))return null;return e}function Ma(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function i0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function r0(e,n,r){switch(n=Pl(r),e){case"html":if(e=n.documentElement,!e)throw Error(h(452));return e;case"head":if(e=n.head,!e)throw Error(h(453));return e;case"body":if(e=n.body,!e)throw Error(h(454));return e;default:throw Error(h(451))}}var wa=new Map,s0=new Set;function Fl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Ci=ue.d;ue.d={f:im,r:rm,D:sm,C:om,L:lm,m:um,X:fm,S:cm,M:dm};function im(){var e=Ci.f(),n=Rl();return e||n}function rm(e){var n=$t(e);n!==null&&n.tag===5&&n.type==="form"?_d(n):Ci.r(e)}var Is=typeof document>"u"?null:document;function o0(e,n,r){var u=Is;if(u&&typeof n=="string"&&n){var m=ot(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),s0.has(m)||(s0.add(m),e={rel:e,crossOrigin:r,href:n},u.querySelector(m)===null&&(n=u.createElement("link"),Bn(n,"link",e),kt(n),u.head.appendChild(n)))}}function sm(e){Ci.D(e),o0("dns-prefetch",e,null)}function om(e,n){Ci.C(e,n),o0("preconnect",e,n)}function lm(e,n,r){Ci.L(e,n,r);var u=Is;if(u&&e&&n){var m='link[rel="preload"][as="'+ot(n)+'"]';n==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+ot(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+ot(r.imageSizes)+'"]')):m+='[href="'+ot(e)+'"]';var E=m;switch(n){case"style":E=Rs(e);break;case"script":E=Ds(e)}wa.has(E)||(e=Re({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),wa.set(E,e),u.querySelector(m)!==null||n==="style"&&u.querySelector(No(E))||n==="script"&&u.querySelector(Oo(E))||(n=u.createElement("link"),Bn(n,"link",e),kt(n),u.head.appendChild(n)))}}function um(e,n){Ci.m(e,n);var r=Is;if(r&&e){var u=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+ot(u)+'"][href="'+ot(e)+'"]',E=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ds(e)}if(!wa.has(E)&&(e=Re({rel:"modulepreload",href:e},n),wa.set(E,e),r.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Oo(E)))return}u=r.createElement("link"),Bn(u,"link",e),kt(u),r.head.appendChild(u)}}}function cm(e,n,r){Ci.S(e,n,r);var u=Is;if(u&&e){var m=ni(u).hoistableStyles,E=Rs(e);n=n||"default";var T=m.get(E);if(!T){var D={loading:0,preload:null};if(T=u.querySelector(No(E)))D.loading=5;else{e=Re({rel:"stylesheet",href:e,"data-precedence":n},r),(r=wa.get(E))&&rf(e,r);var P=T=u.createElement("link");kt(P),Bn(P,"link",e),P._p=new Promise(function(Y,de){P.onload=Y,P.onerror=de}),P.addEventListener("load",function(){D.loading|=1}),P.addEventListener("error",function(){D.loading|=2}),D.loading|=4,zl(T,n,u)}T={type:"stylesheet",instance:T,count:1,state:D},m.set(E,T)}}}function fm(e,n){Ci.X(e,n);var r=Is;if(r&&e){var u=ni(r).hoistableScripts,m=Ds(e),E=u.get(m);E||(E=r.querySelector(Oo(m)),E||(e=Re({src:e,async:!0},n),(n=wa.get(m))&&sf(e,n),E=r.createElement("script"),kt(E),Bn(E,"link",e),r.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},u.set(m,E))}}function dm(e,n){Ci.M(e,n);var r=Is;if(r&&e){var u=ni(r).hoistableScripts,m=Ds(e),E=u.get(m);E||(E=r.querySelector(Oo(m)),E||(e=Re({src:e,async:!0,type:"module"},n),(n=wa.get(m))&&sf(e,n),E=r.createElement("script"),kt(E),Bn(E,"link",e),r.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},u.set(m,E))}}function l0(e,n,r,u){var m=(m=ze.current)?Fl(m):null;if(!m)throw Error(h(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Rs(r.href),r=ni(m).hoistableStyles,u=r.get(n),u||(u={type:"style",instance:null,count:0,state:null},r.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Rs(r.href);var E=ni(m).hoistableStyles,T=E.get(e);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(e,T),(E=m.querySelector(No(e)))&&!E._p&&(T.instance=E,T.state.loading=5),wa.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wa.set(e,r),E||hm(m,e,r,T.state))),n&&u===null)throw Error(h(528,""));return T}if(n&&u!==null)throw Error(h(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(r),r=ni(m).hoistableScripts,u=r.get(n),u||(u={type:"script",instance:null,count:0,state:null},r.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(h(444,e))}}function Rs(e){return'href="'+ot(e)+'"'}function No(e){return'link[rel="stylesheet"]['+e+"]"}function u0(e){return Re({},e,{"data-precedence":e.precedence,precedence:null})}function hm(e,n,r,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Bn(n,"link",r),kt(n),e.head.appendChild(n))}function Ds(e){return'[src="'+ot(e)+'"]'}function Oo(e){return"script[async]"+e}function c0(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+ot(r.href)+'"]');if(u)return n.instance=u,kt(u),u;var m=Re({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),kt(u),Bn(u,"style",m),zl(u,r.precedence,e),n.instance=u;case"stylesheet":m=Rs(r.href);var E=e.querySelector(No(m));if(E)return n.state.loading|=4,n.instance=E,kt(E),E;u=u0(r),(m=wa.get(m))&&rf(u,m),E=(e.ownerDocument||e).createElement("link"),kt(E);var T=E;return T._p=new Promise(function(D,P){T.onload=D,T.onerror=P}),Bn(E,"link",u),n.state.loading|=4,zl(E,r.precedence,e),n.instance=E;case"script":return E=Ds(r.src),(m=e.querySelector(Oo(E)))?(n.instance=m,kt(m),m):(u=r,(m=wa.get(E))&&(u=Re({},r),sf(u,m)),e=e.ownerDocument||e,m=e.createElement("script"),kt(m),Bn(m,"link",u),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(h(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,zl(u,r.precedence,e));return n.instance}function zl(e,n,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,E=m,T=0;T<u.length;T++){var D=u[T];if(D.dataset.precedence===n)E=D;else if(E!==m)break}E?E.parentNode.insertBefore(e,E.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function sf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var jl=null;function f0(e,n,r){if(jl===null){var u=new Map,m=jl=new Map;m.set(r,u)}else m=jl,u=m.get(r),u||(u=new Map,m.set(r,u));if(u.has(e))return u;for(u.set(e,null),r=r.getElementsByTagName(e),m=0;m<r.length;m++){var E=r[m];if(!(E[wr]||E[Qt]||e==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var T=E.getAttribute(n)||"";T=e+T;var D=u.get(T);D?D.push(E):u.set(T,[E])}}return u}function d0(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function gm(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function h0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Mo=null;function mm(){}function pm(e,n,r){if(Mo===null)throw Error(h(475));var u=Mo;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=Rs(r.href),E=e.querySelector(No(m));if(E){e=E._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Hl.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=E,kt(E);return}E=e.ownerDocument||e,r=u0(r),(m=wa.get(m))&&rf(r,m),E=E.createElement("link"),kt(E);var T=E;T._p=new Promise(function(D,P){T.onload=D,T.onerror=P}),Bn(E,"link",r),n.instance=E}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Hl.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function xm(){if(Mo===null)throw Error(h(475));var e=Mo;return e.stylesheets&&e.count===0&&of(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&of(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Hl(){if(this.count--,this.count===0){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vl=null;function of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vl=new Map,n.forEach(ym,e),Vl=null,Hl.call(e))}function ym(e,n){if(!(n.state.loading&4)){var r=Vl.get(e);if(r)var u=r.get(null);else{r=new Map,Vl.set(e,r);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<m.length;E++){var T=m[E];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),u=T)}u&&r.set(null,u)}m=n.instance,T=m.getAttribute("data-precedence"),E=r.get(T)||u,E===u&&r.set(null,m),r.set(T,m),this.count++,u=Hl.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),E?E.parentNode.insertBefore(m,E.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Io={$$typeof:F,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function Em(e,n,r,u,m,E,T,D){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=E,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function g0(e,n,r,u,m,E,T,D,P,Y,de,Ee){return e=new Em(e,n,r,T,D,P,Y,Ee),n=1,E===!0&&(n|=24),E=Ea(3,null,null,n),e.current=E,E.stateNode=e,n=Pu(),n.refCount++,e.pooledCache=n,n.refCount++,E.memoizedState={element:u,isDehydrated:r,cache:n},yc(E),e}function m0(e){return e?(e=cs,e):cs}function p0(e,n,r,u,m,E){m=m0(m),u.context===null?u.context=m:u.pendingContext=m,u=er(n),u.payload={element:r},E=E===void 0?null:E,E!==null&&(u.callback=E),r=tr(e,u,n),r!==null&&(Qn(r,e,n),ho(r,e,n))}function x0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function lf(e,n){x0(e,n),(e=e.alternate)&&x0(e,n)}function y0(e){if(e.tag===13){var n=qi(e,67108864);n!==null&&Qn(n,e,67108864),lf(e,67108864)}}var Gl=!0;function Am(e,n,r,u){var m=q.T;q.T=null;var E=ue.p;try{ue.p=2,uf(e,n,r,u)}finally{ue.p=E,q.T=m}}function wm(e,n,r,u){var m=q.T;q.T=null;var E=ue.p;try{ue.p=8,uf(e,n,r,u)}finally{ue.p=E,q.T=m}}function uf(e,n,r,u){if(Gl){var m=cf(u);if(m===null)Wc(e,n,u,Yl,r),A0(e,u);else if(Cm(m,e,n,r,u))u.stopPropagation();else if(A0(e,u),n&4&&-1<bm.indexOf(e)){for(;m!==null;){var E=$t(m);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var T=La(E.pendingLanes);if(T!==0){var D=E;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var P=1<<31-gt(T);D.entanglements[1]|=P,T&=~P}Za(E),(Kt&6)===0&&(Ol=qt()+500,So(0))}}break;case 13:D=qi(E,2),D!==null&&Qn(D,E,2),Rl(),lf(E,2)}if(E=cf(u),E===null&&Wc(e,n,u,Yl,r),E===m)break;m=E}m!==null&&u.stopPropagation()}else Wc(e,n,u,null,r)}}function cf(e){return e=br(e),ff(e)}var Yl=null;function ff(e){if(Yl=null,e=Cn(e),e!==null){var n=ke(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=rt(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Yl=e,null}function E0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case On:return 2;case yr:return 8;case Hn:case cn:return 32;case Oi:return 268435456;default:return 32}default:return 32}}var df=!1,lr=null,ur=null,cr=null,Ro=new Map,Do=new Map,fr=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A0(e,n){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(n.pointerId)}}function _o(e,n,r,u,m,E){return e===null||e.nativeEvent!==E?(e={blockedOn:n,domEventName:r,eventSystemFlags:u,nativeEvent:E,targetContainers:[m]},n!==null&&(n=$t(n),n!==null&&y0(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function Cm(e,n,r,u,m){switch(n){case"focusin":return lr=_o(lr,e,n,r,u,m),!0;case"dragenter":return ur=_o(ur,e,n,r,u,m),!0;case"mouseover":return cr=_o(cr,e,n,r,u,m),!0;case"pointerover":var E=m.pointerId;return Ro.set(E,_o(Ro.get(E)||null,e,n,r,u,m)),!0;case"gotpointercapture":return E=m.pointerId,Do.set(E,_o(Do.get(E)||null,e,n,r,u,m)),!0}return!1}function w0(e){var n=Cn(e.target);if(n!==null){var r=ke(n);if(r!==null){if(n=r.tag,n===13){if(n=rt(r),n!==null){e.blockedOn=n,Zn(e.priority,function(){if(r.tag===13){var u=ra(),m=qi(r,u);m!==null&&Qn(m,r,u),lf(r,u)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=cf(e.nativeEvent);if(r===null){r=e.nativeEvent;var u=new r.constructor(r.type,r);Bi=u,r.target.dispatchEvent(u),Bi=null}else return n=$t(r),n!==null&&y0(n),e.blockedOn=r,!1;n.shift()}return!0}function b0(e,n,r){Xl(e)&&r.delete(n)}function Sm(){df=!1,lr!==null&&Xl(lr)&&(lr=null),ur!==null&&Xl(ur)&&(ur=null),cr!==null&&Xl(cr)&&(cr=null),Ro.forEach(b0),Do.forEach(b0)}function ql(e,n){e.blockedOn===n&&(e.blockedOn=null,df||(df=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Sm)))}var Ql=null;function C0(e){Ql!==e&&(Ql=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Ql===e&&(Ql=null);for(var n=0;n<e.length;n+=3){var r=e[n],u=e[n+1],m=e[n+2];if(typeof u!="function"){if(ff(u||r)===null)continue;break}var E=$t(r);E!==null&&(e.splice(n,3),n-=3,ec(E,{pending:!0,data:m,method:r.method,action:u},u,m))}}))}function Lo(e){function n(P){return ql(P,e)}lr!==null&&ql(lr,e),ur!==null&&ql(ur,e),cr!==null&&ql(cr,e),Ro.forEach(n),Do.forEach(n);for(var r=0;r<fr.length;r++){var u=fr[r];u.blockedOn===e&&(u.blockedOn=null)}for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)w0(r),r.blockedOn===null&&fr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var m=r[u],E=r[u+1],T=m[bn]||null;if(typeof E=="function")T||C0(r);else if(T){var D=null;if(E&&E.hasAttribute("formAction")){if(m=E,T=E[bn]||null)D=T.formAction;else if(ff(m)!==null)continue}else D=T.action;typeof D=="function"?r[u+1]=D:(r.splice(u,3),u-=3),C0(r)}}}function hf(e){this._internalRoot=e}Zl.prototype.render=hf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));var r=n.current,u=ra();p0(r,u,e,n,null,null)},Zl.prototype.unmount=hf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Ns(),p0(e.current,2,null,e,null,null),Rl(),n[sn]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var n=ka();e={blockedOn:null,target:e,priority:n};for(var r=0;r<fr.length&&n!==0&&n<fr[r].priority;r++);fr.splice(r,0,e),r===0&&w0(e)}};var S0=l.version;if(S0!=="19.0.0")throw Error(h(527,S0,"19.0.0"));ue.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=B(n),e=e!==null?fe(e):null,e=e===null?null:e.stateNode,e};var vm={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:Cn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{_t=Wl.inject(vm),Se=Wl}catch{}}return ko.createRoot=function(e,n){if(!p(e))throw Error(h(299));var r=!1,u="",m=jd,E=Hd,T=Vd,D=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(D=n.unstable_transitionCallbacks)),n=g0(e,1,!1,null,null,r,u,m,E,T,D,null),e[sn]=n.current,Zc(e.nodeType===8?e.parentNode:e),new hf(n)},ko.hydrateRoot=function(e,n,r){if(!p(e))throw Error(h(299));var u=!1,m="",E=jd,T=Hd,D=Vd,P=null,Y=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(E=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(D=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks),r.formState!==void 0&&(Y=r.formState)),n=g0(e,1,!0,n,r??null,u,m,E,T,D,P,Y),n.context=m0(null),r=n.current,u=ra(),m=er(u),m.callback=null,tr(r,m,u),n.current.lanes=u,kn(n,u),Za(n),e[sn]=n.current,Zc(e),new Zl(n)},ko.version="19.0.0",ko}var L0;function Um(){if(L0)return pf.exports;L0=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(l){console.error(l)}}return d(),pf.exports=km(),pf.exports}var Pm=Um();const Fm=du(Pm);var Uo={},B0;function zm(){if(B0)return Uo;B0=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.parse=b,Uo.serialize=w;const d=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,l=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,h=/^[\u0020-\u003A\u003D-\u007E]*$/,p=Object.prototype.toString,x=(()=>{const U=function(){};return U.prototype=Object.create(null),U})();function b(U,F){const j=new x,Q=U.length;if(Q<2)return j;const V=(F==null?void 0:F.decode)||M;let K=0;do{const ie=U.indexOf("=",K);if(ie===-1)break;const ae=U.indexOf(";",K),Ce=ae===-1?Q:ae;if(ie>Ce){K=U.lastIndexOf(";",ie-1)+1;continue}const Te=v(U,K,ie),we=S(U,ie,Te),le=U.slice(Te,we);if(j[le]===void 0){let Oe=v(U,ie+1,Ce),q=S(U,Ce,Oe);const Re=V(U.slice(Oe,q));j[le]=Re}K=Ce+1}while(K<Q);return j}function v(U,F,j){do{const Q=U.charCodeAt(F);if(Q!==32&&Q!==9)return F}while(++F<j);return j}function S(U,F,j){for(;F>j;){const Q=U.charCodeAt(--F);if(Q!==32&&Q!==9)return F+1}return j}function w(U,F,j){const Q=(j==null?void 0:j.encode)||encodeURIComponent;if(!d.test(U))throw new TypeError(`argument name is invalid: ${U}`);const V=Q(F);if(!l.test(V))throw new TypeError(`argument val is invalid: ${F}`);let K=U+"="+V;if(!j)return K;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);K+="; Max-Age="+j.maxAge}if(j.domain){if(!c.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);K+="; Domain="+j.domain}if(j.path){if(!h.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);K+="; Path="+j.path}if(j.expires){if(!_(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);K+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(K+="; HttpOnly"),j.secure&&(K+="; Secure"),j.partitioned&&(K+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return K}function M(U){if(U.indexOf("%")===-1)return U;try{return decodeURIComponent(U)}catch{return U}}function _(U){return p.call(U)==="[object Date]"}return Uo}zm();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k0="popstate";function jm(d={}){function l(h,p){let{pathname:x,search:b,hash:v}=h.location;return iu("",{pathname:x,search:b,hash:v},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function c(h,p){return typeof p=="string"?p:Fs(p)}return vh(l,c,null,d)}function Hm(d={}){function l(p,x){let{pathname:b="/",search:v="",hash:S=""}=Zr(p.location.hash.substring(1));return!b.startsWith("/")&&!b.startsWith(".")&&(b="/"+b),iu("",{pathname:b,search:v,hash:S},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function c(p,x){let b=p.document.querySelector("base"),v="";if(b&&b.getAttribute("href")){let S=p.location.href,w=S.indexOf("#");v=w===-1?S:S.slice(0,w)}return v+"#"+(typeof x=="string"?x:Fs(x))}function h(p,x){Da(p.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(x)})`)}return vh(l,c,h,d)}function Jt(d,l){if(d===!1||d===null||typeof d>"u")throw new Error(l)}function Da(d,l){if(!d){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Vm(){return Math.random().toString(36).substring(2,10)}function U0(d,l){return{usr:d.state,key:d.key,idx:l}}function iu(d,l,c=null,h){return{pathname:typeof d=="string"?d:d.pathname,search:"",hash:"",...typeof l=="string"?Zr(l):l,state:c,key:l&&l.key||h||Vm()}}function Fs({pathname:d="/",search:l="",hash:c=""}){return l&&l!=="?"&&(d+=l.charAt(0)==="?"?l:"?"+l),c&&c!=="#"&&(d+=c.charAt(0)==="#"?c:"#"+c),d}function Zr(d){let l={};if(d){let c=d.indexOf("#");c>=0&&(l.hash=d.substring(c),d=d.substring(0,c));let h=d.indexOf("?");h>=0&&(l.search=d.substring(h),d=d.substring(0,h)),d&&(l.pathname=d)}return l}function vh(d,l,c,h={}){let{window:p=document.defaultView,v5Compat:x=!1}=h,b=p.history,v="POP",S=null,w=M();w==null&&(w=0,b.replaceState({...b.state,idx:w},""));function M(){return(b.state||{idx:null}).idx}function _(){v="POP";let V=M(),K=V==null?null:V-w;w=V,S&&S({action:v,location:Q.location,delta:K})}function U(V,K){v="PUSH";let ie=iu(Q.location,V,K);c&&c(ie,V),w=M()+1;let ae=U0(ie,w),Ce=Q.createHref(ie);try{b.pushState(ae,"",Ce)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;p.location.assign(Ce)}x&&S&&S({action:v,location:Q.location,delta:1})}function F(V,K){v="REPLACE";let ie=iu(Q.location,V,K);c&&c(ie,V),w=M();let ae=U0(ie,w),Ce=Q.createHref(ie);b.replaceState(ae,"",Ce),x&&S&&S({action:v,location:Q.location,delta:0})}function j(V){let K=p.location.origin!=="null"?p.location.origin:p.location.href,ie=typeof V=="string"?V:Fs(V);return ie=ie.replace(/ $/,"%20"),Jt(K,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,K)}let Q={get action(){return v},get location(){return d(p,b)},listen(V){if(S)throw new Error("A history only accepts one active listener");return p.addEventListener(k0,_),S=V,()=>{p.removeEventListener(k0,_),S=null}},createHref(V){return l(p,V)},createURL:j,encodeLocation(V){let K=j(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:U,replace:F,go(V){return b.go(V)}};return Q}function Th(d,l,c="/"){return Gm(d,l,c,!1)}function Gm(d,l,c,h){let p=typeof l=="string"?Zr(l):l,x=Ti(p.pathname||"/",c);if(x==null)return null;let b=Nh(d);Ym(b);let v=null;for(let S=0;v==null&&S<b.length;++S){let w=np(x);v=ep(b[S],w,h)}return v}function Nh(d,l=[],c=[],h=""){let p=(x,b,v)=>{let S={relativePath:v===void 0?x.path||"":v,caseSensitive:x.caseSensitive===!0,childrenIndex:b,route:x};S.relativePath.startsWith("/")&&(Jt(S.relativePath.startsWith(h),`Absolute route path "${S.relativePath}" nested under path "${h}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(h.length));let w=vi([h,S.relativePath]),M=c.concat(S);x.children&&x.children.length>0&&(Jt(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Nh(x.children,l,M,w)),!(x.path==null&&!x.index)&&l.push({path:w,score:Jm(w,x.index),routesMeta:M})};return d.forEach((x,b)=>{var v;if(x.path===""||!((v=x.path)!=null&&v.includes("?")))p(x,b);else for(let S of Oh(x.path))p(x,b,S)}),l}function Oh(d){let l=d.split("/");if(l.length===0)return[];let[c,...h]=l,p=c.endsWith("?"),x=c.replace(/\?$/,"");if(h.length===0)return p?[x,""]:[x];let b=Oh(h.join("/")),v=[];return v.push(...b.map(S=>S===""?x:[x,S].join("/"))),p&&v.push(...b),v.map(S=>d.startsWith("/")&&S===""?"/":S)}function Ym(d){d.sort((l,c)=>l.score!==c.score?c.score-l.score:$m(l.routesMeta.map(h=>h.childrenIndex),c.routesMeta.map(h=>h.childrenIndex)))}var Xm=/^:[\w-]+$/,qm=3,Qm=2,Zm=1,Wm=10,Km=-2,P0=d=>d==="*";function Jm(d,l){let c=d.split("/"),h=c.length;return c.some(P0)&&(h+=Km),l&&(h+=Qm),c.filter(p=>!P0(p)).reduce((p,x)=>p+(Xm.test(x)?qm:x===""?Zm:Wm),h)}function $m(d,l){return d.length===l.length&&d.slice(0,-1).every((h,p)=>h===l[p])?d[d.length-1]-l[l.length-1]:0}function ep(d,l,c=!1){let{routesMeta:h}=d,p={},x="/",b=[];for(let v=0;v<h.length;++v){let S=h[v],w=v===h.length-1,M=x==="/"?l:l.slice(x.length)||"/",_=ru({path:S.relativePath,caseSensitive:S.caseSensitive,end:w},M),U=S.route;if(!_&&w&&c&&!h[h.length-1].route.index&&(_=ru({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},M)),!_)return null;Object.assign(p,_.params),b.push({params:p,pathname:vi([x,_.pathname]),pathnameBase:sp(vi([x,_.pathnameBase])),route:U}),_.pathnameBase!=="/"&&(x=vi([x,_.pathnameBase]))}return b}function ru(d,l){typeof d=="string"&&(d={path:d,caseSensitive:!1,end:!0});let[c,h]=tp(d.path,d.caseSensitive,d.end),p=l.match(c);if(!p)return null;let x=p[0],b=x.replace(/(.)\/+$/,"$1"),v=p.slice(1);return{params:h.reduce((w,{paramName:M,isOptional:_},U)=>{if(M==="*"){let j=v[U]||"";b=x.slice(0,x.length-j.length).replace(/(.)\/+$/,"$1")}const F=v[U];return _&&!F?w[M]=void 0:w[M]=(F||"").replace(/%2F/g,"/"),w},{}),pathname:x,pathnameBase:b,pattern:d}}function tp(d,l=!1,c=!0){Da(d==="*"||!d.endsWith("*")||d.endsWith("/*"),`Route path "${d}" will be treated as if it were "${d.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${d.replace(/\*$/,"/*")}".`);let h=[],p="^"+d.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,v,S)=>(h.push({paramName:v,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)"));return d.endsWith("*")?(h.push({paramName:"*"}),p+=d==="*"||d==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?p+="\\/*$":d!==""&&d!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,l?void 0:"i"),h]}function np(d){try{return d.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Da(!1,`The URL path "${d}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),d}}function Ti(d,l){if(l==="/")return d;if(!d.toLowerCase().startsWith(l.toLowerCase()))return null;let c=l.endsWith("/")?l.length-1:l.length,h=d.charAt(c);return h&&h!=="/"?null:d.slice(c)||"/"}function ap(d,l="/"){let{pathname:c,search:h="",hash:p=""}=typeof d=="string"?Zr(d):d;return{pathname:c?c.startsWith("/")?c:ip(c,l):l,search:op(h),hash:lp(p)}}function ip(d,l){let c=l.replace(/\/+$/,"").split("/");return d.split("/").forEach(p=>{p===".."?c.length>1&&c.pop():p!=="."&&c.push(p)}),c.length>1?c.join("/"):"/"}function Af(d,l,c,h){return`Cannot include a '${d}' character in a manually specified \`to.${l}\` field [${JSON.stringify(h)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rp(d){return d.filter((l,c)=>c===0||l.route.path&&l.route.path.length>0)}function Mh(d){let l=rp(d);return l.map((c,h)=>h===l.length-1?c.pathname:c.pathnameBase)}function Ih(d,l,c,h=!1){let p;typeof d=="string"?p=Zr(d):(p={...d},Jt(!p.pathname||!p.pathname.includes("?"),Af("?","pathname","search",p)),Jt(!p.pathname||!p.pathname.includes("#"),Af("#","pathname","hash",p)),Jt(!p.search||!p.search.includes("#"),Af("#","search","hash",p)));let x=d===""||p.pathname==="",b=x?"/":p.pathname,v;if(b==null)v=c;else{let _=l.length-1;if(!h&&b.startsWith("..")){let U=b.split("/");for(;U[0]==="..";)U.shift(),_-=1;p.pathname=U.join("/")}v=_>=0?l[_]:"/"}let S=ap(p,v),w=b&&b!=="/"&&b.endsWith("/"),M=(x||b===".")&&c.endsWith("/");return!S.pathname.endsWith("/")&&(w||M)&&(S.pathname+="/"),S}var vi=d=>d.join("/").replace(/\/\/+/g,"/"),sp=d=>d.replace(/\/+$/,"").replace(/^\/*/,"/"),op=d=>!d||d==="?"?"":d.startsWith("?")?d:"?"+d,lp=d=>!d||d==="#"?"":d.startsWith("#")?d:"#"+d;function up(d){return d!=null&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.internal=="boolean"&&"data"in d}var Rh=["POST","PUT","PATCH","DELETE"];new Set(Rh);var cp=["GET",...Rh];new Set(cp);var zs=X.createContext(null);zs.displayName="DataRouter";var hu=X.createContext(null);hu.displayName="DataRouterState";var Dh=X.createContext({isTransitioning:!1});Dh.displayName="ViewTransition";var fp=X.createContext(new Map);fp.displayName="Fetchers";var dp=X.createContext(null);dp.displayName="Await";var Ja=X.createContext(null);Ja.displayName="Navigation";var Go=X.createContext(null);Go.displayName="Location";var $a=X.createContext({outlet:null,matches:[],isDataRoute:!1});$a.displayName="Route";var Df=X.createContext(null);Df.displayName="RouteError";function hp(d,{relative:l}={}){Jt(Yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:h}=X.useContext(Ja),{hash:p,pathname:x,search:b}=Xo(d,{relative:l}),v=x;return c!=="/"&&(v=x==="/"?c:vi([c,x])),h.createHref({pathname:v,search:b,hash:p})}function Yo(){return X.useContext(Go)!=null}function mr(){return Jt(Yo(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Go).location}var _h="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lh(d){X.useContext(Ja).static||X.useLayoutEffect(d)}function ei(){let{isDataRoute:d}=X.useContext($a);return d?Tp():gp()}function gp(){Jt(Yo(),"useNavigate() may be used only in the context of a <Router> component.");let d=X.useContext(zs),{basename:l,navigator:c}=X.useContext(Ja),{matches:h}=X.useContext($a),{pathname:p}=mr(),x=JSON.stringify(Mh(h)),b=X.useRef(!1);return Lh(()=>{b.current=!0}),X.useCallback((S,w={})=>{if(Da(b.current,_h),!b.current)return;if(typeof S=="number"){c.go(S);return}let M=Ih(S,JSON.parse(x),p,w.relative==="path");d==null&&l!=="/"&&(M.pathname=M.pathname==="/"?l:vi([l,M.pathname])),(w.replace?c.replace:c.push)(M,w.state,w)},[l,c,x,p,d])}X.createContext(null);function $y(){let{matches:d}=X.useContext($a),l=d[d.length-1];return l?l.params:{}}function Xo(d,{relative:l}={}){let{matches:c}=X.useContext($a),{pathname:h}=mr(),p=JSON.stringify(Mh(c));return X.useMemo(()=>Ih(d,JSON.parse(p),h,l==="path"),[d,p,h,l])}function mp(d,l){return Bh(d,l)}function Bh(d,l,c,h){var ie;Jt(Yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p,static:x}=X.useContext(Ja),{matches:b}=X.useContext($a),v=b[b.length-1],S=v?v.params:{},w=v?v.pathname:"/",M=v?v.pathnameBase:"/",_=v&&v.route;{let ae=_&&_.path||"";kh(w,!_||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let U=mr(),F;if(l){let ae=typeof l=="string"?Zr(l):l;Jt(M==="/"||((ie=ae.pathname)==null?void 0:ie.startsWith(M)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${M}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),F=ae}else F=U;let j=F.pathname||"/",Q=j;if(M!=="/"){let ae=M.replace(/^\//,"").split("/");Q="/"+j.replace(/^\//,"").split("/").slice(ae.length).join("/")}let V=!x&&c&&c.matches&&c.matches.length>0?c.matches:Th(d,{pathname:Q});Da(_||V!=null,`No routes matched location "${F.pathname}${F.search}${F.hash}" `),Da(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${F.pathname}${F.search}${F.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Ap(V&&V.map(ae=>Object.assign({},ae,{params:Object.assign({},S,ae.params),pathname:vi([M,p.encodeLocation?p.encodeLocation(ae.pathname).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?M:vi([M,p.encodeLocation?p.encodeLocation(ae.pathnameBase).pathname:ae.pathnameBase])})),b,c,h);return l&&K?X.createElement(Go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...F},navigationType:"POP"}},K):K}function pp(){let d=vp(),l=up(d)?`${d.status} ${d.statusText}`:d instanceof Error?d.message:JSON.stringify(d),c=d instanceof Error?d.stack:null,h="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:h},x={padding:"2px 4px",backgroundColor:h},b=null;return console.error("Error handled by React Router default ErrorBoundary:",d),b=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:x},"ErrorBoundary")," or"," ",X.createElement("code",{style:x},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},l),c?X.createElement("pre",{style:p},c):null,b)}var xp=X.createElement(pp,null),yp=class extends X.Component{constructor(d){super(d),this.state={location:d.location,revalidation:d.revalidation,error:d.error}}static getDerivedStateFromError(d){return{error:d}}static getDerivedStateFromProps(d,l){return l.location!==d.location||l.revalidation!=="idle"&&d.revalidation==="idle"?{error:d.error,location:d.location,revalidation:d.revalidation}:{error:d.error!==void 0?d.error:l.error,location:l.location,revalidation:d.revalidation||l.revalidation}}componentDidCatch(d,l){console.error("React Router caught the following error during render",d,l)}render(){return this.state.error!==void 0?X.createElement($a.Provider,{value:this.props.routeContext},X.createElement(Df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ep({routeContext:d,match:l,children:c}){let h=X.useContext(zs);return h&&h.static&&h.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=l.route.id),X.createElement($a.Provider,{value:d},c)}function Ap(d,l=[],c=null,h=null){if(d==null){if(!c)return null;if(c.errors)d=c.matches;else if(l.length===0&&!c.initialized&&c.matches.length>0)d=c.matches;else return null}let p=d,x=c==null?void 0:c.errors;if(x!=null){let S=p.findIndex(w=>w.route.id&&(x==null?void 0:x[w.route.id])!==void 0);Jt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),p=p.slice(0,Math.min(p.length,S+1))}let b=!1,v=-1;if(c)for(let S=0;S<p.length;S++){let w=p[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=S),w.route.id){let{loaderData:M,errors:_}=c,U=w.route.loader&&!M.hasOwnProperty(w.route.id)&&(!_||_[w.route.id]===void 0);if(w.route.lazy||U){b=!0,v>=0?p=p.slice(0,v+1):p=[p[0]];break}}}return p.reduceRight((S,w,M)=>{let _,U=!1,F=null,j=null;c&&(_=x&&w.route.id?x[w.route.id]:void 0,F=w.route.errorElement||xp,b&&(v<0&&M===0?(kh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,j=null):v===M&&(U=!0,j=w.route.hydrateFallbackElement||null)));let Q=l.concat(p.slice(0,M+1)),V=()=>{let K;return _?K=F:U?K=j:w.route.Component?K=X.createElement(w.route.Component,null):w.route.element?K=w.route.element:K=S,X.createElement(Ep,{match:w,routeContext:{outlet:S,matches:Q,isDataRoute:c!=null},children:K})};return c&&(w.route.ErrorBoundary||w.route.errorElement||M===0)?X.createElement(yp,{location:c.location,revalidation:c.revalidation,component:F,error:_,children:V(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):V()},null)}function _f(d){return`${d} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wp(d){let l=X.useContext(zs);return Jt(l,_f(d)),l}function bp(d){let l=X.useContext(hu);return Jt(l,_f(d)),l}function Cp(d){let l=X.useContext($a);return Jt(l,_f(d)),l}function Lf(d){let l=Cp(d),c=l.matches[l.matches.length-1];return Jt(c.route.id,`${d} can only be used on routes that contain a unique "id"`),c.route.id}function Sp(){return Lf("useRouteId")}function vp(){var h;let d=X.useContext(Df),l=bp("useRouteError"),c=Lf("useRouteError");return d!==void 0?d:(h=l.errors)==null?void 0:h[c]}function Tp(){let{router:d}=wp("useNavigate"),l=Lf("useNavigate"),c=X.useRef(!1);return Lh(()=>{c.current=!0}),X.useCallback(async(p,x={})=>{Da(c.current,_h),c.current&&(typeof p=="number"?d.navigate(p):await d.navigate(p,{fromRouteId:l,...x}))},[d,l])}var F0={};function kh(d,l,c){!l&&!F0[d]&&(F0[d]=!0,Da(!1,c))}X.memo(Np);function Np({routes:d,future:l,state:c}){return Bh(d,void 0,c,l)}function ba(d){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uh({basename:d="/",children:l=null,location:c,navigationType:h="POP",navigator:p,static:x=!1}){Jt(!Yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let b=d.replace(/^\/*/,"/"),v=X.useMemo(()=>({basename:b,navigator:p,static:x,future:{}}),[b,p,x]);typeof c=="string"&&(c=Zr(c));let{pathname:S="/",search:w="",hash:M="",state:_=null,key:U="default"}=c,F=X.useMemo(()=>{let j=Ti(S,b);return j==null?null:{location:{pathname:j,search:w,hash:M,state:_,key:U},navigationType:h}},[b,S,w,M,_,U,h]);return Da(F!=null,`<Router basename="${b}"> is not able to match the URL "${S}${w}${M}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:X.createElement(Ja.Provider,{value:v},X.createElement(Go.Provider,{children:l,value:F}))}function Op({children:d,location:l}){return mp(Tf(d),l)}function Tf(d,l=[]){let c=[];return X.Children.forEach(d,(h,p)=>{if(!X.isValidElement(h))return;let x=[...l,p];if(h.type===X.Fragment){c.push.apply(c,Tf(h.props.children,x));return}Jt(h.type===ba,`[${typeof h.type=="string"?h.type:h.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!h.props.index||!h.props.children,"An index route cannot have child routes.");let b={id:h.props.id||x.join("-"),caseSensitive:h.props.caseSensitive,element:h.props.element,Component:h.props.Component,index:h.props.index,path:h.props.path,loader:h.props.loader,action:h.props.action,hydrateFallbackElement:h.props.hydrateFallbackElement,HydrateFallback:h.props.HydrateFallback,errorElement:h.props.errorElement,ErrorBoundary:h.props.ErrorBoundary,hasErrorBoundary:h.props.hasErrorBoundary===!0||h.props.ErrorBoundary!=null||h.props.errorElement!=null,shouldRevalidate:h.props.shouldRevalidate,handle:h.props.handle,lazy:h.props.lazy};h.props.children&&(b.children=Tf(h.props.children,x)),c.push(b)}),c}var tu="get",nu="application/x-www-form-urlencoded";function gu(d){return d!=null&&typeof d.tagName=="string"}function Mp(d){return gu(d)&&d.tagName.toLowerCase()==="button"}function Ip(d){return gu(d)&&d.tagName.toLowerCase()==="form"}function Rp(d){return gu(d)&&d.tagName.toLowerCase()==="input"}function Dp(d){return!!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)}function _p(d,l){return d.button===0&&(!l||l==="_self")&&!Dp(d)}var Jl=null;function Lp(){if(Jl===null)try{new FormData(document.createElement("form"),0),Jl=!1}catch{Jl=!0}return Jl}var Bp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wf(d){return d!=null&&!Bp.has(d)?(Da(!1,`"${d}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):d}function kp(d,l){let c,h,p,x,b;if(Ip(d)){let v=d.getAttribute("action");h=v?Ti(v,l):null,c=d.getAttribute("method")||tu,p=wf(d.getAttribute("enctype"))||nu,x=new FormData(d)}else if(Mp(d)||Rp(d)&&(d.type==="submit"||d.type==="image")){let v=d.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=d.getAttribute("formaction")||v.getAttribute("action");if(h=S?Ti(S,l):null,c=d.getAttribute("formmethod")||v.getAttribute("method")||tu,p=wf(d.getAttribute("formenctype"))||wf(v.getAttribute("enctype"))||nu,x=new FormData(v,d),!Lp()){let{name:w,type:M,value:_}=d;if(M==="image"){let U=w?`${w}.`:"";x.append(`${U}x`,"0"),x.append(`${U}y`,"0")}else w&&x.append(w,_)}}else{if(gu(d))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=tu,h=null,p=nu,b=d}return x&&p==="text/plain"&&(b=x,x=void 0),{action:h,method:c.toLowerCase(),encType:p,formData:x,body:b}}function Bf(d,l){if(d===!1||d===null||typeof d>"u")throw new Error(l)}async function Up(d,l){if(d.id in l)return l[d.id];try{let c=await import(d.module);return l[d.id]=c,c}catch(c){return console.error(`Error loading route module \`${d.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pp(d){return d==null?!1:d.href==null?d.rel==="preload"&&typeof d.imageSrcSet=="string"&&typeof d.imageSizes=="string":typeof d.rel=="string"&&typeof d.href=="string"}async function Fp(d,l,c){let h=await Promise.all(d.map(async p=>{let x=l.routes[p.route.id];if(x){let b=await Up(x,c);return b.links?b.links():[]}return[]}));return Vp(h.flat(1).filter(Pp).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function z0(d,l,c,h,p,x){let b=(S,w)=>c[w]?S.route.id!==c[w].route.id:!0,v=(S,w)=>{var M;return c[w].pathname!==S.pathname||((M=c[w].route.path)==null?void 0:M.endsWith("*"))&&c[w].params["*"]!==S.params["*"]};return x==="assets"?l.filter((S,w)=>b(S,w)||v(S,w)):x==="data"?l.filter((S,w)=>{var _;let M=h.routes[S.route.id];if(!M||!M.hasLoader)return!1;if(b(S,w)||v(S,w))return!0;if(S.route.shouldRevalidate){let U=S.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:((_=c[0])==null?void 0:_.params)||{},nextUrl:new URL(d,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof U=="boolean")return U}return!0}):[]}function zp(d,l,{includeHydrateFallback:c}={}){return jp(d.map(h=>{let p=l.routes[h.route.id];if(!p)return[];let x=[p.module];return p.clientActionModule&&(x=x.concat(p.clientActionModule)),p.clientLoaderModule&&(x=x.concat(p.clientLoaderModule)),c&&p.hydrateFallbackModule&&(x=x.concat(p.hydrateFallbackModule)),p.imports&&(x=x.concat(p.imports)),x}).flat(1))}function jp(d){return[...new Set(d)]}function Hp(d){let l={},c=Object.keys(d).sort();for(let h of c)l[h]=d[h];return l}function Vp(d,l){let c=new Set;return new Set(l),d.reduce((h,p)=>{let x=JSON.stringify(Hp(p));return c.has(x)||(c.add(x),h.push({key:x,link:p})),h},[])}function Gp(d,l){let c=typeof d=="string"?new URL(d,typeof window>"u"?"server://singlefetch/":window.location.origin):d;return c.pathname==="/"?c.pathname="_root.data":l&&Ti(c.pathname,l)==="/"?c.pathname=`${l.replace(/\/$/,"")}/_root.data`:c.pathname=`${c.pathname.replace(/\/$/,"")}.data`,c}function Ph(){let d=X.useContext(zs);return Bf(d,"You must render this element inside a <DataRouterContext.Provider> element"),d}function Yp(){let d=X.useContext(hu);return Bf(d,"You must render this element inside a <DataRouterStateContext.Provider> element"),d}var kf=X.createContext(void 0);kf.displayName="FrameworkContext";function Fh(){let d=X.useContext(kf);return Bf(d,"You must render this element inside a <HydratedRouter> element"),d}function Xp(d,l){let c=X.useContext(kf),[h,p]=X.useState(!1),[x,b]=X.useState(!1),{onFocus:v,onBlur:S,onMouseEnter:w,onMouseLeave:M,onTouchStart:_}=l,U=X.useRef(null);X.useEffect(()=>{if(d==="render"&&b(!0),d==="viewport"){let Q=K=>{K.forEach(ie=>{b(ie.isIntersecting)})},V=new IntersectionObserver(Q,{threshold:.5});return U.current&&V.observe(U.current),()=>{V.disconnect()}}},[d]),X.useEffect(()=>{if(h){let Q=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(Q)}}},[h]);let F=()=>{p(!0)},j=()=>{p(!1),b(!1)};return c?d!=="intent"?[x,U,{}]:[x,U,{onFocus:Po(v,F),onBlur:Po(S,j),onMouseEnter:Po(w,F),onMouseLeave:Po(M,j),onTouchStart:Po(_,F)}]:[!1,U,{}]}function Po(d,l){return c=>{d&&d(c),c.defaultPrevented||l(c)}}function qp({page:d,...l}){let{router:c}=Ph(),h=X.useMemo(()=>Th(c.routes,d,c.basename),[c.routes,d,c.basename]);return h?X.createElement(Zp,{page:d,matches:h,...l}):null}function Qp(d){let{manifest:l,routeModules:c}=Fh(),[h,p]=X.useState([]);return X.useEffect(()=>{let x=!1;return Fp(d,l,c).then(b=>{x||p(b)}),()=>{x=!0}},[d,l,c]),h}function Zp({page:d,matches:l,...c}){let h=mr(),{manifest:p,routeModules:x}=Fh(),{basename:b}=Ph(),{loaderData:v,matches:S}=Yp(),w=X.useMemo(()=>z0(d,l,S,p,h,"data"),[d,l,S,p,h]),M=X.useMemo(()=>z0(d,l,S,p,h,"assets"),[d,l,S,p,h]),_=X.useMemo(()=>{if(d===h.pathname+h.search+h.hash)return[];let j=new Set,Q=!1;if(l.forEach(K=>{var ae;let ie=p.routes[K.route.id];!ie||!ie.hasLoader||(!w.some(Ce=>Ce.route.id===K.route.id)&&K.route.id in v&&((ae=x[K.route.id])!=null&&ae.shouldRevalidate)||ie.hasClientLoader?Q=!0:j.add(K.route.id))}),j.size===0)return[];let V=Gp(d,b);return Q&&j.size>0&&V.searchParams.set("_routes",l.filter(K=>j.has(K.route.id)).map(K=>K.route.id).join(",")),[V.pathname+V.search]},[b,v,h,p,w,l,d,x]),U=X.useMemo(()=>zp(M,p),[M,p]),F=Qp(M);return X.createElement(X.Fragment,null,_.map(j=>X.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...c})),U.map(j=>X.createElement("link",{key:j,rel:"modulepreload",href:j,...c})),F.map(({key:j,link:Q})=>X.createElement("link",{key:j,...Q})))}function Wp(...d){return l=>{d.forEach(c=>{typeof c=="function"?c(l):c!=null&&(c.current=l)})}}var zh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zh&&(window.__reactRouterVersion="7.4.0")}catch{}function Kp({basename:d,children:l,window:c}){let h=X.useRef();h.current==null&&(h.current=jm({window:c,v5Compat:!0}));let p=h.current,[x,b]=X.useState({action:p.action,location:p.location}),v=X.useCallback(S=>{X.startTransition(()=>b(S))},[b]);return X.useLayoutEffect(()=>p.listen(v),[p,v]),X.createElement(Uh,{basename:d,children:l,location:x.location,navigationType:x.action,navigator:p})}function Jp({basename:d,children:l,window:c}){let h=X.useRef();h.current==null&&(h.current=Hm({window:c,v5Compat:!0}));let p=h.current,[x,b]=X.useState({action:p.action,location:p.location}),v=X.useCallback(S=>{X.startTransition(()=>b(S))},[b]);return X.useLayoutEffect(()=>p.listen(v),[p,v]),X.createElement(Uh,{basename:d,children:l,location:x.location,navigationType:x.action,navigator:p})}var jh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hh=X.forwardRef(function({onClick:l,discover:c="render",prefetch:h="none",relative:p,reloadDocument:x,replace:b,state:v,target:S,to:w,preventScrollReset:M,viewTransition:_,...U},F){let{basename:j}=X.useContext(Ja),Q=typeof w=="string"&&jh.test(w),V,K=!1;if(typeof w=="string"&&Q&&(V=w,zh))try{let q=new URL(window.location.href),Re=w.startsWith("//")?new URL(q.protocol+w):new URL(w),je=Ti(Re.pathname,j);Re.origin===q.origin&&je!=null?w=je+Re.search+Re.hash:K=!0}catch{Da(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=hp(w,{relative:p}),[ae,Ce,Te]=Xp(h,U),we=n2(w,{replace:b,state:v,target:S,preventScrollReset:M,relative:p,viewTransition:_});function le(q){l&&l(q),q.defaultPrevented||we(q)}let Oe=X.createElement("a",{...U,...Te,href:V||ie,onClick:K||x?l:le,ref:Wp(F,Ce),target:S,"data-discover":!Q&&c==="render"?"true":void 0});return ae&&!Q?X.createElement(X.Fragment,null,Oe,X.createElement(qp,{page:ie})):Oe});Hh.displayName="Link";var $p=X.forwardRef(function({"aria-current":l="page",caseSensitive:c=!1,className:h="",end:p=!1,style:x,to:b,viewTransition:v,children:S,...w},M){let _=Xo(b,{relative:w.relative}),U=mr(),F=X.useContext(hu),{navigator:j,basename:Q}=X.useContext(Ja),V=F!=null&&o2(_)&&v===!0,K=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,ie=U.pathname,ae=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;c||(ie=ie.toLowerCase(),ae=ae?ae.toLowerCase():null,K=K.toLowerCase()),ae&&Q&&(ae=Ti(ae,Q)||ae);const Ce=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let Te=ie===K||!p&&ie.startsWith(K)&&ie.charAt(Ce)==="/",we=ae!=null&&(ae===K||!p&&ae.startsWith(K)&&ae.charAt(K.length)==="/"),le={isActive:Te,isPending:we,isTransitioning:V},Oe=Te?l:void 0,q;typeof h=="function"?q=h(le):q=[h,Te?"active":null,we?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let Re=typeof x=="function"?x(le):x;return X.createElement(Hh,{...w,"aria-current":Oe,className:q,ref:M,style:Re,to:b,viewTransition:v},typeof S=="function"?S(le):S)});$p.displayName="NavLink";var e2=X.forwardRef(({discover:d="render",fetcherKey:l,navigate:c,reloadDocument:h,replace:p,state:x,method:b=tu,action:v,onSubmit:S,relative:w,preventScrollReset:M,viewTransition:_,...U},F)=>{let j=r2(),Q=s2(v,{relative:w}),V=b.toLowerCase()==="get"?"get":"post",K=typeof v=="string"&&jh.test(v),ie=ae=>{if(S&&S(ae),ae.defaultPrevented)return;ae.preventDefault();let Ce=ae.nativeEvent.submitter,Te=(Ce==null?void 0:Ce.getAttribute("formmethod"))||b;j(Ce||ae.currentTarget,{fetcherKey:l,method:Te,navigate:c,replace:p,state:x,relative:w,preventScrollReset:M,viewTransition:_})};return X.createElement("form",{ref:F,method:V,action:Q,onSubmit:h?S:ie,...U,"data-discover":!K&&d==="render"?"true":void 0})});e2.displayName="Form";function t2(d){return`${d} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vh(d){let l=X.useContext(zs);return Jt(l,t2(d)),l}function n2(d,{target:l,replace:c,state:h,preventScrollReset:p,relative:x,viewTransition:b}={}){let v=ei(),S=mr(),w=Xo(d,{relative:x});return X.useCallback(M=>{if(_p(M,l)){M.preventDefault();let _=c!==void 0?c:Fs(S)===Fs(w);v(d,{replace:_,state:h,preventScrollReset:p,relative:x,viewTransition:b})}},[S,v,w,c,h,l,d,p,x,b])}var a2=0,i2=()=>`__${String(++a2)}__`;function r2(){let{router:d}=Vh("useSubmit"),{basename:l}=X.useContext(Ja),c=Sp();return X.useCallback(async(h,p={})=>{let{action:x,method:b,encType:v,formData:S,body:w}=kp(h,l);if(p.navigate===!1){let M=p.fetcherKey||i2();await d.fetch(M,c,p.action||x,{preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||b,formEncType:p.encType||v,flushSync:p.flushSync})}else await d.navigate(p.action||x,{preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||b,formEncType:p.encType||v,replace:p.replace,state:p.state,fromRouteId:c,flushSync:p.flushSync,viewTransition:p.viewTransition})},[d,l,c])}function s2(d,{relative:l}={}){let{basename:c}=X.useContext(Ja),h=X.useContext($a);Jt(h,"useFormAction must be used inside a RouteContext");let[p]=h.matches.slice(-1),x={...Xo(d||".",{relative:l})},b=mr();if(d==null){x.search=b.search;let v=new URLSearchParams(x.search),S=v.getAll("index");if(S.some(M=>M==="")){v.delete("index"),S.filter(_=>_).forEach(_=>v.append("index",_));let M=v.toString();x.search=M?`?${M}`:""}}return(!d||d===".")&&p.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(x.pathname=x.pathname==="/"?c:vi([c,x.pathname])),Fs(x)}function o2(d,l={}){let c=X.useContext(Dh);Jt(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:h}=Vh("useViewTransitionState"),p=Xo(d,{relative:l.relative});if(!c.isTransitioning)return!1;let x=Ti(c.currentLocation.pathname,h)||c.currentLocation.pathname,b=Ti(c.nextLocation.pathname,h)||c.nextLocation.pathname;return ru(p.pathname,b)!=null||ru(p.pathname,x)!=null}new TextEncoder;function l2(){const d=()=>window.innerWidth>window.innerHeight?"landscape":"portrait",[l,c]=X.useState(d());return X.useEffect(()=>{const h=()=>c(d());return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),l}const u2="modulepreload",c2=function(d){return"/04-WebApp-Prehistoria/"+d},j0={},mu=function(l,c,h){let p=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),v=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));p=Promise.allSettled(c.map(S=>{if(S=c2(S),S in j0)return;j0[S]=!0;const w=S.endsWith(".css"),M=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${M}`))return;const _=document.createElement("link");if(_.rel=w?"stylesheet":u2,w||(_.as="script"),_.crossOrigin="",_.href=S,v&&_.setAttribute("nonce",v),document.head.appendChild(_),w)return new Promise((U,F)=>{_.addEventListener("load",U),_.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${S}`)))})}))}function x(b){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=b,window.dispatchEvent(v),!v.defaultPrevented)throw b}return p.then(b=>{for(const v of b||[])v.status==="rejected"&&x(v.reason);return l().catch(x)})},Ia={MODOJUEGO:"/",PORTADA:"/portada",FORM:"/form",MAPA:"/mapa",ENTREACTIVIDADES:"/entre-actividad",ESCANERQR:"/escanerQR",ACTIVIDAD:"/actividad/:id",FINAL:"/final",VITRINA:"/vitrina",VITRINA_VIRTUAL:"/vitrina-virtual",MODO_SECRETO:"/secreto"};var bf,H0;function f2(){return H0||(H0=1,bf={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),bf}var d2=f2();const h2=du(d2);var g2=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function V0(d){var l={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},c=d.match(/<\/?([^\s]+?)[/\s>]/);if(c&&(l.name=c[1],(h2[c[1]]||d.charAt(d.length-2)==="/")&&(l.voidElement=!0),l.name.startsWith("!--"))){var h=d.indexOf("-->");return{type:"comment",comment:h!==-1?d.slice(4,h):""}}for(var p=new RegExp(g2),x=null;(x=p.exec(d))!==null;)if(x[0].trim())if(x[1]){var b=x[1].trim(),v=[b,""];b.indexOf("=")>-1&&(v=b.split("=")),l.attrs[v[0]]=v[1],p.lastIndex--}else x[2]&&(l.attrs[x[2]]=x[3].trim().substring(1,x[3].length-1));return l}var m2=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,p2=/^\s*$/,x2=Object.create(null);function Gh(d,l){switch(l.type){case"text":return d+l.content;case"tag":return d+="<"+l.name+(l.attrs?function(c){var h=[];for(var p in c)h.push(p+'="'+c[p]+'"');return h.length?" "+h.join(" "):""}(l.attrs):"")+(l.voidElement?"/>":">"),l.voidElement?d:d+l.children.reduce(Gh,"")+"</"+l.name+">";case"comment":return d+"<!--"+l.comment+"-->"}}var y2={parse:function(d,l){l||(l={}),l.components||(l.components=x2);var c,h=[],p=[],x=-1,b=!1;if(d.indexOf("<")!==0){var v=d.indexOf("<");h.push({type:"text",content:v===-1?d:d.substring(0,v)})}return d.replace(m2,function(S,w){if(b){if(S!=="</"+c.name+">")return;b=!1}var M,_=S.charAt(1)!=="/",U=S.startsWith("<!--"),F=w+S.length,j=d.charAt(F);if(U){var Q=V0(S);return x<0?(h.push(Q),h):((M=p[x]).children.push(Q),h)}if(_&&(x++,(c=V0(S)).type==="tag"&&l.components[c.name]&&(c.type="component",b=!0),c.voidElement||b||!j||j==="<"||c.children.push({type:"text",content:d.slice(F,d.indexOf("<",F))}),x===0&&h.push(c),(M=p[x-1])&&M.children.push(c),p[x]=c),(!_||c.voidElement)&&(x>-1&&(c.voidElement||c.name===S.slice(2,-1))&&(x--,c=x===-1?h:p[x]),!b&&j!=="<"&&j)){M=x===-1?h:p[x].children;var V=d.indexOf("<",F),K=d.slice(F,V===-1?void 0:V);p2.test(K)&&(K=" "),(V>-1&&x+M.length>=0||K!==" ")&&M.push({type:"text",content:K})}}),h},stringify:function(d){return d.reduce(function(l,c){return l+Gh("",c)},"")}};const au=(d,l,c,h)=>{var x,b,v,S;const p=[c,{code:l,...h||{}}];if((b=(x=d==null?void 0:d.services)==null?void 0:x.logger)!=null&&b.forward)return d.services.logger.forward(p,"warn","react-i18next::",!0);Ca(p[0])&&(p[0]=`react-i18next:: ${p[0]}`),(S=(v=d==null?void 0:d.services)==null?void 0:v.logger)!=null&&S.warn?d.services.logger.warn(...p):console!=null&&console.warn&&console.warn(...p)},G0={},Ho=(d,l,c,h)=>{Ca(c)&&G0[c]||(Ca(c)&&(G0[c]=new Date),au(d,l,c,h))},Yh=(d,l)=>()=>{if(d.isInitialized)l();else{const c=()=>{setTimeout(()=>{d.off("initialized",c)},0),l()};d.on("initialized",c)}},Nf=(d,l,c)=>{d.loadNamespaces(l,Yh(d,c))},Y0=(d,l,c,h)=>{if(Ca(c)&&(c=[c]),d.options.preload&&d.options.preload.indexOf(l)>-1)return Nf(d,c,h);c.forEach(p=>{d.options.ns.indexOf(p)<0&&d.options.ns.push(p)}),d.loadLanguages(l,Yh(d,h))},E2=(d,l,c={})=>!l.languages||!l.languages.length?(Ho(l,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:l.languages}),!0):l.hasLoadedNamespace(d,{lng:c.lng,precheck:(h,p)=>{var x;if(((x=c.bindI18n)==null?void 0:x.indexOf("languageChanging"))>-1&&h.services.backendConnector.backend&&h.isLanguageChangingTo&&!p(h.isLanguageChangingTo,d))return!1}}),Ca=d=>typeof d=="string",Qr=d=>typeof d=="object"&&d!==null,A2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,w2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},b2=d=>w2[d],C2=d=>d.replace(A2,b2);let Of={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:C2};const S2=(d={})=>{Of={...Of,...d}},Xh=()=>Of;let qh;const v2=d=>{qh=d},Uf=()=>qh,Cf=(d,l)=>{var h;if(!d)return!1;const c=((h=d.props)==null?void 0:h.children)??d.children;return l?c.length>0:!!c},Sf=d=>{var c,h;if(!d)return[];const l=((c=d.props)==null?void 0:c.children)??d.children;return(h=d.props)!=null&&h.i18nIsDynamicList?Us(l):l},T2=d=>Array.isArray(d)&&d.every(X.isValidElement),Us=d=>Array.isArray(d)?d:[d],N2=(d,l)=>{const c={...l};return c.props=Object.assign(d.props,l.props),c},Qh=(d,l,c,h)=>{if(!d)return"";let p="";const x=Us(d),b=l!=null&&l.transSupportBasicHtmlNodes?l.transKeepBasicHtmlNodesFor??[]:[];return x.forEach((v,S)=>{if(Ca(v)){p+=`${v}`;return}if(X.isValidElement(v)){const{props:w,type:M}=v,_=Object.keys(w).length,U=b.indexOf(M)>-1,F=w.children;if(!F&&U&&!_){p+=`<${M}/>`;return}if(!F&&(!U||_)||w.i18nIsDynamicList){p+=`<${S}></${S}>`;return}if(U&&_===1&&Ca(F)){p+=`<${M}>${F}</${M}>`;return}const j=Qh(F,l,c,h);p+=`<${S}>${j}</${S}>`;return}if(v===null){au(c,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:h});return}if(Qr(v)){const{format:w,...M}=v,_=Object.keys(M);if(_.length===1){const U=w?`${_[0]}, ${w}`:_[0];p+=`{{${U}}}`;return}au(c,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:h,child:v});return}au(c,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:h,child:v})}),p},O2=(d,l,c,h,p,x)=>{if(l==="")return[];const b=h.transKeepBasicHtmlNodesFor||[],v=l&&new RegExp(b.map(V=>`<${V}`).join("|")).test(l);if(!d&&!v&&!x)return[l];const S={},w=V=>{Us(V).forEach(ie=>{Ca(ie)||(Cf(ie)?w(Sf(ie)):Qr(ie)&&!X.isValidElement(ie)&&Object.assign(S,ie))})};w(d);const M=y2.parse(`<0>${l}</0>`),_={...S,...p},U=(V,K,ie)=>{var Te;const ae=Sf(V),Ce=j(ae,K.children,ie);return T2(ae)&&Ce.length===0||(Te=V.props)!=null&&Te.i18nIsDynamicList?ae:Ce},F=(V,K,ie,ae,Ce)=>{V.dummy?(V.children=K,ie.push(X.cloneElement(V,{key:ae},Ce?void 0:K))):ie.push(...X.Children.map([V],Te=>{const we={...Te.props};return delete we.i18nIsDynamicList,X.createElement(Te.type,{...we,key:ae,ref:Te.ref},Ce?null:K)}))},j=(V,K,ie)=>{const ae=Us(V);return Us(K).reduce((Te,we,le)=>{var q,Re;const Oe=((Re=(q=we.children)==null?void 0:q[0])==null?void 0:Re.content)&&c.services.interpolator.interpolate(we.children[0].content,_,c.language);if(we.type==="tag"){let je=ae[parseInt(we.name,10)];ie.length===1&&!je&&(je=ie[0][we.name]),je||(je={});const ve=Object.keys(we.attrs).length!==0?N2({props:we.attrs},je):je,Pe=X.isValidElement(ve),st=Pe&&Cf(we,!0)&&!we.voidElement,$=v&&Qr(ve)&&ve.dummy&&!Pe,ge=Qr(d)&&Object.hasOwnProperty.call(d,we.name);if(Ca(ve)){const me=c.services.interpolator.interpolate(ve,_,c.language);Te.push(me)}else if(Cf(ve)||st){const me=U(ve,we,ie);F(ve,me,Te,le)}else if($){const me=j(ae,we.children,ie);F(ve,me,Te,le)}else if(Number.isNaN(parseFloat(we.name)))if(ge){const me=U(ve,we,ie);F(ve,me,Te,le,we.voidElement)}else if(h.transSupportBasicHtmlNodes&&b.indexOf(we.name)>-1)if(we.voidElement)Te.push(X.createElement(we.name,{key:`${we.name}-${le}`}));else{const me=j(ae,we.children,ie);Te.push(X.createElement(we.name,{key:`${we.name}-${le}`},me))}else if(we.voidElement)Te.push(`<${we.name} />`);else{const me=j(ae,we.children,ie);Te.push(`<${we.name}>${me}</${we.name}>`)}else if(Qr(ve)&&!Pe){const me=we.children[0]?Oe:null;me&&Te.push(me)}else F(ve,Oe,Te,le,we.children.length!==1||!Oe)}else if(we.type==="text"){const je=h.transWrapTextNodes,ve=x?h.unescape(c.services.interpolator.interpolate(we.content,_,c.language)):c.services.interpolator.interpolate(we.content,_,c.language);je?Te.push(X.createElement(je,{key:`${we.name}-${le}`},ve)):Te.push(ve)}return Te},[])},Q=j([{dummy:!0,children:d||[]}],M,Us(d||[]));return Sf(Q[0])},Zh=(d,l,c)=>{const h=d.key||l,p=X.cloneElement(d,{key:h});if(!p.props||!p.props.children||c.indexOf(`${l}/>`)<0&&c.indexOf(`${l} />`)<0)return p;function x(){return X.createElement(X.Fragment,null,p)}return X.createElement(x,{key:h})},M2=(d,l)=>d.map((c,h)=>Zh(c,h,l)),I2=(d,l)=>{const c={};return Object.keys(d).forEach(h=>{Object.assign(c,{[h]:Zh(d[h],h,l)})}),c},R2=(d,l,c,h)=>d?Array.isArray(d)?M2(d,l):Qr(d)?I2(d,l):(Ho(c,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:h}),null):null;function D2({children:d,count:l,parent:c,i18nKey:h,context:p,tOptions:x={},values:b,defaults:v,components:S,ns:w,i18n:M,t:_,shouldUnescape:U,...F}){var ve,Pe,st,$,ge,me;const j=M||Uf();if(!j)return Ho(j,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:h}),d;const Q=_||j.t.bind(j)||(ke=>ke),V={...Xh(),...(ve=j.options)==null?void 0:ve.react};let K=w||Q.ns||((Pe=j.options)==null?void 0:Pe.defaultNS);K=Ca(K)?[K]:K||["translation"];const ie=Qh(d,V,j,h),ae=v||ie||V.transEmptyNodeValue||h,{hashTransKey:Ce}=V,Te=h||(Ce?Ce(ie||ae):ie||ae);($=(st=j.options)==null?void 0:st.interpolation)!=null&&$.defaultVariables&&(b=b&&Object.keys(b).length>0?{...b,...j.options.interpolation.defaultVariables}:{...j.options.interpolation.defaultVariables});const we=b||l!==void 0&&!((me=(ge=j.options)==null?void 0:ge.interpolation)!=null&&me.alwaysFormat)||!d?x.interpolation:{interpolation:{...x.interpolation,prefix:"#$?",suffix:"?$#"}},le={...x,context:p||x.context,count:l,...b,...we,defaultValue:ae,ns:K},Oe=Te?Q(Te,le):ae,q=R2(S,Oe,j,h),Re=O2(q||d,Oe,j,V,le,U),je=c??V.defaultTransParent;return je?X.createElement(je,F,Re):Re}const _2={type:"3rdParty",init(d){S2(d.options.react),v2(d)}},Wh=X.createContext();class L2{constructor(){this.usedNamespaces={}}addUsedNamespaces(l){l.forEach(c=>{this.usedNamespaces[c]||(this.usedNamespaces[c]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Kh({children:d,count:l,parent:c,i18nKey:h,context:p,tOptions:x={},values:b,defaults:v,components:S,ns:w,i18n:M,t:_,shouldUnescape:U,...F}){var ie;const{i18n:j,defaultNS:Q}=X.useContext(Wh)||{},V=M||j||Uf(),K=_||(V==null?void 0:V.t.bind(V));return D2({children:d,count:l,parent:c,i18nKey:h,context:p,tOptions:x,values:b,defaults:v,components:S,ns:w||(K==null?void 0:K.ns)||Q||((ie=V==null?void 0:V.options)==null?void 0:ie.defaultNS),i18n:V,t:_,shouldUnescape:U,...F})}const B2=(d,l)=>{const c=X.useRef();return X.useEffect(()=>{c.current=d},[d,l]),c.current},Jh=(d,l,c,h)=>d.getFixedT(l,c,h),k2=(d,l,c,h)=>X.useCallback(Jh(d,l,c,h),[d,l,c,h]),pr=(d,l={})=>{var Ce,Te,we,le;const{i18n:c}=l,{i18n:h,defaultNS:p}=X.useContext(Wh)||{},x=c||h||Uf();if(x&&!x.reportNamespaces&&(x.reportNamespaces=new L2),!x){Ho(x,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const Oe=(Re,je)=>Ca(je)?je:Qr(je)&&Ca(je.defaultValue)?je.defaultValue:Array.isArray(Re)?Re[Re.length-1]:Re,q=[Oe,{},!1];return q.t=Oe,q.i18n={},q.ready=!1,q}(Ce=x.options.react)!=null&&Ce.wait&&Ho(x,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const b={...Xh(),...x.options.react,...l},{useSuspense:v,keyPrefix:S}=b;let w=d||p||((Te=x.options)==null?void 0:Te.defaultNS);w=Ca(w)?[w]:w||["translation"],(le=(we=x.reportNamespaces).addUsedNamespaces)==null||le.call(we,w);const M=(x.isInitialized||x.initializedStoreOnce)&&w.every(Oe=>E2(Oe,x,b)),_=k2(x,l.lng||null,b.nsMode==="fallback"?w:w[0],S),U=()=>_,F=()=>Jh(x,l.lng||null,b.nsMode==="fallback"?w:w[0],S),[j,Q]=X.useState(U);let V=w.join();l.lng&&(V=`${l.lng}${V}`);const K=B2(V),ie=X.useRef(!0);X.useEffect(()=>{const{bindI18n:Oe,bindI18nStore:q}=b;ie.current=!0,!M&&!v&&(l.lng?Y0(x,l.lng,w,()=>{ie.current&&Q(F)}):Nf(x,w,()=>{ie.current&&Q(F)})),M&&K&&K!==V&&ie.current&&Q(F);const Re=()=>{ie.current&&Q(F)};return Oe&&(x==null||x.on(Oe,Re)),q&&(x==null||x.store.on(q,Re)),()=>{ie.current=!1,x&&(Oe==null||Oe.split(" ").forEach(je=>x.off(je,Re))),q&&x&&q.split(" ").forEach(je=>x.store.off(je,Re))}},[x,V]),X.useEffect(()=>{ie.current&&M&&Q(U)},[x,S,M]);const ae=[j,x,M];if(ae.t=j,ae.i18n=x,ae.ready=M,M||!M&&!v)return ae;throw new Promise(Oe=>{l.lng?Y0(x,l.lng,w,()=>Oe()):Nf(x,w,()=>Oe())})};function U2(){const{t:d}=pr("pages"),l=ei(),c=h=>{(h==="solo"||h==="grupos")&&l("/portada")};return te.jsxs("div",{className:"modojuego-container",children:[te.jsx("h1",{className:"titulo",children:d("modojuego.titulo")}),te.jsx("p",{className:"subtitulo",children:te.jsx("strong",{children:d("modojuego.subtitulo")})}),te.jsxs("div",{className:"opciones",children:[te.jsx("button",{className:"btn-opcion",id:"solo",onClick:()=>c("solo"),style:{backgroundImage:"url(/04-WebApp-Prehistoria/assets/images/solo_3d.png)"},children:te.jsx("span",{children:d("modojuego.modoIndividual")})}),te.jsxs("button",{className:"btn-opcion",disabled:!0,id:"grupo",onClick:()=>c("grupos"),style:{backgroundImage:"url(/04-WebApp-Prehistoria/assets/images/grupo_3d.png)"},children:[te.jsx("span",{children:d("modojuego.modoEquipo")}),te.jsxs("div",{className:"hover-mensaje",children:[" ",d("modojuego.proximamente")]})]})]})]})}function P2(){const{t:d}=pr("pages"),l=ei(),c=X.useRef(null);X.useEffect(()=>(c.current||(c.current=new Audio("/04-WebApp-Prehistoria/sounds/vozportada.wav"),c.current.volume=.5),(async()=>{try{await c.current.play()}catch{console.warn("El navegador bloqueó el autoplay. Se necesita interacción del usuario.")}})(),()=>{c.current&&(c.current.pause(),c.current.currentTime=0)}),[]);const h=()=>{l("/form")};return te.jsx("div",{className:"portada-container",children:te.jsxs("div",{className:"contenido",children:[te.jsx("h1",{className:"titulo1",children:d("portada.titulo")}),te.jsx("p",{className:"subtitulo1",children:d("portada.descripcion")}),te.jsx("button",{className:"btn-aventura",onClick:h,children:d("portada.empezar")})]})})}function F2(d){return/^[a-zA-ZáéíóúÁÉÍÓÚñÑ0-9\s]{2,20}$/.test(d)}function e3(d){return["explorador","exploradora"].includes(d)}function z2(d){return d==="Kushim"?"explorador":"exploradora"}function j2(){const{t:d}=pr("pages"),[l,c]=X.useState(""),[h,p]=X.useState(""),[x,b]=X.useState(0),v=ei(),S=X.useRef(null),w=X.useRef(null),M=X.useRef(null),_=X.useRef(null),U={Kushim:"/04-WebApp-Prehistoria/assets/avatars/explorador.png",Enheduanna:"/04-WebApp-Prehistoria/assets/avatars/exploradora.png"},F=["/04-WebApp-Prehistoria/assets/form-fondo/fondo1.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo2.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo3.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo4.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo5.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo6.png"];X.useEffect(()=>{const K=setInterval(()=>{b(ie=>(ie+1)%F.length)},5e3);return()=>clearInterval(K)},[]),X.useEffect(()=>(w.current=new Audio("/04-WebApp-Prehistoria/sounds/dino.mp3"),w.current.volume=.5,(async()=>{try{await w.current.play()}catch{console.warn(" Autoplay bloqueado para dino.mp3")}})(),()=>{w.current.pause(),w.current.currentTime=0}),[]),X.useEffect(()=>{S.current=new Audio("/04-WebApp-Prehistoria/sounds/welcome.mp3"),M.current=new Audio("/04-WebApp-Prehistoria/sounds/exploradora.wav"),_.current=new Audio("/04-WebApp-Prehistoria/sounds/explorador.wav")},[]);const j=K=>c(K.target.value),Q=K=>{const ie=K.target.value;p(ie),ie==="Kushim"?(M.current.currentTime=0,_.current.currentTime=100,M.current.play().catch(()=>console.warn("El navegador bloqueó el autoplay del sonido exploradora."))):ie==="Enheduanna"&&(_.current.currentTime=0,M.current.currentTime=100,_.current.play().catch(()=>console.warn("El navegador bloqueó el autoplay del sonido explorador.")))},V=K=>{if(K.preventDefault(),!F2(l)){alert(d("form.alertaNombreInvalido"));return}if(!l||!h){alert(d("form.alertaFaltanDatos"));return}S.current.currentTime=0,S.current.play(),localStorage.setItem("nombre",l),localStorage.setItem("avatar",z2(h)),v("/mapa")};return te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"fondo-cambiante",style:{backgroundImage:`url(${F[x]})`,backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,transition:"background-image 1s ease-in-out"}}),te.jsxs("form",{className:"form",onSubmit:V,children:[te.jsxs("fieldset",{children:[te.jsx("label",{htmlFor:"name",children:d("form.nombre")}),te.jsx("input",{type:"text",id:"name",value:l,onChange:j,maxLength:"20",required:!0,placeholder:d("form.placeholderNombre"),autoFocus:!0})]}),te.jsxs("fieldset",{children:[te.jsx("label",{children:d("form.guia")}),te.jsx("div",{className:"avatar-options",children:Object.keys(U).map(K=>te.jsxs("label",{children:[te.jsx("input",{type:"radio",name:"avatar",value:K,checked:h===K,onChange:Q,className:"hidden"}),te.jsx("img",{src:U[K],alt:K,loading:"lazy",className:`avatar-img ${h===K?"selected":""}`}),te.jsx("p",{className:"text-img",children:K.charAt(0).toUpperCase()+K.slice(1)})]},K))})]}),te.jsx("button",{type:"submit",children:d("form.botonAventura")})]})]})}const H2={explorador:"/04-WebApp-Prehistoria/assets/avatars/explorador.png",exploradora:"/04-WebApp-Prehistoria/assets/avatars/exploradora.png"},V2={explorador:"Kushim",exploradora:"Enheduanna"};function G2(){const{t:d}=pr("pages"),l=ei(),[c,h]=X.useState(""),[p,x]=X.useState("");return X.useEffect(()=>{const b=localStorage.getItem("nombre"),v=localStorage.getItem("avatar");if(console.log("nombreGuardado:",b),console.log("avatarGuardado",v),!b||!v){l("/");return}h(b),x(v)},[]),te.jsxs("div",{className:"mapa-container",children:[te.jsxs("div",{className:"saludo",children:[te.jsx("h2",{children:d("mapa.saludo",{nombre:c})}),te.jsxs("div",{className:"guia",children:[te.jsx("img",{src:H2[p],alt:p,className:"avatar-mini"}),te.jsx("div",{style:{whiteSpace:"pre-wrap"},children:te.jsx(Kh,{i18nKey:"mapa.dialogo",ns:"pages",values:{nombre:c,guia:V2[p]},components:[te.jsx("br",{})]})})]}),te.jsx("p",{children:d("mapa.instruccion")}),te.jsxs("div",{className:"botones",children:[te.jsxs("button",{className:"qr-button",onClick:()=>l("/EscanerQR"),children:["📷 ",d("mapa.botonQR")]}),te.jsxs("button",{className:"volver-button",onClick:()=>l("/Form"),children:["🔙 ",d("mapa.botonVolver")]})]})]}),te.jsx("div",{className:"fondo"})]})}var Le;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Le||(Le={}));var X0=new Map([[Le.QR_CODE,"QR_CODE"],[Le.AZTEC,"AZTEC"],[Le.CODABAR,"CODABAR"],[Le.CODE_39,"CODE_39"],[Le.CODE_93,"CODE_93"],[Le.CODE_128,"CODE_128"],[Le.DATA_MATRIX,"DATA_MATRIX"],[Le.MAXICODE,"MAXICODE"],[Le.ITF,"ITF"],[Le.EAN_13,"EAN_13"],[Le.EAN_8,"EAN_8"],[Le.PDF_417,"PDF_417"],[Le.RSS_14,"RSS_14"],[Le.RSS_EXPANDED,"RSS_EXPANDED"],[Le.UPC_A,"UPC_A"],[Le.UPC_E,"UPC_E"],[Le.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),q0;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(q0||(q0={}));function Y2(d){return Object.values(Le).includes(d)}var gr;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(gr||(gr={}));var Ra=function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[gr.SCAN_TYPE_CAMERA,gr.SCAN_TYPE_FILE],d}(),$h=function(){function d(l,c){this.format=l,this.formatName=c}return d.prototype.toString=function(){return this.formatName},d.create=function(l){if(!X0.has(l))throw"".concat(l," not in html5QrcodeSupportedFormatsTextMap");return new d(l,X0.get(l))},d}(),Q0=function(){function d(){}return d.createFromText=function(l){var c={text:l};return{decodedText:l,result:c}},d.createFromQrcodeResult=function(l){return{decodedText:l.text,result:l}},d}(),Mf;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Mf||(Mf={}));var eg=function(){function d(){}return d.createFrom=function(l){return{errorMessage:l,type:Mf.UNKWOWN_ERROR}},d}(),tg=function(){function d(l){this.verbose=l}return d.prototype.log=function(l){this.verbose&&console.log(l)},d.prototype.warn=function(l){this.verbose&&console.warn(l)},d.prototype.logError=function(l,c){(this.verbose||c===!0)&&console.error(l)},d.prototype.logErrors=function(l){if(l.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(l)},d}();function Wa(d){return typeof d>"u"||d===null}function X2(d,l,c){return d>c?c:d<l?l:d}var Ps=function(){function d(){}return d.codeParseError=function(l){return"QR code parse error, error = ".concat(l)},d.errorGettingUserMedia=function(l){return"Error getting userMedia, error = ".concat(l)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d}(),Dt=function(){function d(){}return d.scanningStatus=function(){return"Scanning"},d.idleStatus=function(){return"Idle"},d.errorStatus=function(){return"Error"},d.permissionStatus=function(){return"Permission"},d.noCameraFoundErrorStatus=function(){return"No Cameras"},d.lastMatch=function(l){return"Last Match: ".concat(l)},d.codeScannerTitle=function(){return"Code Scanner"},d.cameraPermissionTitle=function(){return"Request Camera Permissions"},d.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},d.noCameraFound=function(){return"No camera found"},d.scanButtonStopScanningText=function(){return"Stop Scanning"},d.scanButtonStartScanningText=function(){return"Start Scanning"},d.torchOnButton=function(){return"Switch On Torch"},d.torchOffButton=function(){return"Switch Off Torch"},d.torchOnFailedMessage=function(){return"Failed to turn on torch"},d.torchOffFailedMessage=function(){return"Failed to turn off torch"},d.scanButtonScanningStarting=function(){return"Launching Camera..."},d.textIfCameraScanSelected=function(){return"Scan an Image File"},d.textIfFileScanSelected=function(){return"Scan using camera directly"},d.selectCamera=function(){return"Select Camera"},d.fileSelectionChooseImage=function(){return"Choose Image"},d.fileSelectionChooseAnother=function(){return"Choose Another"},d.fileSelectionNoImageSelected=function(){return"No image choosen"},d.anonymousCameraPrefix=function(){return"Anonymous Camera"},d.dragAndDropMessage=function(){return"Or drop an image to scan"},d.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},d.zoom=function(){return"zoom"},d.loadingImage=function(){return"Loading image..."},d.cameraScanAltText=function(){return"Camera based scan"},d.fileScanAltText=function(){return"Fule based scan"},d}(),Z0=function(){function d(){}return d.poweredBy=function(){return"Powered by "},d.reportIssues=function(){return"Report issues"},d}(),ng=function(){function d(){}return d.isMediaStreamConstraintsValid=function(l,c){if(typeof l!="object"){var h=typeof l;return c.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var p=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],x=new Set(p),b=Object.keys(l),v=0,S=b;v<S.length;v++){var w=S[v];if(x.has(w))return c.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},d}(),zo={exports:{}},q2=zo.exports,W0;function Q2(){return W0||(W0=1,function(d,l){(function(c,h){h(l)})(q2,function(c){function h(N){return N==null}var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,t){N.__proto__=t}||function(N,t){for(var a in t)t.hasOwnProperty(a)&&(N[a]=t[a])};function x(N,t){p(N,t);function a(){this.constructor=N}N.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function b(N,t){var a=Object.setPrototypeOf;a?a(N,t):N.__proto__=t}function v(N,t){t===void 0&&(t=N.constructor);var a=Error.captureStackTrace;a&&a(N,t)}var S=function(N){x(t,N);function t(a){var i=this.constructor,s=N.call(this,a)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1}),b(s,i.prototype),v(s),s}return t}(Error);class w extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}w.kind="Exception";class M extends w{}M.kind="ArgumentException";class _ extends w{}_.kind="IllegalArgumentException";class U{constructor(t){if(this.binarizer=t,t===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,a){return this.binarizer.getBlackRow(t,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,a,i,s){const o=this.binarizer.getLuminanceSource().crop(t,a,i,s);return new U(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new U(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new U(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class F extends w{static getChecksumInstance(){return new F}}F.kind="ChecksumException";class j{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Q{static arraycopy(t,a,i,s,o){for(;o--;)i[s++]=t[a++]}static currentTimeMillis(){return Date.now()}}class V extends w{}V.kind="IndexOutOfBoundsException";class K extends V{constructor(t=void 0,a=void 0){super(a),this.index=t,this.message=a}}K.kind="ArrayIndexOutOfBoundsException";class ie{static fill(t,a){for(let i=0,s=t.length;i<s;i++)t[i]=a}static fillWithin(t,a,i,s){ie.rangeCheck(t.length,a,i);for(let o=a;o<i;o++)t[o]=s}static rangeCheck(t,a,i){if(a>i)throw new _("fromIndex("+a+") > toIndex("+i+")");if(a<0)throw new K(a);if(i>t)throw new K(i)}static asList(...t){return t}static create(t,a,i){return Array.from({length:t}).map(o=>Array.from({length:a}).fill(i))}static createInt32Array(t,a,i){return Array.from({length:t}).map(o=>Int32Array.from({length:a}).fill(i))}static equals(t,a){if(!t||!a||!t.length||!a.length||t.length!==a.length)return!1;for(let i=0,s=t.length;i<s;i++)if(t[i]!==a[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let a=1;for(const i of t)a=31*a+i;return a}static fillUint8Array(t,a){for(let i=0;i!==t.length;i++)t[i]=a}static copyOf(t,a){return t.slice(0,a)}static copyOfUint8Array(t,a){if(t.length<=a){const i=new Uint8Array(a);return i.set(t),i}return t.slice(0,a)}static copyOfRange(t,a,i){const s=i-a,o=new Int32Array(s);return Q.arraycopy(t,a,o,0,s),o}static binarySearch(t,a,i){i===void 0&&(i=ie.numberComparator);let s=0,o=t.length-1;for(;s<=o;){const f=o+s>>1,g=i(a,t[f]);if(g>0)s=f+1;else if(g<0)o=f-1;else return f}return-s-1}static numberComparator(t,a){return t-a}}class ae{static numberOfTrailingZeros(t){let a;if(t===0)return 32;let i=31;return a=t<<16,a!==0&&(i-=16,t=a),a=t<<8,a!==0&&(i-=8,t=a),a=t<<4,a!==0&&(i-=4,t=a),a=t<<2,a!==0&&(i-=2,t=a),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let a=1;return t>>>16||(a+=16,t<<=16),t>>>24||(a+=8,t<<=8),t>>>28||(a+=4,t<<=4),t>>>30||(a+=2,t<<=2),a-=t>>>31,a}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,a){return Math.trunc(t/a)}static parseInt(t,a=void 0){return parseInt(t,a)}}ae.MIN_VALUE_32_BITS=-2147483648,ae.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(t,a){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,a==null?this.bits=Ce.makeArray(t):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const a=Ce.makeArray(t);Q.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const a=this.size;if(t>=a)return a;const i=this.bits;let s=Math.floor(t/32),o=i[s];o&=~((1<<(t&31))-1);const f=i.length;for(;o===0;){if(++s===f)return a;o=i[s]}const g=s*32+ae.numberOfTrailingZeros(o);return g>a?a:g}getNextUnset(t){const a=this.size;if(t>=a)return a;const i=this.bits;let s=Math.floor(t/32),o=~i[s];o&=~((1<<(t&31))-1);const f=i.length;for(;o===0;){if(++s===f)return a;o=~i[s]}const g=s*32+ae.numberOfTrailingZeros(o);return g>a?a:g}setBulk(t,a){this.bits[Math.floor(t/32)]=a}setRange(t,a){if(a<t||t<0||a>this.size)throw new _;if(a===t)return;a--;const i=Math.floor(t/32),s=Math.floor(a/32),o=this.bits;for(let f=i;f<=s;f++){const g=f>i?0:t&31,A=(2<<(f<s?31:a&31))-(1<<g);o[f]|=A}}clear(){const t=this.bits.length,a=this.bits;for(let i=0;i<t;i++)a[i]=0}isRange(t,a,i){if(a<t||t<0||a>this.size)throw new _;if(a===t)return!0;a--;const s=Math.floor(t/32),o=Math.floor(a/32),f=this.bits;for(let g=s;g<=o;g++){const y=g>s?0:t&31,C=(2<<(g<o?31:a&31))-(1<<y)&4294967295;if((f[g]&C)!==(i?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,a){if(a<0||a>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let i=a;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const a=t.size;this.ensureCapacity(this.size+a);for(let i=0;i<a;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new _("Sizes don't match");const a=this.bits;for(let i=0,s=a.length;i<s;i++)a[i]^=t.bits[i]}toBytes(t,a,i,s){for(let o=0;o<s;o++){let f=0;for(let g=0;g<8;g++)this.get(t)&&(f|=1<<7-g),t++;a[i+o]=f}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),i=a+1,s=this.bits;for(let o=0;o<i;o++){let f=s[o];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,t[a-o]=f}if(this.size!==i*32){const o=i*32-this.size;let f=t[0]>>>o;for(let g=1;g<i;g++){const y=t[g];f|=y<<32-o,t[g-1]=f,f=y>>>o}t[i-1]=f}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Ce))return!1;const a=t;return this.size===a.size&&ie.equals(this.bits,a.bits)}hashCode(){return 31*this.size+ie.hashCode(this.bits)}toString(){let t="";for(let a=0,i=this.size;a<i;a++)(a&7)===0&&(t+=" "),t+=this.get(a)?"X":".";return t}clone(){return new Ce(this.size,this.bits.slice())}}var Te;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Te||(Te={}));var we=Te;class le extends w{static getFormatInstance(){return new le}}le.kind="FormatException";var Oe;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(Oe||(Oe={}));class q{constructor(t,a,i,...s){this.valueIdentifier=t,this.name=i,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=s,q.VALUE_IDENTIFIER_TO_ECI.set(t,this),q.NAME_TO_ECI.set(i,this);const o=this.values;for(let f=0,g=o.length;f!==g;f++){const y=o[f];q.VALUES_TO_ECI.set(y,this)}for(const f of s)q.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new le("incorect value");const a=q.VALUES_TO_ECI.get(t);if(a===void 0)throw new le("incorect value");return a}static getCharacterSetECIByName(t){const a=q.NAME_TO_ECI.get(t);if(a===void 0)throw new le("incorect value");return a}equals(t){if(!(t instanceof q))return!1;const a=t;return this.getName()===a.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(Oe.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(Oe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(Oe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(Oe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(Oe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(Oe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(Oe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(Oe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(Oe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(Oe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(Oe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(Oe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(Oe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(Oe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(Oe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(Oe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(Oe.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(Oe.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(Oe.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(Oe.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(Oe.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(Oe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(Oe.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(Oe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(Oe.Big5,28,"Big5"),q.GB18030=new q(Oe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(Oe.EUC_KR,30,"EUC_KR","EUC-KR");class Re extends w{}Re.kind="UnsupportedOperationException";class je{static decode(t,a){const i=this.encodingName(a);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!je.isBrowser()&&t==="ISO-8859-1"}static encode(t,a){const i=this.encodingName(a);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof q?t:q.getCharacterSetECIByName(t)}static decodeFallback(t,a){const i=this.encodingCharacterSet(a);if(je.isDecodeFallbackSupported(i)){let s="";for(let o=0,f=t.length;o<f;o++){let g=t[o].toString(16);g.length<2&&(g="0"+g),s+="%"+g}return decodeURIComponent(s)}if(i.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Re(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(q.UTF8)||t.equals(q.ISO8859_1)||t.equals(q.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let o=0;o<i.length;o++)s.push(i[o].charCodeAt(0));return new Uint8Array(s)}}class ve{static castAsNonUtf8Char(t,a=null){const i=a?a.getName():this.ISO88591;return je.decode(new Uint8Array([t]),i)}static guessEncoding(t,a){if(a!=null&&a.get(we.CHARACTER_SET)!==void 0)return a.get(we.CHARACTER_SET).toString();const i=t.length;let s=!0,o=!0,f=!0,g=0,y=0,A=0,C=0,O=0,I=0,k=0,z=0,H=0,W=0,se=0;const Ae=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let be=0;be<i&&(s||o||f);be++){const ye=t[be]&255;f&&(g>0?(ye&128)===0?f=!1:g--:(ye&128)!==0&&((ye&64)===0?f=!1:(g++,(ye&32)===0?y++:(g++,(ye&16)===0?A++:(g++,(ye&8)===0?C++:f=!1))))),s&&(ye>127&&ye<160?s=!1:ye>159&&(ye<192||ye===215||ye===247)&&se++),o&&(O>0?ye<64||ye===127||ye>252?o=!1:O--:ye===128||ye===160||ye>239?o=!1:ye>160&&ye<224?(I++,z=0,k++,k>H&&(H=k)):ye>127?(O++,k=0,z++,z>W&&(W=z)):(k=0,z=0))}return f&&g>0&&(f=!1),o&&O>0&&(o=!1),f&&(Ae||y+A+C>0)?ve.UTF8:o&&(ve.ASSUME_SHIFT_JIS||H>=3||W>=3)?ve.SHIFT_JIS:s&&o?H===2&&I===2||se*10>=i?ve.SHIFT_JIS:ve.ISO88591:s?ve.ISO88591:o?ve.SHIFT_JIS:f?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(t,...a){let i=-1;function s(f,g,y,A,C,O){if(f==="%%")return"%";if(a[++i]===void 0)return;f=A?parseInt(A.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,k;switch(O){case"s":k=a[i];break;case"c":k=a[i][0];break;case"f":k=parseFloat(a[i]).toFixed(f);break;case"p":k=parseFloat(a[i]).toPrecision(f);break;case"e":k=parseFloat(a[i]).toExponential(f);break;case"x":k=parseInt(a[i]).toString(I||16);break;case"d":k=parseFloat(parseInt(a[i],I||10).toPrecision(f)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let z=parseInt(y),H=y&&y[0]+""=="0"?"0":" ";for(;k.length<z;)k=g!==void 0?k+H:H+k;return k}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,s)}static getBytes(t,a){return je.encode(t,a)}static getCharCode(t,a=0){return t.charCodeAt(a)}static getCharAt(t){return String.fromCharCode(t)}}ve.SHIFT_JIS=q.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=q.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=q.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class Pe{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,a,i){for(let s=a;a<a+i;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+1)}substring(t,a){return this.value.substring(t,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+a.length)}}class st{constructor(t,a,i,s){if(this.width=t,this.height=a,this.rowSize=i,this.bits=s,a==null&&(a=t),this.height=a,t<1||a<1)throw new _("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const a=t.length,i=t[0].length,s=new st(i,a);for(let o=0;o<a;o++){const f=t[o];for(let g=0;g<i;g++)f[g]&&s.set(g,o)}return s}static parseFromString(t,a,i){if(t===null)throw new _("stringRepresentation cannot be null");const s=new Array(t.length);let o=0,f=0,g=-1,y=0,A=0;for(;A<t.length;)if(t.charAt(A)===`
`||t.charAt(A)==="\r"){if(o>f){if(g===-1)g=o-f;else if(o-f!==g)throw new _("row lengths do not match");f=o,y++}A++}else if(t.substring(A,A+a.length)===a)A+=a.length,s[o]=!0,o++;else if(t.substring(A,A+i.length)===i)A+=i.length,s[o]=!1,o++;else throw new _("illegal character encountered: "+t.substring(A));if(o>f){if(g===-1)g=o-f;else if(o-f!==g)throw new _("row lengths do not match");y++}const C=new st(g,y);for(let O=0;O<o;O++)s[O]&&C.set(Math.floor(O%g),Math.floor(O/g));return C}get(t,a){const i=a*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new _("input matrix dimensions do not match");const a=new Ce(Math.floor(this.width/32)+1),i=this.rowSize,s=this.bits;for(let o=0,f=this.height;o<f;o++){const g=o*i,y=t.getRow(o,a).getBitArray();for(let A=0;A<i;A++)s[g+A]^=y[A]}}clear(){const t=this.bits,a=t.length;for(let i=0;i<a;i++)t[i]=0}setRegion(t,a,i,s){if(a<0||t<0)throw new _("Left and top must be nonnegative");if(s<1||i<1)throw new _("Height and width must be at least 1");const o=t+i,f=a+s;if(f>this.height||o>this.width)throw new _("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let A=a;A<f;A++){const C=A*g;for(let O=t;O<o;O++)y[C+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(t,a){a==null||a.getSize()<this.width?a=new Ce(this.width):a.clear();const i=this.rowSize,s=this.bits,o=t*i;for(let f=0;f<i;f++)a.setBulk(f*32,s[o+f]);return a}setRow(t,a){Q.arraycopy(a.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),a=this.getHeight();let i=new Ce(t),s=new Ce(t);for(let o=0,f=Math.floor((a+1)/2);o<f;o++)i=this.getRow(o,i),s=this.getRow(a-1-o,s),i.reverse(),s.reverse(),this.setRow(o,s),this.setRow(a-1-o,i)}getEnclosingRectangle(){const t=this.width,a=this.height,i=this.rowSize,s=this.bits;let o=t,f=a,g=-1,y=-1;for(let A=0;A<a;A++)for(let C=0;C<i;C++){const O=s[A*i+C];if(O!==0){if(A<f&&(f=A),A>y&&(y=A),C*32<o){let I=0;for(;(O<<31-I&4294967295)===0;)I++;C*32+I<o&&(o=C*32+I)}if(C*32+31>g){let I=31;for(;!(O>>>I);)I--;C*32+I>g&&(g=C*32+I)}}}return g<o||y<f?null:Int32Array.from([o,f,g-o+1,y-f+1])}getTopLeftOnBit(){const t=this.rowSize,a=this.bits;let i=0;for(;i<a.length&&a[i]===0;)i++;if(i===a.length)return null;const s=i/t;let o=i%t*32;const f=a[i];let g=0;for(;(f<<31-g&4294967295)===0;)g++;return o+=g,Int32Array.from([o,s])}getBottomRightOnBit(){const t=this.rowSize,a=this.bits;let i=a.length-1;for(;i>=0&&a[i]===0;)i--;if(i<0)return null;const s=Math.floor(i/t);let o=Math.floor(i%t)*32;const f=a[i];let g=31;for(;!(f>>>g);)g--;return o+=g,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof st))return!1;const a=t;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&ie.equals(this.bits,a.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+ie.hashCode(this.bits),t}toString(t="X ",a="  ",i=`
`){return this.buildToString(t,a,i)}buildToString(t,a,i){let s=new Pe;for(let o=0,f=this.height;o<f;o++){for(let g=0,y=this.width;g<y;g++)s.append(this.get(g,o)?t:a);s.append(i)}return s.toString()}clone(){return new st(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends w{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class ge extends j{constructor(t){super(t),this.luminances=ge.EMPTY,this.buckets=new Int32Array(ge.LUMINANCE_BUCKETS)}getBlackRow(t,a){const i=this.getLuminanceSource(),s=i.getWidth();a==null||a.getSize()<s?a=new Ce(s):a.clear(),this.initArrays(s);const o=i.getRow(t,this.luminances),f=this.buckets;for(let y=0;y<s;y++)f[(o[y]&255)>>ge.LUMINANCE_SHIFT]++;const g=ge.estimateBlackPoint(f);if(s<3)for(let y=0;y<s;y++)(o[y]&255)<g&&a.set(y);else{let y=o[0]&255,A=o[1]&255;for(let C=1;C<s-1;C++){const O=o[C+1]&255;(A*4-y-O)/2<g&&a.set(C),y=A,A=O}}return a}getBlackMatrix(){const t=this.getLuminanceSource(),a=t.getWidth(),i=t.getHeight(),s=new st(a,i);this.initArrays(a);const o=this.buckets;for(let y=1;y<5;y++){const A=Math.floor(i*y/5),C=t.getRow(A,this.luminances),O=Math.floor(a*4/5);for(let I=Math.floor(a/5);I<O;I++){const k=C[I]&255;o[k>>ge.LUMINANCE_SHIFT]++}}const f=ge.estimateBlackPoint(o),g=t.getMatrix();for(let y=0;y<i;y++){const A=y*a;for(let C=0;C<a;C++)(g[A+C]&255)<f&&s.set(C,y)}return s}createBinarizer(t){return new ge(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const a=this.buckets;for(let i=0;i<ge.LUMINANCE_BUCKETS;i++)a[i]=0}static estimateBlackPoint(t){const a=t.length;let i=0,s=0,o=0;for(let C=0;C<a;C++)t[C]>o&&(s=C,o=t[C]),t[C]>i&&(i=t[C]);let f=0,g=0;for(let C=0;C<a;C++){const O=C-s,I=t[C]*O*O;I>g&&(f=C,g=I)}if(s>f){const C=s;s=f,f=C}if(f-s<=a/16)throw new $;let y=f-1,A=-1;for(let C=f-1;C>s;C--){const O=C-s,I=O*O*(f-C)*(i-t[C]);I>A&&(y=C,A=I)}return y<<ge.LUMINANCE_SHIFT}}ge.LUMINANCE_BITS=5,ge.LUMINANCE_SHIFT=8-ge.LUMINANCE_BITS,ge.LUMINANCE_BUCKETS=1<<ge.LUMINANCE_BITS,ge.EMPTY=Uint8ClampedArray.from([0]);class me extends ge{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),a=t.getWidth(),i=t.getHeight();if(a>=me.MINIMUM_DIMENSION&&i>=me.MINIMUM_DIMENSION){const s=t.getMatrix();let o=a>>me.BLOCK_SIZE_POWER;(a&me.BLOCK_SIZE_MASK)!==0&&o++;let f=i>>me.BLOCK_SIZE_POWER;(i&me.BLOCK_SIZE_MASK)!==0&&f++;const g=me.calculateBlackPoints(s,o,f,a,i),y=new st(a,i);me.calculateThresholdForBlock(s,o,f,a,i,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new me(t)}static calculateThresholdForBlock(t,a,i,s,o,f,g){const y=o-me.BLOCK_SIZE,A=s-me.BLOCK_SIZE;for(let C=0;C<i;C++){let O=C<<me.BLOCK_SIZE_POWER;O>y&&(O=y);const I=me.cap(C,2,i-3);for(let k=0;k<a;k++){let z=k<<me.BLOCK_SIZE_POWER;z>A&&(z=A);const H=me.cap(k,2,a-3);let W=0;for(let Ae=-2;Ae<=2;Ae++){const be=f[I+Ae];W+=be[H-2]+be[H-1]+be[H]+be[H+1]+be[H+2]}const se=W/25;me.thresholdBlock(t,z,O,se,s,g)}}}static cap(t,a,i){return t<a?a:t>i?i:t}static thresholdBlock(t,a,i,s,o,f){for(let g=0,y=i*o+a;g<me.BLOCK_SIZE;g++,y+=o)for(let A=0;A<me.BLOCK_SIZE;A++)(t[y+A]&255)<=s&&f.set(a+A,i+g)}static calculateBlackPoints(t,a,i,s,o){const f=o-me.BLOCK_SIZE,g=s-me.BLOCK_SIZE,y=new Array(i);for(let A=0;A<i;A++){y[A]=new Int32Array(a);let C=A<<me.BLOCK_SIZE_POWER;C>f&&(C=f);for(let O=0;O<a;O++){let I=O<<me.BLOCK_SIZE_POWER;I>g&&(I=g);let k=0,z=255,H=0;for(let se=0,Ae=C*s+I;se<me.BLOCK_SIZE;se++,Ae+=s){for(let be=0;be<me.BLOCK_SIZE;be++){const ye=t[Ae+be]&255;k+=ye,ye<z&&(z=ye),ye>H&&(H=ye)}if(H-z>me.MIN_DYNAMIC_RANGE)for(se++,Ae+=s;se<me.BLOCK_SIZE;se++,Ae+=s)for(let be=0;be<me.BLOCK_SIZE;be++)k+=t[Ae+be]&255}let W=k>>me.BLOCK_SIZE_POWER*2;if(H-z<=me.MIN_DYNAMIC_RANGE&&(W=z/2,A>0&&O>0)){const se=(y[A-1][O]+2*y[A][O-1]+y[A-1][O-1])/4;z<se&&(W=se)}y[A][O]=W}}return y}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class ke{constructor(t,a){this.width=t,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,a,i,s){throw new Re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Re("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let a=new Pe;for(let i=0;i<this.height;i++){const s=this.getRow(i,t);for(let o=0;o<this.width;o++){const f=s[o]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",a.append(g)}a.append(`
`)}return a.toString()}}class rt extends ke{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,a){const i=this.delegate.getRow(t,a),s=this.getWidth();for(let o=0;o<s;o++)i[o]=255-(i[o]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(a);for(let s=0;s<a;s++)i[s]=255-(t[s]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,a,i,s){return new rt(this.delegate.crop(t,a,i,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new rt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new rt(this.delegate.rotateCounterClockwise45())}}class R extends ke{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=R.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const a=t.getContext("2d").getImageData(0,0,t.width,t.height);return R.toGrayscaleBuffer(a.data,t.width,t.height)}static toGrayscaleBuffer(t,a,i){const s=new Uint8ClampedArray(a*i);for(let o=0,f=0,g=t.length;o<g;o+=4,f++){let y;if(t[o+3]===0)y=255;else{const C=t[o],O=t[o+1],I=t[o+2];y=306*C+601*O+117*I+512>>10}s[f]=y}return s}getRow(t,a){if(t<0||t>=this.getHeight())throw new _("Requested row is outside the image: "+t);const i=this.getWidth(),s=t*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,a,i,s){return super.crop(t,a,i,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const a=this.getTempCanvasElement(),i=a.getContext("2d"),s=t*R.DEGREE_TO_RADIANS,o=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*f),y=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*f);return a.width=g,a.height=y,i.translate(g/2,y/2),i.rotate(s),i.drawImage(this.canvas,o/-2,f/-2),this.buffer=R.makeBufferFromCanvasImageData(a),this}invert(){return new rt(this)}}R.DEGREE_TO_RADIANS=Math.PI/180;class B{constructor(t,a,i){this.deviceId=t,this.label=a,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var fe=(globalThis||Kl||self||window||void 0)&&(globalThis||Kl||self||window||void 0).__awaiter||function(N,t,a,i){function s(o){return o instanceof a?o:new a(function(f){f(o)})}return new(a||(a=Promise))(function(o,f){function g(C){try{A(i.next(C))}catch(O){f(O)}}function y(C){try{A(i.throw(C))}catch(O){f(O)}}function A(C){C.done?o(C.value):s(C.value).then(g,y)}A((i=i.apply(N,t||[])).next())})};class xe{constructor(t,a=500,i){this.reader=t,this.timeBetweenScansMillis=a,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return fe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const i of t){const s=i.kind==="video"?"videoinput":i.kind;if(s!=="videoinput")continue;const o=i.deviceId||i.id,f=i.label||`Video device ${a.length+1}`,g=i.groupId,y={deviceId:o,label:f,kind:s,groupId:g};a.push(y)}return a})}getVideoInputDevices(){return fe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new B(a.deviceId,a.label))})}findDeviceById(t){return fe(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,a){return fe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,a)})}decodeOnceFromVideoDevice(t,a){return fe(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const s={video:i};return yield this.decodeOnceFromConstraints(s,a)})}decodeOnceFromConstraints(t,a){return fe(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,a)})}decodeOnceFromStream(t,a){return fe(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,a);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,a,i){return fe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,a,i)})}decodeFromVideoDevice(t,a,i){return fe(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,a,i)})}decodeFromConstraints(t,a,i){return fe(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,a,i)})}decodeFromStream(t,a,i){return fe(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,a);return yield this.decodeContinuously(s,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,a){return fe(this,void 0,void 0,function*(){const i=this.prepareVideoElement(a);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((a,i)=>this.playVideoOnLoad(t,()=>a()))}playVideoOnLoad(t,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",a),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return fe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,a){const i=document.getElementById(t);if(!i)throw new M(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==a.toLowerCase())throw new M(`element with id '${t}' must be an ${a} element`);return i}decodeFromImage(t,a){if(!t&&!a)throw new M("either imageElement with a src set or an url must be provided");return a&&!t?this.decodeFromImageUrl(a):this.decodeFromImageElement(t)}decodeFromVideo(t,a){if(!t&&!a)throw new M("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,a,i){if(t===void 0&&a===void 0)throw new M("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrlContinuously(a,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new M("An image element must be provided.");this.reset();const a=this.prepareImageElement(t);this.imageElement=a;let i;return this.isImageLoaded(a)?i=this.decodeOnce(a,!1,!0):i=this._decodeOnLoadImage(a),i}decodeFromVideoElement(t){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(t,a){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,a)}_decodeFromVideoElementSetup(t){if(!t)throw new M("A video element must be provided.");this.reset();const a=this.prepareVideoElement(t);return this.videoElement=a,a}decodeFromImageUrl(t){if(!t)throw new M("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const i=this._decodeOnLoadImage(a);return a.src=t,i}decodeFromVideoUrl(t){if(!t)throw new M("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),i=this.decodeFromVideoElement(a);return a.src=t,i}decodeFromVideoUrlContinuously(t,a){if(!t)throw new M("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(i,a);return i.src=t,s}_decodeOnLoadImage(t){return new Promise((a,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(a,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return fe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,a){return fe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,a)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let a;return typeof t>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(a=t),a}prepareVideoElement(t){let a;return!t&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(a=t),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(t,a=!0,i=!0){this._stopAsyncDecode=!1;const s=(o,f)=>{if(this._stopAsyncDecode){f(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);o(g)}catch(g){const y=a&&g instanceof $,C=(g instanceof F||g instanceof le)&&i;if(y||C)return setTimeout(s,this._timeBetweenDecodingAttempts,o,f);f(g)}};return new Promise((o,f)=>s(o,f))}decodeContinuously(t,a){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);a(s,null),setTimeout(i,this.timeBetweenScansMillis)}catch(s){a(null,s);const o=s instanceof F||s instanceof le,f=s instanceof $;(o||f)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const a=this.createBinaryBitmap(t);return this.decodeBitmap(a)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,a,i){a||(a={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(t,a,i=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const a=this.getCaptureCanvas(t),i=new R(a),s=new me(i);return new U(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const a=this.createCaptureCanvas(t);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let i,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),a.style.width=i+"px",a.style.height=s+"px",a.width=i,a.height=s,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,a){try{t.srcObject=a}catch{t.src=URL.createObjectURL(a)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ue{constructor(t,a,i=a==null?0:8*a.length,s,o,f=Q.currentTimeMillis()){this.text=t,this.rawBytes=a,this.numBits=i,this.resultPoints=s,this.format=o,this.timestamp=f,this.text=t,this.rawBytes=a,i==null?this.numBits=a==null?0:8*a.length:this.numBits=i,this.resultPoints=s,this.format=o,this.resultMetadata=null,f==null?this.timestamp=Q.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,a)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const a=this.resultPoints;if(a===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(a.length+t.length);Q.arraycopy(a,0,i,0,a.length),Q.arraycopy(t,0,i,a.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Me;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Me||(Me={}));var oe=Me,De;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(De||(De={}));var Ne=De;class Ge{constructor(t,a,i,s,o=-1,f=-1){this.rawBytes=t,this.text=a,this.byteSegments=i,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=f,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ye{exp(t){return this.expTable[t]}log(t){if(t===0)throw new _;return this.logTable[t]}static addOrSubtract(t,a){return t^a}}class Qe{constructor(t,a){if(a.length===0)throw new _;this.field=t;const i=a.length;if(i>1&&a[0]===0){let s=1;for(;s<i&&a[s]===0;)s++;s===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-s),Q.arraycopy(a,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const a=this.coefficients;let i;if(t===1){i=0;for(let f=0,g=a.length;f!==g;f++){const y=a[f];i=Ye.addOrSubtract(i,y)}return i}i=a[0];const s=a.length,o=this.field;for(let f=1;f<s;f++)i=Ye.addOrSubtract(o.multiply(t,i),a[f]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,i=t.coefficients;if(a.length>i.length){const f=a;a=i,i=f}let s=new Int32Array(i.length);const o=i.length-a.length;Q.arraycopy(i,0,s,0,o);for(let f=o;f<i.length;f++)s[f]=Ye.addOrSubtract(a[f-o],i[f]);return new Qe(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const a=this.coefficients,i=a.length,s=t.coefficients,o=s.length,f=new Int32Array(i+o-1),g=this.field;for(let y=0;y<i;y++){const A=a[y];for(let C=0;C<o;C++)f[y+C]=Ye.addOrSubtract(f[y+C],g.multiply(A,s[C]))}return new Qe(g,f)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const a=this.coefficients.length,i=this.field,s=new Int32Array(a),o=this.coefficients;for(let f=0;f<a;f++)s[f]=i.multiply(o[f],t);return new Qe(i,s)}multiplyByMonomial(t,a){if(t<0)throw new _;if(a===0)return this.field.getZero();const i=this.coefficients,s=i.length,o=new Int32Array(s+t),f=this.field;for(let g=0;g<s;g++)o[g]=f.multiply(i[g],a);return new Qe(f,o)}divide(t){if(!this.field.equals(t.field))throw new _("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new _("Divide by 0");const a=this.field;let i=a.getZero(),s=this;const o=t.getCoefficient(t.getDegree()),f=a.inverse(o);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const g=s.getDegree()-t.getDegree(),y=a.multiply(s.getCoefficient(s.getDegree()),f),A=t.multiplyByMonomial(g,y),C=a.buildMonomial(g,y);i=i.addOrSubtract(C),s=s.addOrSubtract(A)}return[i,s]}toString(){let t="";for(let a=this.getDegree();a>=0;a--){let i=this.getCoefficient(a);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),a===0||i!==1){const s=this.field.log(i);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}a!==0&&(a===1?t+="x":(t+="x^",t+=a))}}return t}}class At extends w{}At.kind="ArithmeticException";class ze extends Ye{constructor(t,a,i){super(),this.primitive=t,this.size=a,this.generatorBase=i;const s=new Int32Array(a);let o=1;for(let g=0;g<a;g++)s[g]=o,o*=2,o>=a&&(o^=t,o&=a-1);this.expTable=s;const f=new Int32Array(a);for(let g=0;g<a-1;g++)f[s[g]]=g;this.logTable=f,this.zero=new Qe(this,Int32Array.from([0])),this.one=new Qe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new _;if(a===0)return this.zero;const i=new Int32Array(t+1);return i[0]=a,new Qe(this,i)}inverse(t){if(t===0)throw new At;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ae.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class Je extends w{}Je.kind="ReedSolomonException";class Tt extends w{}Tt.kind="IllegalStateException";class Yt{constructor(t){this.field=t}decode(t,a){const i=this.field,s=new Qe(i,t),o=new Int32Array(a);let f=!0;for(let k=0;k<a;k++){const z=s.evaluateAt(i.exp(k+i.getGeneratorBase()));o[o.length-1-k]=z,z!==0&&(f=!1)}if(f)return;const g=new Qe(i,o),y=this.runEuclideanAlgorithm(i.buildMonomial(a,1),g,a),A=y[0],C=y[1],O=this.findErrorLocations(A),I=this.findErrorMagnitudes(C,O);for(let k=0;k<O.length;k++){const z=t.length-1-i.log(O[k]);if(z<0)throw new Je("Bad error location");t[z]=ze.addOrSubtract(t[z],I[k])}}runEuclideanAlgorithm(t,a,i){if(t.getDegree()<a.getDegree()){const k=t;t=a,a=k}const s=this.field;let o=t,f=a,g=s.getZero(),y=s.getOne();for(;f.getDegree()>=(i/2|0);){let k=o,z=g;if(o=f,g=y,o.isZero())throw new Je("r_{i-1} was zero");f=k;let H=s.getZero();const W=o.getCoefficient(o.getDegree()),se=s.inverse(W);for(;f.getDegree()>=o.getDegree()&&!f.isZero();){const Ae=f.getDegree()-o.getDegree(),be=s.multiply(f.getCoefficient(f.getDegree()),se);H=H.addOrSubtract(s.buildMonomial(Ae,be)),f=f.addOrSubtract(o.multiplyByMonomial(Ae,be))}if(y=H.multiply(g).addOrSubtract(z),f.getDegree()>=o.getDegree())throw new Tt("Division algorithm failed to reduce polynomial?")}const A=y.getCoefficient(0);if(A===0)throw new Je("sigmaTilde(0) was zero");const C=s.inverse(A),O=y.multiplyScalar(C),I=f.multiplyScalar(C);return[O,I]}findErrorLocations(t){const a=t.getDegree();if(a===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(a);let s=0;const o=this.field;for(let f=1;f<o.getSize()&&s<a;f++)t.evaluateAt(f)===0&&(i[s]=o.inverse(f),s++);if(s!==a)throw new Je("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,a){const i=a.length,s=new Int32Array(i),o=this.field;for(let f=0;f<i;f++){const g=o.inverse(a[f]);let y=1;for(let A=0;A<i;A++)if(f!==A){const C=o.multiply(a[A],g),O=(C&1)===0?C|1:C&-2;y=o.multiply(y,O)}s[f]=o.multiply(t.evaluateAt(g),o.inverse(y)),o.getGeneratorBase()!==0&&(s[f]=o.multiply(s[f],g))}return s}}var wt;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(wt||(wt={}));class nt{decode(t){this.ddata=t;let a=t.getBits(),i=this.extractBits(a),s=this.correctBits(i),o=nt.convertBoolArrayToByteArray(s),f=nt.getEncodedData(s),g=new Ge(o,f,null,null);return g.setNumBits(s.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let a=t.length,i=wt.UPPER,s=wt.UPPER,o="",f=0;for(;f<a;)if(s===wt.BINARY){if(a-f<5)break;let g=nt.readCode(t,f,5);if(f+=5,g===0){if(a-f<11)break;g=nt.readCode(t,f,11)+31,f+=11}for(let y=0;y<g;y++){if(a-f<8){f=a;break}const A=nt.readCode(t,f,8);o+=ve.castAsNonUtf8Char(A),f+=8}s=i}else{let g=s===wt.DIGIT?4:5;if(a-f<g)break;let y=nt.readCode(t,f,g);f+=g;let A=nt.getCharacter(s,y);A.startsWith("CTRL_")?(i=s,s=nt.getTable(A.charAt(5)),A.charAt(6)==="L"&&(i=s)):(o+=A,s=i)}return o}static getTable(t){switch(t){case"L":return wt.LOWER;case"P":return wt.PUNCT;case"M":return wt.MIXED;case"D":return wt.DIGIT;case"B":return wt.BINARY;case"U":default:return wt.UPPER}}static getCharacter(t,a){switch(t){case wt.UPPER:return nt.UPPER_TABLE[a];case wt.LOWER:return nt.LOWER_TABLE[a];case wt.MIXED:return nt.MIXED_TABLE[a];case wt.PUNCT:return nt.PUNCT_TABLE[a];case wt.DIGIT:return nt.DIGIT_TABLE[a];default:throw new Tt("Bad table")}}correctBits(t){let a,i;this.ddata.getNbLayers()<=2?(i=6,a=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,a=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,a=ze.AZTEC_DATA_10):(i=12,a=ze.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=t.length/i;if(o<s)throw new le;let f=t.length%i,g=new Int32Array(o);for(let I=0;I<o;I++,f+=i)g[I]=nt.readCode(t,f,i);try{new Yt(a).decode(g,o-s)}catch(I){throw new le(I)}let y=(1<<i)-1,A=0;for(let I=0;I<s;I++){let k=g[I];if(k===0||k===y)throw new le;(k===1||k===y-1)&&A++}let C=new Array(s*i-A),O=0;for(let I=0;I<s;I++){let k=g[I];if(k===1||k===y-1)C.fill(k>1,O,O+i-1),O+=i-1;else for(let z=i-1;z>=0;--z)C[O++]=(k&1<<z)!==0}return C}extractBits(t){let a=this.ddata.isCompact(),i=this.ddata.getNbLayers(),s=(a?11:14)+i*4,o=new Int32Array(s),f=new Array(this.totalBitsInLayer(i,a));if(a)for(let g=0;g<o.length;g++)o[g]=g;else{let g=s+1+2*ae.truncDivision(ae.truncDivision(s,2)-1,15),y=s/2,A=ae.truncDivision(g,2);for(let C=0;C<y;C++){let O=C+ae.truncDivision(C,15);o[y-C-1]=A-O-1,o[y+C]=A+O+1}}for(let g=0,y=0;g<i;g++){let A=(i-g)*4+(a?9:12),C=g*2,O=s-1-C;for(let I=0;I<A;I++){let k=I*2;for(let z=0;z<2;z++)f[y+k+z]=t.get(o[C+z],o[C+I]),f[y+2*A+k+z]=t.get(o[C+I],o[O-z]),f[y+4*A+k+z]=t.get(o[O-z],o[O-I]),f[y+6*A+k+z]=t.get(o[O-I],o[C+z])}y+=A*8}return f}static readCode(t,a,i){let s=0;for(let o=a;o<a+i;o++)s<<=1,t[o]&&(s|=1);return s}static readByte(t,a){let i=t.length-a;return i>=8?nt.readCode(t,a,8):nt.readCode(t,a,i)<<8-i}static convertBoolArrayToByteArray(t){let a=new Uint8Array((t.length+7)/8);for(let i=0;i<a.length;i++)a[i]=nt.readByte(t,8*i);return a}totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class $e{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,a,i,s){const o=t-i,f=a-s;return Math.sqrt(o*o+f*f)}static sum(t){let a=0;for(let i=0,s=t.length;i!==s;i++){const o=t[i];a+=o}return a}}class pn{static floatToIntBits(t){return t}}pn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _e{constructor(t,a){this.x=t,this.y=a}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof _e){const a=t;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*pn.floatToIntBits(this.x)+pn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const a=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let o,f,g;if(i>=a&&i>=s?(f=t[0],o=t[1],g=t[2]):s>=i&&s>=a?(f=t[1],o=t[0],g=t[2]):(f=t[2],o=t[0],g=t[1]),this.crossProductZ(o,f,g)<0){const y=o;o=g,g=y}t[0]=o,t[1]=f,t[2]=g}static distance(t,a){return $e.distance(t.x,t.y,a.x,a.y)}static crossProductZ(t,a,i){const s=a.x,o=a.y;return(i.x-s)*(t.y-o)-(i.y-o)*(t.x-s)}}class Ni{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Wr extends Ni{constructor(t,a,i,s,o){super(t,a),this.compact=i,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class qt{constructor(t,a,i,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),a==null&&(a=qt.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const o=a/2|0;if(this.leftInit=i-o,this.rightInit=i+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let t=this.leftInit,a=this.rightInit,i=this.upInit,s=this.downInit,o=!1,f=!0,g=!1,y=!1,A=!1,C=!1,O=!1;const I=this.width,k=this.height;for(;f;){f=!1;let z=!0;for(;(z||!y)&&a<I;)z=this.containsBlackPoint(i,s,a,!1),z?(a++,f=!0,y=!0):y||a++;if(a>=I){o=!0;break}let H=!0;for(;(H||!A)&&s<k;)H=this.containsBlackPoint(t,a,s,!0),H?(s++,f=!0,A=!0):A||s++;if(s>=k){o=!0;break}let W=!0;for(;(W||!C)&&t>=0;)W=this.containsBlackPoint(i,s,t,!1),W?(t--,f=!0,C=!0):C||t--;if(t<0){o=!0;break}let se=!0;for(;(se||!O)&&i>=0;)se=this.containsBlackPoint(t,a,i,!0),se?(i--,f=!0,O=!0):O||i--;if(i<0){o=!0;break}f&&(g=!0)}if(!o&&g){const z=a-t;let H=null;for(let be=1;H===null&&be<z;be++)H=this.getBlackPointOnSegment(t,s-be,t+be,s);if(H==null)throw new $;let W=null;for(let be=1;W===null&&be<z;be++)W=this.getBlackPointOnSegment(t,i+be,t+be,i);if(W==null)throw new $;let se=null;for(let be=1;se===null&&be<z;be++)se=this.getBlackPointOnSegment(a,i+be,a-be,i);if(se==null)throw new $;let Ae=null;for(let be=1;Ae===null&&be<z;be++)Ae=this.getBlackPointOnSegment(a,s-be,a-be,s);if(Ae==null)throw new $;return this.centerEdges(Ae,H,se,W)}else throw new $}getBlackPointOnSegment(t,a,i,s){const o=$e.round($e.distance(t,a,i,s)),f=(i-t)/o,g=(s-a)/o,y=this.image;for(let A=0;A<o;A++){const C=$e.round(t+A*f),O=$e.round(a+A*g);if(y.get(C,O))return new _e(C,O)}return null}centerEdges(t,a,i,s){const o=t.getX(),f=t.getY(),g=a.getX(),y=a.getY(),A=i.getX(),C=i.getY(),O=s.getX(),I=s.getY(),k=qt.CORR;return o<this.width/2?[new _e(O-k,I+k),new _e(g+k,y+k),new _e(A-k,C-k),new _e(o+k,f-k)]:[new _e(O+k,I+k),new _e(g+k,y-k),new _e(A-k,C+k),new _e(o-k,f-k)]}containsBlackPoint(t,a,i,s){const o=this.image;if(s){for(let f=t;f<=a;f++)if(o.get(f,i))return!0}else for(let f=t;f<=a;f++)if(o.get(i,f))return!0;return!1}}qt.INIT_SIZE=10,qt.CORR=1;class xr{static checkAndNudgePoints(t,a){const i=t.getWidth(),s=t.getHeight();let o=!0;for(let f=0;f<a.length&&o;f+=2){const g=Math.floor(a[f]),y=Math.floor(a[f+1]);if(g<-1||g>i||y<-1||y>s)throw new $;o=!1,g===-1?(a[f]=0,o=!0):g===i&&(a[f]=i-1,o=!0),y===-1?(a[f+1]=0,o=!0):y===s&&(a[f+1]=s-1,o=!0)}o=!0;for(let f=a.length-2;f>=0&&o;f-=2){const g=Math.floor(a[f]),y=Math.floor(a[f+1]);if(g<-1||g>i||y<-1||y>s)throw new $;o=!1,g===-1?(a[f]=0,o=!0):g===i&&(a[f]=i-1,o=!0),y===-1?(a[f+1]=0,o=!0):y===s&&(a[f+1]=s-1,o=!0)}}}class On{constructor(t,a,i,s,o,f,g,y,A){this.a11=t,this.a21=a,this.a31=i,this.a12=s,this.a22=o,this.a32=f,this.a13=g,this.a23=y,this.a33=A}static quadrilateralToQuadrilateral(t,a,i,s,o,f,g,y,A,C,O,I,k,z,H,W){const se=On.quadrilateralToSquare(t,a,i,s,o,f,g,y);return On.squareToQuadrilateral(A,C,O,I,k,z,H,W).times(se)}transformPoints(t){const a=t.length,i=this.a11,s=this.a12,o=this.a13,f=this.a21,g=this.a22,y=this.a23,A=this.a31,C=this.a32,O=this.a33;for(let I=0;I<a;I+=2){const k=t[I],z=t[I+1],H=o*k+y*z+O;t[I]=(i*k+f*z+A)/H,t[I+1]=(s*k+g*z+C)/H}}transformPointsWithValues(t,a){const i=this.a11,s=this.a12,o=this.a13,f=this.a21,g=this.a22,y=this.a23,A=this.a31,C=this.a32,O=this.a33,I=t.length;for(let k=0;k<I;k++){const z=t[k],H=a[k],W=o*z+y*H+O;t[k]=(i*z+f*H+A)/W,a[k]=(s*z+g*H+C)/W}}static squareToQuadrilateral(t,a,i,s,o,f,g,y){const A=t-i+o-g,C=a-s+f-y;if(A===0&&C===0)return new On(i-t,o-i,t,s-a,f-s,a,0,0,1);{const O=i-o,I=g-o,k=s-f,z=y-f,H=O*z-I*k,W=(A*z-I*C)/H,se=(O*C-A*k)/H;return new On(i-t+W*i,g-t+se*g,t,s-a+W*s,y-a+se*y,a,W,se,1)}}static quadrilateralToSquare(t,a,i,s,o,f,g,y){return On.squareToQuadrilateral(t,a,i,s,o,f,g,y).buildAdjoint()}buildAdjoint(){return new On(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new On(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class yr extends xr{sampleGrid(t,a,i,s,o,f,g,y,A,C,O,I,k,z,H,W,se,Ae,be){const ye=On.quadrilateralToQuadrilateral(s,o,f,g,y,A,C,O,I,k,z,H,W,se,Ae,be);return this.sampleGridWithTransform(t,a,i,ye)}sampleGridWithTransform(t,a,i,s){if(a<=0||i<=0)throw new $;const o=new st(a,i),f=new Float32Array(2*a);for(let g=0;g<i;g++){const y=f.length,A=g+.5;for(let C=0;C<y;C+=2)f[C]=C/2+.5,f[C+1]=A;s.transformPoints(f),xr.checkAndNudgePoints(t,f);try{for(let C=0;C<y;C+=2)t.get(Math.floor(f[C]),Math.floor(f[C+1]))&&o.set(C/2,g)}catch{throw new $}}return o}}class Hn{static setGridSampler(t){Hn.gridSampler=t}static getInstance(){return Hn.gridSampler}}Hn.gridSampler=new yr;class cn{constructor(t,a){this.x=t,this.y=a}toResultPoint(){return new _e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Oi{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let a=this.getMatrixCenter(),i=this.getBullsEyeCorners(a);if(t){let f=i[0];i[0]=i[2],i[2]=f}this.extractParameters(i);let s=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),o=this.getMatrixCornerPoints(i);return new Wr(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new $;let a=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],a),this.sampleLine(t[1],t[2],a),this.sampleLine(t[2],t[3],a),this.sampleLine(t[3],t[0],a)]);this.shift=this.getRotation(i,a);let s=0;for(let f=0;f<4;f++){let g=i[(this.shift+f)%4];this.compact?(s<<=7,s+=g>>1&127):(s<<=10,s+=(g>>2&992)+(g>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(t,a){let i=0;t.forEach((s,o,f)=>{let g=(s>>a-2<<1)+(s&1);i=(i<<3)+g}),i=((i&1)<<11)+(i>>1);for(let s=0;s<4;s++)if(ae.bitCount(i^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new $}getCorrectedParameterData(t,a){let i,s;a?(i=7,s=2):(i=10,s=4);let o=i-s,f=new Int32Array(i);for(let y=i-1;y>=0;--y)f[y]=t&15,t>>=4;try{new Yt(ze.AZTEC_PARAM).decode(f,o)}catch{throw new $}let g=0;for(let y=0;y<s;y++)g=(g<<4)+f[y];return g}getBullsEyeCorners(t){let a=t,i=t,s=t,o=t,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(a,f,1,-1),I=this.getFirstDifferent(i,f,1,1),k=this.getFirstDifferent(s,f,-1,1),z=this.getFirstDifferent(o,f,-1,-1);if(this.nbCenterLayers>2){let H=this.distancePoint(z,O)*this.nbCenterLayers/(this.distancePoint(o,a)*(this.nbCenterLayers+2));if(H<.75||H>1.25||!this.isWhiteOrBlackRectangle(O,I,k,z))break}a=O,i=I,s=k,o=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let g=new _e(a.getX()+.5,a.getY()-.5),y=new _e(i.getX()+.5,i.getY()+.5),A=new _e(s.getX()-.5,s.getY()+.5),C=new _e(o.getX()-.5,o.getY()-.5);return this.expandSquare([g,y,A,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,a,i,s;try{let g=new qt(this.image).detect();t=g[0],a=g[1],i=g[2],s=g[3]}catch{let y=this.image.getWidth()/2,A=this.image.getHeight()/2;t=this.getFirstDifferent(new cn(y+7,A-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new cn(y+7,A+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new cn(y-7,A+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new cn(y-7,A-7),!1,-1,-1).toResultPoint()}let o=$e.round((t.getX()+s.getX()+a.getX()+i.getX())/4),f=$e.round((t.getY()+s.getY()+a.getY()+i.getY())/4);try{let g=new qt(this.image,15,o,f).detect();t=g[0],a=g[1],i=g[2],s=g[3]}catch{t=this.getFirstDifferent(new cn(o+7,f-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new cn(o+7,f+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new cn(o-7,f+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new cn(o-7,f-7),!1,-1,-1).toResultPoint()}return o=$e.round((t.getX()+s.getX()+a.getX()+i.getX())/4),f=$e.round((t.getY()+s.getY()+a.getY()+i.getY())/4),new cn(o,f)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,a,i,s,o){let f=Hn.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,A=g/2+this.nbCenterLayers;return f.sampleGrid(t,g,g,y,y,A,y,A,A,y,A,a.getX(),a.getY(),i.getX(),i.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(t,a,i){let s=0,o=this.distanceResultPoint(t,a),f=o/i,g=t.getX(),y=t.getY(),A=f*(a.getX()-t.getX())/o,C=f*(a.getY()-t.getY())/o;for(let O=0;O<i;O++)this.image.get($e.round(g+O*A),$e.round(y+O*C))&&(s|=1<<i-O-1);return s}isWhiteOrBlackRectangle(t,a,i,s){let o=3;t=new cn(t.getX()-o,t.getY()+o),a=new cn(a.getX()-o,a.getY()-o),i=new cn(i.getX()+o,i.getY()-o),s=new cn(s.getX()+o,s.getY()+o);let f=this.getColor(s,t);if(f===0)return!1;let g=this.getColor(t,a);return g!==f||(g=this.getColor(a,i),g!==f)?!1:(g=this.getColor(i,s),g===f)}getColor(t,a){let i=this.distancePoint(t,a),s=(a.getX()-t.getX())/i,o=(a.getY()-t.getY())/i,f=0,g=t.getX(),y=t.getY(),A=this.image.get(t.getX(),t.getY()),C=Math.ceil(i);for(let I=0;I<C;I++)g+=s,y+=o,this.image.get($e.round(g),$e.round(y))!==A&&f++;let O=f/i;return O>.1&&O<.9?0:O<=.1===A?1:-1}getFirstDifferent(t,a,i,s){let o=t.getX()+i,f=t.getY()+s;for(;this.isValid(o,f)&&this.image.get(o,f)===a;)o+=i,f+=s;for(o-=i,f-=s;this.isValid(o,f)&&this.image.get(o,f)===a;)o+=i;for(o-=i;this.isValid(o,f)&&this.image.get(o,f)===a;)f+=s;return f-=s,new cn(o,f)}expandSquare(t,a,i){let s=i/(2*a),o=t[0].getX()-t[2].getX(),f=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,y=(t[0].getY()+t[2].getY())/2,A=new _e(g+s*o,y+s*f),C=new _e(g-s*o,y-s*f);o=t[1].getX()-t[3].getX(),f=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,y=(t[1].getY()+t[3].getY())/2;let O=new _e(g+s*o,y+s*f),I=new _e(g-s*o,y-s*f);return[A,O,C,I]}isValid(t,a){return t>=0&&t<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(t){let a=$e.round(t.getX()),i=$e.round(t.getY());return this.isValid(a,i)}distancePoint(t,a){return $e.distance(t.getX(),t.getY(),a.getX(),a.getY())}distanceResultPoint(t,a){return $e.distance(t.getX(),t.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ae.truncDivision(this.nbLayers-4,8)+1)+15}}class _a{decode(t,a=null){let i=null,s=new Oi(t.getBlackMatrix()),o=null,f=null;try{let C=s.detectMirror(!1);o=C.getPoints(),this.reportFoundResultPoints(a,o),f=new nt().decode(C)}catch(C){i=C}if(f==null)try{let C=s.detectMirror(!0);o=C.getPoints(),this.reportFoundResultPoints(a,o),f=new nt().decode(C)}catch(C){throw i??C}let g=new ue(f.getText(),f.getRawBytes(),f.getNumBits(),o,oe.AZTEC,Q.currentTimeMillis()),y=f.getByteSegments();y!=null&&g.putMetadata(Ne.BYTE_SEGMENTS,y);let A=f.getECLevel();return A!=null&&g.putMetadata(Ne.ERROR_CORRECTION_LEVEL,A),g}reportFoundResultPoints(t,a){if(t!=null){let i=t.get(we.NEED_RESULT_POINT_CALLBACK);i!=null&&a.forEach((s,o,f)=>{i.foundPossibleResultPoint(s)})}}reset(){}}class js extends xe{constructor(t=500){super(new _a,t)}}class _t{decode(t,a){try{return this.doDecode(t,a)}catch{if(a&&a.get(we.TRY_HARDER)===!0&&t.isRotateSupported()){const o=t.rotateCounterClockwise(),f=this.doDecode(o,a),g=f.getResultMetadata();let y=270;g!==null&&g.get(Ne.ORIENTATION)===!0&&(y=y+g.get(Ne.ORIENTATION)%360),f.putMetadata(Ne.ORIENTATION,y);const A=f.getResultPoints();if(A!==null){const C=o.getHeight();for(let O=0;O<A.length;O++)A[O]=new _e(C-A[O].getY()-1,A[O].getX())}return f}else throw new $}}reset(){}doDecode(t,a){const i=t.getWidth(),s=t.getHeight();let o=new Ce(i);const f=a&&a.get(we.TRY_HARDER)===!0,g=Math.max(1,s>>(f?8:5));let y;f?y=s:y=15;const A=Math.trunc(s/2);for(let C=0;C<y;C++){const O=Math.trunc((C+1)/2),I=(C&1)===0,k=A+g*(I?O:-O);if(k<0||k>=s)break;try{o=t.getBlackRow(k,o)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(o.reverse(),a&&a.get(we.NEED_RESULT_POINT_CALLBACK)===!0)){const H=new Map;a.forEach((W,se)=>H.set(se,W)),H.delete(we.NEED_RESULT_POINT_CALLBACK),a=H}try{const H=this.decodeRow(k,o,a);if(z===1){H.putMetadata(Ne.ORIENTATION,180);const W=H.getResultPoints();W!==null&&(W[0]=new _e(i-W[0].getX()-1,W[0].getY()),W[1]=new _e(i-W[1].getX()-1,W[1].getY()))}return H}catch{}}}throw new $}static recordPattern(t,a,i){const s=i.length;for(let A=0;A<s;A++)i[A]=0;const o=t.getSize();if(a>=o)throw new $;let f=!t.get(a),g=0,y=a;for(;y<o;){if(t.get(y)!==f)i[g]++;else{if(++g===s)break;i[g]=1,f=!f}y++}if(!(g===s||g===s-1&&y===o))throw new $}static recordPatternInReverse(t,a,i){let s=i.length,o=t.get(a);for(;a>0&&s>=0;)t.get(--a)!==o&&(s--,o=!o);if(s>=0)throw new $;_t.recordPattern(t,a+1,i)}static patternMatchVariance(t,a,i){const s=t.length;let o=0,f=0;for(let A=0;A<s;A++)o+=t[A],f+=a[A];if(o<f)return Number.POSITIVE_INFINITY;const g=o/f;i*=g;let y=0;for(let A=0;A<s;A++){const C=t[A],O=a[A]*g,I=C>O?C-O:O-C;if(I>i)return Number.POSITIVE_INFINITY;y+=I}return y/o}}class Se extends _t{static findStartPattern(t){const a=t.getSize(),i=t.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),f=i,g=!1;const y=6;for(let A=i;A<a;A++)if(t.get(A)!==g)o[s]++;else{if(s===y-1){let C=Se.MAX_AVG_VARIANCE,O=-1;for(let I=Se.CODE_START_A;I<=Se.CODE_START_C;I++){const k=_t.patternMatchVariance(o,Se.CODE_PATTERNS[I],Se.MAX_INDIVIDUAL_VARIANCE);k<C&&(C=k,O=I)}if(O>=0&&t.isRange(Math.max(0,f-(A-f)/2),f,!1))return Int32Array.from([f,A,O]);f+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,g=!g}throw new $}static decodeCode(t,a,i){_t.recordPattern(t,i,a);let s=Se.MAX_AVG_VARIANCE,o=-1;for(let f=0;f<Se.CODE_PATTERNS.length;f++){const g=Se.CODE_PATTERNS[f],y=this.patternMatchVariance(a,g,Se.MAX_INDIVIDUAL_VARIANCE);y<s&&(s=y,o=f)}if(o>=0)return o;throw new $}decodeRow(t,a,i){const s=i&&i.get(we.ASSUME_GS1)===!0,o=Se.findStartPattern(a),f=o[2];let g=0;const y=new Uint8Array(20);y[g++]=f;let A;switch(f){case Se.CODE_START_A:A=Se.CODE_CODE_A;break;case Se.CODE_START_B:A=Se.CODE_CODE_B;break;case Se.CODE_START_C:A=Se.CODE_CODE_C;break;default:throw new le}let C=!1,O=!1,I="",k=o[0],z=o[1];const H=Int32Array.from([0,0,0,0,0,0]);let W=0,se=0,Ae=f,be=0,ye=!0,lt=!1,Ze=!1;for(;!C;){const li=O;switch(O=!1,W=se,se=Se.decodeCode(a,H,z),y[g++]=se,se!==Se.CODE_STOP&&(ye=!0),se!==Se.CODE_STOP&&(be++,Ae+=be*se),k=z,z+=H.reduce((el,ta)=>el+ta,0),se){case Se.CODE_START_A:case Se.CODE_START_B:case Se.CODE_START_C:throw new le}switch(A){case Se.CODE_CODE_A:if(se<64)Ze===lt?I+=String.fromCharCode(32+se):I+=String.fromCharCode(32+se+128),Ze=!1;else if(se<96)Ze===lt?I+=String.fromCharCode(se-64):I+=String.fromCharCode(se+64),Ze=!1;else switch(se!==Se.CODE_STOP&&(ye=!1),se){case Se.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_A:!lt&&Ze?(lt=!0,Ze=!1):lt&&Ze?(lt=!1,Ze=!1):Ze=!0;break;case Se.CODE_SHIFT:O=!0,A=Se.CODE_CODE_B;break;case Se.CODE_CODE_B:A=Se.CODE_CODE_B;break;case Se.CODE_CODE_C:A=Se.CODE_CODE_C;break;case Se.CODE_STOP:C=!0;break}break;case Se.CODE_CODE_B:if(se<96)Ze===lt?I+=String.fromCharCode(32+se):I+=String.fromCharCode(32+se+128),Ze=!1;else switch(se!==Se.CODE_STOP&&(ye=!1),se){case Se.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_B:!lt&&Ze?(lt=!0,Ze=!1):lt&&Ze?(lt=!1,Ze=!1):Ze=!0;break;case Se.CODE_SHIFT:O=!0,A=Se.CODE_CODE_A;break;case Se.CODE_CODE_A:A=Se.CODE_CODE_A;break;case Se.CODE_CODE_C:A=Se.CODE_CODE_C;break;case Se.CODE_STOP:C=!0;break}break;case Se.CODE_CODE_C:if(se<100)se<10&&(I+="0"),I+=se;else switch(se!==Se.CODE_STOP&&(ye=!1),se){case Se.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case Se.CODE_CODE_A:A=Se.CODE_CODE_A;break;case Se.CODE_CODE_B:A=Se.CODE_CODE_B;break;case Se.CODE_STOP:C=!0;break}break}li&&(A=A===Se.CODE_CODE_A?Se.CODE_CODE_B:Se.CODE_CODE_A)}const Rn=z-k;if(z=a.getNextUnset(z),!a.isRange(z,Math.min(a.getSize(),z+(z-k)/2),!1))throw new $;if(Ae-=be*W,Ae%103!==W)throw new F;const Kn=I.length;if(Kn===0)throw new $;Kn>0&&ye&&(A===Se.CODE_CODE_C?I=I.substring(0,Kn-2):I=I.substring(0,Kn-1));const Dn=(o[1]+o[0])/2,Rt=k+Rn/2,En=y.length,Xn=new Uint8Array(En);for(let li=0;li<En;li++)Xn[li]=y[li];const oi=[new _e(Dn,t),new _e(Rt,t)];return new ue(I,Xn,0,oi,oe.CODE_128,new Date().getTime())}}Se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Se.MAX_AVG_VARIANCE=.25,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.CODE_SHIFT=98,Se.CODE_CODE_C=99,Se.CODE_CODE_B=100,Se.CODE_CODE_A=101,Se.CODE_FNC_1=102,Se.CODE_FNC_2=97,Se.CODE_FNC_3=96,Se.CODE_FNC_4_A=101,Se.CODE_FNC_4_B=100,Se.CODE_START_A=103,Se.CODE_START_B=104,Se.CODE_START_C=105,Se.CODE_STOP=106;class rn extends _t{constructor(t=!1,a=!1){super(),this.usingCheckDigit=t,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,a,i){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=rn.findAsteriskPattern(a,s),f=a.getNextSet(o[1]),g=a.getSize(),y,A;do{rn.recordPattern(a,f,s);let H=rn.toNarrowWidePattern(s);if(H<0)throw new $;y=rn.patternToChar(H),this.decodeRowResult+=y,A=f;for(let W of s)f+=W;f=a.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let H of s)C+=H;let O=f-A-C;if(f!==g&&O*2<C)throw new $;if(this.usingCheckDigit){let H=this.decodeRowResult.length-1,W=0;for(let se=0;se<H;se++)W+=rn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(se));if(this.decodeRowResult.charAt(H)!==rn.ALPHABET_STRING.charAt(W%43))throw new F;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(this.decodeRowResult.length===0)throw new $;let I;this.extendedMode?I=rn.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let k=(o[1]+o[0])/2,z=A+C/2;return new ue(I,null,0,[new _e(k,t),new _e(z,t)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(t,a){let i=t.getSize(),s=t.getNextSet(0),o=0,f=s,g=!1,y=a.length;for(let A=s;A<i;A++)if(t.get(A)!==g)a[o]++;else{if(o===y-1){if(this.toNarrowWidePattern(a)===rn.ASTERISK_ENCODING&&t.isRange(Math.max(0,f-Math.floor((A-f)/2)),f,!1))return[f,A];f+=a[0]+a[1],a.copyWithin(0,2,2+o-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,g=!g}throw new $}static toNarrowWidePattern(t){let a=t.length,i=0,s;do{let o=2147483647;for(let y of t)y<o&&y>i&&(o=y);i=o,s=0;let f=0,g=0;for(let y=0;y<a;y++){let A=t[y];A>i&&(g|=1<<a-1-y,s++,f+=A)}if(s===3){for(let y=0;y<a&&s>0;y++){let A=t[y];if(A>i&&(s--,A*2>=f))return-1}return g}}while(s>3);return-1}static patternToChar(t){for(let a=0;a<rn.CHARACTER_ENCODINGS.length;a++)if(rn.CHARACTER_ENCODINGS[a]===t)return rn.ALPHABET_STRING.charAt(a);if(t===rn.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(t){let a=t.length,i="";for(let s=0;s<a;s++){let o=t.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let f=t.charAt(s+1),g="\0";switch(o){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new le;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new le;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new le;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new le;break}i+=g,s++}else i+=o}return i}}rn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rn.ASTERISK_ENCODING=148;class ht extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,a,i){let s=this.decodeStart(a),o=this.decodeEnd(a),f=new Pe;ht.decodeMiddle(a,s[1],o[0],f);let g=f.toString(),y=null;i!=null&&(y=i.get(we.ALLOWED_LENGTHS)),y==null&&(y=ht.DEFAULT_ALLOWED_LENGTHS);let A=g.length,C=!1,O=0;for(let z of y){if(A===z){C=!0;break}z>O&&(O=z)}if(!C&&A>O&&(C=!0),!C)throw new le;const I=[new _e(s[1],t),new _e(o[0],t)];return new ue(g,null,0,I,oe.ITF,new Date().getTime())}static decodeMiddle(t,a,i,s){let o=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(o.fill(0),f.fill(0),g.fill(0);a<i;){_t.recordPattern(t,a,o);for(let A=0;A<5;A++){let C=2*A;f[A]=o[C],g[A]=o[C+1]}let y=ht.decodeDigit(f);s.append(y.toString()),y=this.decodeDigit(g),s.append(y.toString()),o.forEach(function(A){a+=A})}}decodeStart(t){let a=ht.skipWhiteSpace(t),i=ht.findGuardPattern(t,a,ht.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,a){let i=this.narrowLineWidth*10;i=i<a?i:a;for(let s=a-1;i>0&&s>=0&&!t.get(s);s--)i--;if(i!==0)throw new $}static skipWhiteSpace(t){const a=t.getSize(),i=t.getNextSet(0);if(i===a)throw new $;return i}decodeEnd(t){t.reverse();try{let a=ht.skipWhiteSpace(t),i;try{i=ht.findGuardPattern(t,a,ht.END_PATTERN_REVERSED[0])}catch(o){o instanceof $&&(i=ht.findGuardPattern(t,a,ht.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let s=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-s,i}finally{t.reverse()}}static findGuardPattern(t,a,i){let s=i.length,o=new Int32Array(s),f=t.getSize(),g=!1,y=0,A=a;o.fill(0);for(let C=a;C<f;C++)if(t.get(C)!==g)o[y]++;else{if(y===s-1){if(_t.patternMatchVariance(o,i,ht.MAX_INDIVIDUAL_VARIANCE)<ht.MAX_AVG_VARIANCE)return[A,C];A+=o[0]+o[1],Q.arraycopy(o,2,o,0,y-1),o[y-1]=0,o[y]=0,y--}else y++;o[y]=1,g=!g}throw new $}static decodeDigit(t){let a=ht.MAX_AVG_VARIANCE,i=-1,s=ht.PATTERNS.length;for(let o=0;o<s;o++){let f=ht.PATTERNS[o],g=_t.patternMatchVariance(t,f,ht.MAX_INDIVIDUAL_VARIANCE);g<a?(a=g,i=o):g===a&&(i=-1)}if(i>=0)return i%10;throw new $}}ht.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ht.MAX_AVG_VARIANCE=.38,ht.MAX_INDIVIDUAL_VARIANCE=.5,ht.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ht.START_PATTERN=Int32Array.from([1,1,1,1]),ht.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class gt extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let a=!1,i,s=0,o=Int32Array.from([0,0,0]);for(;!a;){o=Int32Array.from([0,0,0]),i=gt.findGuardPattern(t,s,!1,this.START_END_PATTERN,o);let f=i[0];s=i[1];let g=f-(s-f);g>=0&&(a=t.isRange(g,f,!1))}return i}static checkChecksum(t){return gt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let i=parseInt(t.charAt(a-1),10);return gt.getStandardUPCEANChecksum(t.substring(0,a-1))===i}static getStandardUPCEANChecksum(t){let a=t.length,i=0;for(let s=a-1;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new le;i+=o}i*=3;for(let s=a-2;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new le;i+=o}return(1e3-i)%10}static decodeEnd(t,a){return gt.findGuardPattern(t,a,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,a,i,s){return this.findGuardPattern(t,a,i,s,new Int32Array(s.length))}static findGuardPattern(t,a,i,s,o){let f=t.getSize();a=i?t.getNextUnset(a):t.getNextSet(a);let g=0,y=a,A=s.length,C=i;for(let O=a;O<f;O++)if(t.get(O)!==C)o[g]++;else{if(g===A-1){if(_t.patternMatchVariance(o,s,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return Int32Array.from([y,O]);y+=o[0]+o[1];let I=o.slice(2,o.length-1);for(let k=0;k<g-1;k++)o[k]=I[k];o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,C=!C}throw new $}static decodeDigit(t,a,i,s){this.recordPattern(t,i,a);let o=this.MAX_AVG_VARIANCE,f=-1,g=s.length;for(let y=0;y<g;y++){let A=s[y],C=_t.patternMatchVariance(a,A,gt.MAX_INDIVIDUAL_VARIANCE);C<o&&(o=C,f=y)}if(f>=0)return f;throw new $}}gt.MAX_AVG_VARIANCE=.48,gt.MAX_INDIVIDUAL_VARIANCE=.7,gt.START_END_PATTERN=Int32Array.from([1,1,1]),gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Er{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,i){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(a,i,s),f=s.toString(),g=Er.parseExtensionString(f),y=[new _e((i[0]+i[1])/2,t),new _e(o,t)],A=new ue(f,null,0,y,oe.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(t,a,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f=a[1],g=0;for(let A=0;A<5&&f<o;A++){let C=gt.decodeDigit(t,s,f,gt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of s)f+=O;C>=10&&(g|=1<<4-A),A!==4&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(i.length!==5)throw new $;let y=this.determineCheckDigit(g);if(Er.extensionChecksum(i.toString())!==y)throw new $;return f}static extensionChecksum(t){let a=t.length,i=0;for(let s=a-2;s>=0;s-=2)i+=t.charAt(s).charCodeAt(0)-48;i*=3;for(let s=a-1;s>=0;s-=2)i+=t.charAt(s).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let a=0;a<10;a++)if(t===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new $}static parseExtensionString(t){if(t.length!==5)return null;let a=Er.parseExtension5String(t);return a==null?null:new Map([[Ne.SUGGESTED_PRICE,a]])}static parseExtension5String(t){let a;switch(t.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let i=parseInt(t.substring(1)),s=(i/100).toString(),o=i%100,f=o<10?"0"+o:o.toString();return a+s+"."+f}}class Hs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,i){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(a,i,s),f=s.toString(),g=Hs.parseExtensionString(f),y=[new _e((i[0]+i[1])/2,t),new _e(o,t)],A=new ue(f,null,0,y,oe.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(t,a,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f=a[1],g=0;for(let y=0;y<2&&f<o;y++){let A=gt.decodeDigit(t,s,f,gt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);for(let C of s)f+=C;A>=10&&(g|=1<<1-y),y!==1&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(i.length!==2)throw new $;if(parseInt(i.toString())%4!==g)throw new $;return f}static parseExtensionString(t){return t.length!==2?null:new Map([[Ne.ISSUE_NUMBER,parseInt(t)]])}}class qo{static decodeRow(t,a,i){let s=gt.findGuardPattern(a,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Er().decodeRow(t,a,s)}catch{return new Hs().decodeRow(t,a,s)}}}qo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class mt extends gt{constructor(){super(),this.decodeRowStringBuffer="",mt.L_AND_G_PATTERNS=mt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let a=mt.L_PATTERNS[t-10],i=new Int32Array(a.length);for(let s=0;s<a.length;s++)i[s]=a[a.length-s-1];mt.L_AND_G_PATTERNS[t]=i}}decodeRow(t,a,i){let s=mt.findStartGuardPattern(a),o=i==null?null:i.get(we.NEED_RESULT_POINT_CALLBACK);if(o!=null){const ye=new _e((s[0]+s[1])/2,t);o.foundPossibleResultPoint(ye)}let f=this.decodeMiddle(a,s,this.decodeRowStringBuffer),g=f.rowOffset,y=f.resultString;if(o!=null){const ye=new _e(g,t);o.foundPossibleResultPoint(ye)}let A=this.decodeEnd(a,g);if(o!=null){const ye=new _e((A[0]+A[1])/2,t);o.foundPossibleResultPoint(ye)}let C=A[1],O=C+(C-A[0]);if(O>=a.getSize()||!a.isRange(C,O,!1))throw new $;let I=y.toString();if(I.length<8)throw new le;if(!mt.checkChecksum(I))throw new F;let k=(s[1]+s[0])/2,z=(A[1]+A[0])/2,H=this.getBarcodeFormat(),W=[new _e(k,t),new _e(z,t)],se=new ue(I,null,0,W,H,new Date().getTime()),Ae=0;try{let ye=qo.decodeRow(t,a,A[1]);se.putMetadata(Ne.UPC_EAN_EXTENSION,ye.getText()),se.putAllMetadata(ye.getResultMetadata()),se.addResultPoints(ye.getResultPoints()),Ae=ye.getText().length}catch{}let be=i==null?null:i.get(we.ALLOWED_EAN_EXTENSIONS);if(be!=null){let ye=!1;for(let lt in be)if(Ae.toString()===lt){ye=!0;break}if(!ye)throw new $}return se}decodeEnd(t,a){return mt.findGuardPattern(t,a,!1,mt.START_END_PATTERN,new Int32Array(mt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return mt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let i=parseInt(t.charAt(a-1),10);return mt.getStandardUPCEANChecksum(t.substring(0,a-1))===i}static getStandardUPCEANChecksum(t){let a=t.length,i=0;for(let s=a-1;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new le;i+=o}i*=3;for(let s=a-2;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new le;i+=o}return(1e3-i)%10}}class ua extends mt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f=a[1],g=0;for(let A=0;A<6&&f<o;A++){let C=mt.decodeDigit(t,s,f,mt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of s)f+=O;C>=10&&(g|=1<<5-A)}i=ua.determineFirstDigit(i,g),f=mt.findGuardPattern(t,f,!0,mt.MIDDLE_PATTERN,new Int32Array(mt.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&f<o;A++){let C=mt.decodeDigit(t,s,f,mt.L_PATTERNS);i+=String.fromCharCode(48+C);for(let O of s)f+=O}return{rowOffset:f,resultString:i}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(t,a){for(let i=0;i<10;i++)if(a===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new $}}ua.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class La extends mt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,i){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f=a[1];for(let y=0;y<4&&f<o;y++){let A=mt.decodeDigit(t,s,f,mt.L_PATTERNS);i+=String.fromCharCode(48+A);for(let C of s)f+=C}f=mt.findGuardPattern(t,f,!0,mt.MIDDLE_PATTERN,new Int32Array(mt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<o;y++){let A=mt.decodeDigit(t,s,f,mt.L_PATTERNS);i+=String.fromCharCode(48+A);for(let C of s)f+=C}return{rowOffset:f,resultString:i}}getBarcodeFormat(){return oe.EAN_8}}class Ar extends mt{constructor(){super(...arguments),this.ean13Reader=new ua}getBarcodeFormat(){return oe.UPC_A}decode(t,a){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,a,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,a,i))}decodeMiddle(t,a,i){return this.ean13Reader.decodeMiddle(t,a,i)}maybeReturnResult(t){let a=t.getText();if(a.charAt(0)==="0"){let i=new ue(a.substring(1),null,null,t.getResultPoints(),oe.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new $}reset(){this.ean13Reader.reset()}}class Mn extends mt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,a,i){const s=this.decodeMiddleCounters.map(A=>A);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=t.getSize();let f=a[1],g=0;for(let A=0;A<6&&f<o;A++){const C=Mn.decodeDigit(t,s,f,Mn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of s)f+=O;C>=10&&(g|=1<<5-A)}let y=Mn.determineNumSysAndCheckDigit(i,g);return{rowOffset:f,resultString:y}}decodeEnd(t,a){return Mn.findGuardPatternWithoutCounters(t,a,!0,Mn.MIDDLE_END_PATTERN)}checkChecksum(t){return mt.checkChecksum(Mn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,a){for(let i=0;i<=1;i++)for(let s=0;s<10;s++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){let o=String.fromCharCode(48+i),f=String.fromCharCode(48+s);return o+t+f}throw $.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(t){const a=t.slice(1,7).split("").map(o=>o.charCodeAt(0)),i=new Pe;i.append(t.charAt(0));let s=a[5];switch(s){case 0:case 1:case 2:i.appendChars(a,0,2),i.append(s),i.append("0000"),i.appendChars(a,2,3);break;case 3:i.appendChars(a,0,3),i.append("00000"),i.appendChars(a,3,2);break;case 4:i.appendChars(a,0,4),i.append("00000"),i.append(a[4]);break;default:i.appendChars(a,0,5),i.append("0000"),i.append(s);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}Mn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Vs extends _t{constructor(t){super();let a=t==null?null:t.get(we.POSSIBLE_FORMATS),i=[];h(a)?(i.push(new ua),i.push(new Ar),i.push(new La),i.push(new Mn)):(a.indexOf(oe.EAN_13)>-1&&i.push(new ua),a.indexOf(oe.UPC_A)>-1&&i.push(new Ar),a.indexOf(oe.EAN_8)>-1&&i.push(new La),a.indexOf(oe.UPC_E)>-1&&i.push(new Mn)),this.readers=i}decodeRow(t,a,i){for(let s of this.readers)try{const o=s.decodeRow(t,a,i),f=o.getBarcodeFormat()===oe.EAN_13&&o.getText().charAt(0)==="0",g=i==null?null:i.get(we.POSSIBLE_FORMATS),y=g==null||g.includes(oe.UPC_A);if(f&&y){const A=o.getRawBytes(),C=new ue(o.getText().substring(1),A,A?A.length:null,o.getResultPoints(),oe.UPC_A);return C.putAllMetadata(o.getResultMetadata()),C}return o}catch{}throw new $}reset(){for(let t of this.readers)t.reset()}}class xn extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,a){for(let i=0;i<a.length;i++)if(_t.patternMatchVariance(t,a[i],xn.MAX_INDIVIDUAL_VARIANCE)<xn.MAX_AVG_VARIANCE)return i;throw new $}static count(t){return $e.sum(new Int32Array(t))}static increment(t,a){let i=0,s=a[0];for(let o=1;o<t.length;o++)a[o]>s&&(s=a[o],i=o);t[i]++}static decrement(t,a){let i=0,s=a[0];for(let o=1;o<t.length;o++)a[o]<s&&(s=a[o],i=o);t[i]--}static isFinderPattern(t){let a=t[0]+t[1],i=a+t[2]+t[3],s=a/i;if(s>=xn.MIN_FINDER_PATTERN_RATIO&&s<=xn.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of t)g>f&&(f=g),g<o&&(o=g);return f<10*o}return!1}}xn.MAX_AVG_VARIANCE=.2,xn.MAX_INDIVIDUAL_VARIANCE=.45,xn.MIN_FINDER_PATTERN_RATIO=9.5/12,xn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ti{constructor(t,a){this.value=t,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ti))return!1;const a=t;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Mi{constructor(t,a,i,s,o){this.value=t,this.startEnd=a,this.value=t,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new _e(i,o)),this.resultPoints.push(new _e(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Mi))return!1;const a=t;return this.value===a.value}hashCode(){return this.value}}class kn{constructor(){}static getRSSvalue(t,a,i){let s=0;for(let y of t)s+=y;let o=0,f=0,g=t.length;for(let y=0;y<g-1;y++){let A;for(A=1,f|=1<<y;A<t[y];A++,f&=~(1<<y)){let C=kn.combins(s-A-1,g-y-2);if(i&&f===0&&s-A-(g-y-1)>=g-y-1&&(C-=kn.combins(s-A-(g-y),g-y-2)),g-y-1>1){let O=0;for(let I=s-A-(g-y-2);I>a;I--)O+=kn.combins(s-A-I-1,g-y-3);C-=O*(g-1-y)}else s-A>a&&C--;o+=C}s-=A}return o}static combins(t,a){let i,s;t-a>a?(s=a,i=t-a):(s=t-a,i=a);let o=1,f=1;for(let g=t;g>i;g--)o*=g,f<=s&&(o/=f,f++);for(;f<=s;)o/=f,f++;return o}}class xu{static buildBitArray(t){let a=t.length*2-1;t[t.length-1].getRightChar()==null&&(a-=1);let i=12*a,s=new Ce(i),o=0,g=t[0].getRightChar().getValue();for(let y=11;y>=0;--y)(g&1<<y)!=0&&s.set(o),o++;for(let y=1;y<t.length;++y){let A=t[y],C=A.getLeftChar().getValue();for(let O=11;O>=0;--O)(C&1<<O)!=0&&s.set(o),o++;if(A.getRightChar()!=null){let O=A.getRightChar().getValue();for(let I=11;I>=0;--I)(O&1<<I)!=0&&s.set(o),o++}}return s}}class Ba{constructor(t,a){a?this.decodedInformation=null:(this.finished=t,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Kr{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class In extends Kr{constructor(t,a){super(t),this.value=a}getValue(){return this.value}isFNC1(){return this.value===In.FNC1}}In.FNC1="$";class ka extends Kr{constructor(t,a,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Zn extends Kr{constructor(t,a,i){if(super(t),a<0||a>10||i<0||i>10)throw new le;this.firstDigit=a,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Zn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Zn.FNC1}isAnyFNC1(){return this.firstDigit===Zn.FNC1||this.secondDigit===Zn.FNC1}}Zn.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new $;let a=t.substring(0,2);for(let o of Ie.TWO_DIGIT_DATA_LENGTH)if(o[0]===a)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,o[2],t):Ie.processFixedAI(2,o[1],t);if(t.length<3)throw new $;let i=t.substring(0,3);for(let o of Ie.THREE_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,o[2],t):Ie.processFixedAI(3,o[1],t);for(let o of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,o[2],t):Ie.processFixedAI(4,o[1],t);if(t.length<4)throw new $;let s=t.substring(0,4);for(let o of Ie.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,o[2],t):Ie.processFixedAI(4,o[1],t);throw new $}static processFixedAI(t,a,i){if(i.length<t)throw new $;let s=i.substring(0,t);if(i.length<t+a)throw new $;let o=i.substring(t,t+a),f=i.substring(t+a),g="("+s+")"+o,y=Ie.parseFieldsInGeneralPurpose(f);return y==null?g:g+y}static processVariableAI(t,a,i){let s=i.substring(0,t),o;i.length<t+a?o=i.length:o=t+a;let f=i.substring(t,o),g=i.substring(o),y="("+s+")"+f,A=Ie.parseFieldsInGeneralPurpose(g);return A==null?y:y+A}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class Qt{constructor(t){this.buffer=new Pe,this.information=t}decodeAllCodes(t,a){let i=a,s=null;do{let o=this.decodeGeneralPurposeField(i,s),f=Ie.parseFieldsInGeneralPurpose(o.getNewString());if(f!=null&&t.append(f),o.isRemaining()?s=""+o.getRemainingValue():s=null,i===o.getNewPosition())break;i=o.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let a=t;a<t+3;++a)if(this.information.get(a))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(t,4);return o===0?new Zn(this.information.getSize(),Zn.FNC1,Zn.FNC1):new Zn(this.information.getSize(),o-1,Zn.FNC1)}let a=this.extractNumericValueFromBitArray(t,7),i=(a-8)/11,s=(a-8)%11;return new Zn(t+7,i,s)}extractNumericValueFromBitArray(t,a){return Qt.extractNumericValueFromBitArray(this.information,t,a)}static extractNumericValueFromBitArray(t,a,i){let s=0;for(let o=0;o<i;++o)t.get(a+o)&&(s|=1<<i-o-1);return s}decodeGeneralPurposeField(t,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new ka(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new ka(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,a;do{let i=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),t=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),t=a.isFinished()):(a=this.parseNumericBlock(),t=a.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let a;return t.isSecondDigitFNC1()?a=new ka(this.current.getPosition(),this.buffer.toString()):a=new ka(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ba(!0,a)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let a=new ka(this.current.getPosition(),this.buffer.toString());return new Ba(!0,a)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ba(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new ka(this.current.getPosition(),this.buffer.toString());return new Ba(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ba(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new ka(this.current.getPosition(),this.buffer.toString());return new Ba(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ba(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new In(t+5,In.FNC1);if(a>=5&&a<15)return new In(t+5,"0"+(a-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new In(t+7,""+(i+1));if(i>=90&&i<116)return new In(t+7,""+(i+7));let s=this.extractNumericValueFromBitArray(t,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new le}return new In(t+8,o)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new In(t+5,In.FNC1);if(a>=5&&a<15)return new In(t+5,"0"+(a-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new In(t+6,""+(i+33));let s;switch(i){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Tt("Decoding invalid alphanumeric value: "+i)}return new In(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<5&&a+t<this.information.getSize();++a)if(a===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+a))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let a=t;a<t+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<4&&a+t<this.information.getSize();++a)if(this.information.get(t+a))return!1;return!0}}class bn{constructor(t){this.information=t,this.generalDecoder=new Qt(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class sn extends bn{constructor(t){super(t)}encodeCompressedGtin(t,a){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,a,i)}encodeCompressedGtinWithoutAI(t,a,i){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*s,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}sn.appendCheckDigit(t,i)}static appendCheckDigit(t,a){let i=0;for(let s=0;s<13;s++){let o=t.charAt(s+a).charCodeAt(0)-48;i+=(s&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),t.append(i)}}sn.GTIN_SIZE=40;class Ua extends sn{constructor(t){super(t)}parseInformation(){let t=new Pe;t.append("(01)");let a=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ua.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,Ua.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(t,Ua.HEADER_SIZE+44)}}Ua.HEADER_SIZE=4;class Jr extends bn{constructor(t){super(t)}parseInformation(){let t=new Pe;return this.getGeneralDecoder().decodeAllCodes(t,Jr.HEADER_SIZE)}}Jr.HEADER_SIZE=5;class $r extends sn{constructor(t){super(t)}encodeCompressedWeight(t,a,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,i);this.addWeightCode(t,s);let o=this.checkWeight(s),f=1e5;for(let g=0;g<5;++g)o/f===0&&t.append("0"),f/=10;t.append(o)}}class $n extends $r{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=$n.HEADER_SIZE+$r.GTIN_SIZE+$n.WEIGHT_SIZE)throw new $;let t=new Pe;return this.encodeCompressedGtin(t,$n.HEADER_SIZE),this.encodeCompressedWeight(t,$n.HEADER_SIZE+$r.GTIN_SIZE,$n.WEIGHT_SIZE),t.toString()}}$n.HEADER_SIZE=5,$n.WEIGHT_SIZE=15;class wr extends $n{constructor(t){super(t)}addWeightCode(t,a){t.append("(3103)")}checkWeight(t){return t}}class Gs extends $n{constructor(t){super(t)}addWeightCode(t,a){a<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Cn extends sn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Cn.HEADER_SIZE+sn.GTIN_SIZE)throw new $;let t=new Pe;this.encodeCompressedGtin(t,Cn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Cn.HEADER_SIZE+sn.GTIN_SIZE,Cn.LAST_DIGIT_SIZE);t.append("(392"),t.append(a),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Cn.HEADER_SIZE+sn.GTIN_SIZE+Cn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Cn.HEADER_SIZE=8,Cn.LAST_DIGIT_SIZE=2;class $t extends sn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<$t.HEADER_SIZE+sn.GTIN_SIZE)throw new $;let t=new Pe;this.encodeCompressedGtin(t,$t.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+sn.GTIN_SIZE,$t.LAST_DIGIT_SIZE);t.append("(393"),t.append(a),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+sn.GTIN_SIZE+$t.LAST_DIGIT_SIZE,$t.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let s=this.getGeneralDecoder().decodeGeneralPurposeField($t.HEADER_SIZE+sn.GTIN_SIZE+$t.LAST_DIGIT_SIZE+$t.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}$t.HEADER_SIZE=8,$t.LAST_DIGIT_SIZE=2,$t.FIRST_THREE_DIGITS_SIZE=10;class Nt extends $r{constructor(t,a,i){super(t),this.dateCode=i,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new $;let t=new Pe;return this.encodeCompressedGtin(t,Nt.HEADER_SIZE),this.encodeCompressedWeight(t,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(t,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,a){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Nt.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=i%32;i/=32;let o=i%12+1;i/=12;let f=i;f/10==0&&t.append("0"),t.append(f),o/10==0&&t.append("0"),t.append(o),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,a){t.append("("),t.append(this.firstAIdigits),t.append(a/1e5),t.append(")")}checkWeight(t){return t%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function ni(N){try{if(N.get(1))return new Ua(N);if(!N.get(2))return new Jr(N);switch(Qt.extractNumericValueFromBitArray(N,1,4)){case 4:return new wr(N);case 5:return new Gs(N)}switch(Qt.extractNumericValueFromBitArray(N,1,5)){case 12:return new Cn(N);case 13:return new $t(N)}switch(Qt.extractNumericValueFromBitArray(N,1,7)){case 56:return new Nt(N,"310","11");case 57:return new Nt(N,"320","11");case 58:return new Nt(N,"310","13");case 59:return new Nt(N,"320","13");case 60:return new Nt(N,"310","15");case 61:return new Nt(N,"320","15");case 62:return new Nt(N,"310","17");case 63:return new Nt(N,"320","17")}}catch(t){throw console.log(t),new Tt("unknown decoder: "+N)}}class kt{constructor(t,a,i,s){this.leftchar=t,this.rightchar=a,this.finderpattern=i,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,a){return t instanceof kt?kt.equalsOrNull(t.leftchar,a.leftchar)&&kt.equalsOrNull(t.rightchar,a.rightchar)&&kt.equalsOrNull(t.finderpattern,a.finderpattern):!1}static equalsOrNull(t,a){return t===null?a===null:kt.equals(t,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class es{constructor(t,a,i){this.pairs=t,this.rowNumber=a,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,a){return t instanceof es?this.checkEqualitity(t,a)&&t.wasReversed===a.wasReversed:!1}checkEqualitity(t,a){if(!t||!a)return;let i;return t.forEach((s,o)=>{a.forEach(f=>{s.getLeftChar().getValue()===f.getLeftChar().getValue()&&s.getRightChar().getValue()===f.getRightChar().getValue()&&s.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(i=!0)})}),i}}class pe extends xn{constructor(t){super(...arguments),this.pairs=new Array(pe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,a,i){this.pairs.length=0,this.startFromEven=!1;try{return pe.constructResult(this.decodeRow2pairs(t,a))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,pe.constructResult(this.decodeRow2pairs(t,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,a){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,t))}catch(o){if(o instanceof $){if(!this.pairs.length)throw new $;i=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new $}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),a}checkRows(t,a){for(let i=a;i<this.rows.length;i++){let s=this.rows[i];this.pairs.length=0;for(let f of t)this.pairs.push(f.getPairs());if(this.pairs.push(s.getPairs()),!pe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(t);o.push(s);try{return this.checkRows(o,i+1)}catch(f){this.verbose&&console.log(f)}}throw new $}static isValidSequence(t){for(let a of pe.FINDER_PATTERN_SEQUENCES){if(t.length>a.length)continue;let i=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=a[s]){i=!1;break}if(i)return!0}return!1}storeRow(t,a){let i=0,s=!1,o=!1;for(;i<this.rows.length;){let f=this.rows[i];if(f.getRowNumber()>t){o=f.isEquivalent(this.pairs);break}s=f.isEquivalent(this.pairs),i++}o||s||pe.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new es(this.pairs,t,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,a){for(let i of a)if(i.getPairs().length!==t.length){for(let s of i.getPairs())for(let o of t)if(kt.equals(s,o))break}}static isPartialRow(t,a){for(let i of a){let s=!0;for(let o of t){let f=!1;for(let g of i.getPairs())if(o.equals(g)){f=!0;break}if(!f){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let a=xu.buildBitArray(t),s=ni(a).parseInformation(),o=t[0].getFinderPattern().getResultPoints(),f=t[t.length-1].getFinderPattern().getResultPoints(),g=[o[0],o[1],f[0],f[1]];return new ue(s,null,null,g,oe.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),a=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let s=i.getChecksumPortion(),o=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);s+=y.getLeftChar().getChecksumPortion(),o++;let A=y.getRightChar();A!=null&&(s+=A.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==a.getValue()}static getNextSecondBar(t,a){let i;return t.get(a)?(i=t.getNextUnset(a),i=t.getNextSet(i)):(i=t.getNextSet(a),i=t.getNextUnset(i)),i}retrieveNextPair(t,a,i){let s=a.length%2==0;this.startFromEven&&(s=!s);let o,f=!0,g=-1;do this.findNextPair(t,a,g),o=this.parseFoundFinderPattern(t,i,s),o==null?g=pe.getNextSecondBar(t,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(t,o,s,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new $;let A;try{A=this.decodeDataCharacter(t,o,s,!1)}catch(C){A=null,this.verbose&&console.log(C)}return new kt(y,A,o,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,a,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f;i>=0?f=i:this.isEmptyPair(a)?f=0:f=a[a.length-1].getFinderPattern().getStartEnd()[1];let g=a.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;f<o&&(y=!t.get(f),!!y);)f++;let A=0,C=f;for(let O=f;O<o;O++)if(t.get(O)!=y)s[A]++;else{if(A==3){if(g&&pe.reverseCounters(s),pe.isFinderPattern(s)){this.startEnd[0]=C,this.startEnd[1]=O;return}g&&pe.reverseCounters(s),C+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,A--}else A++;s[A]=1,y=!y}throw new $}static reverseCounters(t){let a=t.length;for(let i=0;i<a/2;++i){let s=t[i];t[i]=t[a-i-1],t[a-i-1]=s}}parseFoundFinderPattern(t,a,i){let s,o,f;if(i){let A=this.startEnd[0]-1;for(;A>=0&&!t.get(A);)A--;A++,s=this.startEnd[0]-A,o=A,f=this.startEnd[1]}else o=this.startEnd[0],f=t.getNextUnset(this.startEnd[1]+1),s=f-this.startEnd[1];let g=this.getDecodeFinderCounters();Q.arraycopy(g,0,g,1,g.length-1),g[0]=s;let y;try{y=this.parseFinderValue(g,pe.FINDER_PATTERNS)}catch{return null}return new Mi(y,[o,f],o,f,a)}decodeDataCharacter(t,a,i,s){let o=this.getDataCharacterCounters();for(let Rt=0;Rt<o.length;Rt++)o[Rt]=0;if(s)pe.recordPatternInReverse(t,a.getStartEnd()[0],o);else{pe.recordPattern(t,a.getStartEnd()[1],o);for(let Rt=0,En=o.length-1;Rt<En;Rt++,En--){let Xn=o[Rt];o[Rt]=o[En],o[En]=Xn}}let f=17,g=$e.sum(new Int32Array(o))/f,y=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new $;let A=this.getOddCounts(),C=this.getEvenCounts(),O=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Rt=0;Rt<o.length;Rt++){let En=1*o[Rt]/g,Xn=En+.5;if(Xn<1){if(En<.3)throw new $;Xn=1}else if(Xn>8){if(En>8.7)throw new $;Xn=8}let oi=Rt/2;(Rt&1)==0?(A[oi]=Xn,O[oi]=En-Xn):(C[oi]=Xn,I[oi]=En-Xn)}this.adjustOddEvenCounts(f);let k=4*a.getValue()+(i?0:2)+(s?0:1)-1,z=0,H=0;for(let Rt=A.length-1;Rt>=0;Rt--){if(pe.isNotA1left(a,i,s)){let En=pe.WEIGHTS[k][2*Rt];H+=A[Rt]*En}z+=A[Rt]}let W=0;for(let Rt=C.length-1;Rt>=0;Rt--)if(pe.isNotA1left(a,i,s)){let En=pe.WEIGHTS[k][2*Rt+1];W+=C[Rt]*En}let se=H+W;if((z&1)!=0||z>13||z<4)throw new $;let Ae=(13-z)/2,be=pe.SYMBOL_WIDEST[Ae],ye=9-be,lt=kn.getRSSvalue(A,be,!0),Ze=kn.getRSSvalue(C,ye,!1),Rn=pe.EVEN_TOTAL_SUBSET[Ae],Kn=pe.GSUM[Ae],Dn=lt*Rn+Ze+Kn;return new ti(Dn,se)}static isNotA1left(t,a,i){return!(t.getValue()==0&&a&&i)}adjustOddEvenCounts(t){let a=$e.sum(new Int32Array(this.getOddCounts())),i=$e.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;a>13?o=!0:a<4&&(s=!0);let f=!1,g=!1;i>13?g=!0:i<4&&(f=!0);let y=a+i-t,A=(a&1)==1,C=(i&1)==0;if(y==1)if(A){if(C)throw new $;o=!0}else{if(!C)throw new $;g=!0}else if(y==-1)if(A){if(C)throw new $;s=!0}else{if(!C)throw new $;f=!0}else if(y==0){if(A){if(!C)throw new $;a<i?(s=!0,g=!0):(o=!0,f=!0)}else if(C)throw new $}else throw new $;if(s){if(o)throw new $;pe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&pe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new $;pe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&pe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pe.SYMBOL_WIDEST=[7,5,4,3,1],pe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],pe.GSUM=[0,348,1388,2948,3988],pe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],pe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],pe.FINDER_PAT_A=0,pe.FINDER_PAT_B=1,pe.FINDER_PAT_C=2,pe.FINDER_PAT_D=3,pe.FINDER_PAT_E=4,pe.FINDER_PAT_F=5,pe.FINDER_PATTERN_SEQUENCES=[[pe.FINDER_PAT_A,pe.FINDER_PAT_A],[pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B],[pe.FINDER_PAT_A,pe.FINDER_PAT_C,pe.FINDER_PAT_B,pe.FINDER_PAT_D],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_C],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_D,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_D],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_E],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F]],pe.MAX_PAIRS=11;class ai extends ti{constructor(t,a,i){super(t,a),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mt extends xn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,a,i){const s=this.decodePair(a,!1,t,i);Mt.addOrTally(this.possibleLeftPairs,s),a.reverse();let o=this.decodePair(a,!0,t,i);Mt.addOrTally(this.possibleRightPairs,o),a.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Mt.checkChecksum(f,g))return Mt.constructResult(f,g)}throw new $}static addOrTally(t,a){if(a==null)return;let i=!1;for(let s of t)if(s.getValue()===a.getValue()){s.incrementCount(),i=!0;break}i||t.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,a){let i=4537077*t.getValue()+a.getValue(),s=new String(i).toString(),o=new Pe;for(let A=13-s.length;A>0;A--)o.append("0");o.append(s);let f=0;for(let A=0;A<13;A++){let C=o.charAt(A).charCodeAt(0)-48;f+=(A&1)===0?3*C:C}f=10-f%10,f===10&&(f=0),o.append(f.toString());let g=t.getFinderPattern().getResultPoints(),y=a.getFinderPattern().getResultPoints();return new ue(o.toString(),null,0,[g[0],g[1],y[0],y[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(t,a){let i=(t.getChecksumPortion()+16*a.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+a.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s}decodePair(t,a,i,s){try{let o=this.findFinderPattern(t,a),f=this.parseFoundFinderPattern(t,i,a,o),g=s==null?null:s.get(we.NEED_RESULT_POINT_CALLBACK);if(g!=null){let C=(o[0]+o[1])/2;a&&(C=t.getSize()-1-C),g.foundPossibleResultPoint(new _e(C,i))}let y=this.decodeDataCharacter(t,f,!0),A=this.decodeDataCharacter(t,f,!1);return new ai(1597*y.getValue()+A.getValue(),y.getChecksumPortion()+4*A.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(t,a,i){let s=this.getDataCharacterCounters();for(let W=0;W<s.length;W++)s[W]=0;if(i)_t.recordPatternInReverse(t,a.getStartEnd()[0],s);else{_t.recordPattern(t,a.getStartEnd()[1]+1,s);for(let W=0,se=s.length-1;W<se;W++,se--){let Ae=s[W];s[W]=s[se],s[se]=Ae}}let o=i?16:15,f=$e.sum(new Int32Array(s))/o,g=this.getOddCounts(),y=this.getEvenCounts(),A=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let W=0;W<s.length;W++){let se=s[W]/f,Ae=Math.floor(se+.5);Ae<1?Ae=1:Ae>8&&(Ae=8);let be=Math.floor(W/2);(W&1)===0?(g[be]=Ae,A[be]=se-Ae):(y[be]=Ae,C[be]=se-Ae)}this.adjustOddEvenCounts(i,o);let O=0,I=0;for(let W=g.length-1;W>=0;W--)I*=9,I+=g[W],O+=g[W];let k=0,z=0;for(let W=y.length-1;W>=0;W--)k*=9,k+=y[W],z+=y[W];let H=I+3*k;if(i){if((O&1)!==0||O>12||O<4)throw new $;let W=(12-O)/2,se=Mt.OUTSIDE_ODD_WIDEST[W],Ae=9-se,be=kn.getRSSvalue(g,se,!1),ye=kn.getRSSvalue(y,Ae,!0),lt=Mt.OUTSIDE_EVEN_TOTAL_SUBSET[W],Ze=Mt.OUTSIDE_GSUM[W];return new ti(be*lt+ye+Ze,H)}else{if((z&1)!==0||z>10||z<4)throw new $;let W=(10-z)/2,se=Mt.INSIDE_ODD_WIDEST[W],Ae=9-se,be=kn.getRSSvalue(g,se,!0),ye=kn.getRSSvalue(y,Ae,!1),lt=Mt.INSIDE_ODD_TOTAL_SUBSET[W],Ze=Mt.INSIDE_GSUM[W];return new ti(ye*lt+be+Ze,H)}}findFinderPattern(t,a){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=t.getSize(),o=!1,f=0;for(;f<s&&(o=!t.get(f),a!==o);)f++;let g=0,y=f;for(let A=f;A<s;A++)if(t.get(A)!==o)i[g]++;else{if(g===3){if(xn.isFinderPattern(i))return[y,A];y+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,g--}else g++;i[g]=1,o=!o}throw new $}parseFoundFinderPattern(t,a,i,s){let o=t.get(s[0]),f=s[0]-1;for(;f>=0&&o!==t.get(f);)f--;f++;const g=s[0]-f,y=this.getDecodeFinderCounters(),A=new Int32Array(y.length);Q.arraycopy(y,0,A,1,y.length-1),A[0]=g;const C=this.parseFinderValue(A,Mt.FINDER_PATTERNS);let O=f,I=s[1];return i&&(O=t.getSize()-1-O,I=t.getSize()-1-I),new Mi(C,[f,s[1]],O,I,a)}adjustOddEvenCounts(t,a){let i=$e.sum(new Int32Array(this.getOddCounts())),s=$e.sum(new Int32Array(this.getEvenCounts())),o=!1,f=!1,g=!1,y=!1;t?(i>12?f=!0:i<4&&(o=!0),s>12?y=!0:s<4&&(g=!0)):(i>11?f=!0:i<5&&(o=!0),s>10?y=!0:s<4&&(g=!0));let A=i+s-a,C=(i&1)===(t?1:0),O=(s&1)===1;if(A===1)if(C){if(O)throw new $;f=!0}else{if(!O)throw new $;y=!0}else if(A===-1)if(C){if(O)throw new $;o=!0}else{if(!O)throw new $;g=!0}else if(A===0){if(C){if(!O)throw new $;i<s?(o=!0,y=!0):(f=!0,g=!0)}else if(O)throw new $}else throw new $;if(o){if(f)throw new $;xn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&xn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new $;xn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&xn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mt.OUTSIDE_GSUM=[0,161,961,2015,2715],Mt.INSIDE_GSUM=[0,336,1036,1516],Mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mt.INSIDE_ODD_WIDEST=[2,4,6,8],Mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Un extends _t{constructor(t,a){super(),this.readers=[],this.verbose=a===!0;const i=t?t.get(we.POSSIBLE_FORMATS):null,s=t&&t.get(we.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(oe.EAN_13)||i.includes(oe.UPC_A)||i.includes(oe.EAN_8)||i.includes(oe.UPC_E))&&this.readers.push(new Vs(t)),i.includes(oe.CODE_39)&&this.readers.push(new rn(s)),i.includes(oe.CODE_128)&&this.readers.push(new Se),i.includes(oe.ITF)&&this.readers.push(new ht),i.includes(oe.RSS_14)&&this.readers.push(new Mt),i.includes(oe.RSS_EXPANDED)&&this.readers.push(new pe(this.verbose))):(this.readers.push(new Vs(t)),this.readers.push(new rn),this.readers.push(new Vs(t)),this.readers.push(new Se),this.readers.push(new ht),this.readers.push(new Mt),this.readers.push(new pe(this.verbose)))}decodeRow(t,a,i){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,a,i)}catch{}throw new $}reset(){this.readers.forEach(t=>t.reset())}}class yu extends xe{constructor(t=500,a){super(new Un(a),t,a)}}class bt{constructor(t,a,i){this.ecCodewords=t,this.ecBlocks=[a],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class yt{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ft{constructor(t,a,i,s,o,f){this.versionNumber=t,this.symbolSizeRows=a,this.symbolSizeColumns=i,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=f;let g=0;const y=f.getECCodewords(),A=f.getECBlocks();for(let C of A)g+=C.getCount()*(C.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,a){if((t&1)!==0||(a&1)!==0)throw new le;for(let i of ft.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===a)return i;throw new le}toString(){return""+this.versionNumber}static buildVersions(){return[new ft(1,10,10,8,8,new bt(5,new yt(1,3))),new ft(2,12,12,10,10,new bt(7,new yt(1,5))),new ft(3,14,14,12,12,new bt(10,new yt(1,8))),new ft(4,16,16,14,14,new bt(12,new yt(1,12))),new ft(5,18,18,16,16,new bt(14,new yt(1,18))),new ft(6,20,20,18,18,new bt(18,new yt(1,22))),new ft(7,22,22,20,20,new bt(20,new yt(1,30))),new ft(8,24,24,22,22,new bt(24,new yt(1,36))),new ft(9,26,26,24,24,new bt(28,new yt(1,44))),new ft(10,32,32,14,14,new bt(36,new yt(1,62))),new ft(11,36,36,16,16,new bt(42,new yt(1,86))),new ft(12,40,40,18,18,new bt(48,new yt(1,114))),new ft(13,44,44,20,20,new bt(56,new yt(1,144))),new ft(14,48,48,22,22,new bt(68,new yt(1,174))),new ft(15,52,52,24,24,new bt(42,new yt(2,102))),new ft(16,64,64,14,14,new bt(56,new yt(2,140))),new ft(17,72,72,16,16,new bt(36,new yt(4,92))),new ft(18,80,80,18,18,new bt(48,new yt(4,114))),new ft(19,88,88,20,20,new bt(56,new yt(4,144))),new ft(20,96,96,22,22,new bt(68,new yt(4,174))),new ft(21,104,104,24,24,new bt(56,new yt(6,136))),new ft(22,120,120,18,18,new bt(68,new yt(6,175))),new ft(23,132,132,20,20,new bt(62,new yt(8,163))),new ft(24,144,144,22,22,new bt(62,new yt(8,156),new yt(2,155))),new ft(25,8,18,6,16,new bt(7,new yt(1,5))),new ft(26,8,32,6,14,new bt(11,new yt(1,10))),new ft(27,12,26,10,24,new bt(14,new yt(1,16))),new ft(28,12,36,10,16,new bt(18,new yt(1,22))),new ft(29,16,36,14,16,new bt(24,new yt(1,32))),new ft(30,16,48,14,22,new bt(28,new yt(1,49)))]}}ft.VERSIONS=ft.buildVersions();class Ii{constructor(t){const a=t.getHeight();if(a<8||a>144||(a&1)!==0)throw new le;this.version=Ii.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new st(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const a=t.getHeight(),i=t.getWidth();return ft.getVersionForDimensions(a,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let a=0,i=4,s=0;const o=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,y=!1,A=!1,C=!1;do if(i===o&&s===0&&!g)t[a++]=this.readCorner1(o,f)&255,i-=2,s+=2,g=!0;else if(i===o-2&&s===0&&(f&3)!==0&&!y)t[a++]=this.readCorner2(o,f)&255,i-=2,s+=2,y=!0;else if(i===o+4&&s===2&&(f&7)===0&&!A)t[a++]=this.readCorner3(o,f)&255,i-=2,s+=2,A=!0;else if(i===o-2&&s===0&&(f&7)===4&&!C)t[a++]=this.readCorner4(o,f)&255,i-=2,s+=2,C=!0;else{do i<o&&s>=0&&!this.readMappingMatrix.get(s,i)&&(t[a++]=this.readUtah(i,s,o,f)&255),i-=2,s+=2;while(i>=0&&s<f);i+=1,s+=3;do i>=0&&s<f&&!this.readMappingMatrix.get(s,i)&&(t[a++]=this.readUtah(i,s,o,f)&255),i+=2,s-=2;while(i<o&&s>=0);i+=3,s+=1}while(i<o||s<f);if(a!==this.version.getTotalCodewords())throw new le;return t}readModule(t,a,i,s){return t<0&&(t+=i,a+=4-(i+4&7)),a<0&&(a+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(a,t),this.mappingBitMatrix.get(a,t)}readUtah(t,a,i,s){let o=0;return this.readModule(t-2,a-2,i,s)&&(o|=1),o<<=1,this.readModule(t-2,a-1,i,s)&&(o|=1),o<<=1,this.readModule(t-1,a-2,i,s)&&(o|=1),o<<=1,this.readModule(t-1,a-1,i,s)&&(o|=1),o<<=1,this.readModule(t-1,a,i,s)&&(o|=1),o<<=1,this.readModule(t,a-2,i,s)&&(o|=1),o<<=1,this.readModule(t,a-1,i,s)&&(o|=1),o<<=1,this.readModule(t,a,i,s)&&(o|=1),o}readCorner1(t,a){let i=0;return this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,1,t,a)&&(i|=1),i<<=1,this.readModule(t-1,2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(2,a-1,t,a)&&(i|=1),i<<=1,this.readModule(3,a-1,t,a)&&(i|=1),i}readCorner2(t,a){let i=0;return this.readModule(t-3,0,t,a)&&(i|=1),i<<=1,this.readModule(t-2,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(0,a-4,t,a)&&(i|=1),i<<=1,this.readModule(0,a-3,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i}readCorner3(t,a){let i=0;return this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(0,a-3,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-3,t,a)&&(i|=1),i<<=1,this.readModule(1,a-2,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i}readCorner4(t,a){let i=0;return this.readModule(t-3,0,t,a)&&(i|=1),i<<=1,this.readModule(t-2,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(2,a-1,t,a)&&(i|=1),i<<=1,this.readModule(3,a-1,t,a)&&(i|=1),i}extractDataRegion(t){const a=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==a)throw new _("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),f=a/s|0,g=i/o|0,y=f*s,A=g*o,C=new st(A,y);for(let O=0;O<f;++O){const I=O*s;for(let k=0;k<g;++k){const z=k*o;for(let H=0;H<s;++H){const W=O*(s+2)+1+H,se=I+H;for(let Ae=0;Ae<o;++Ae){const be=k*(o+2)+1+Ae;if(t.get(be,W)){const ye=z+Ae;C.set(ye,se)}}}}}return C}}class Ri{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a){const i=a.getECBlocks();let s=0;const o=i.getECBlocks();for(let H of o)s+=H.getCount();const f=new Array(s);let g=0;for(let H of o)for(let W=0;W<H.getCount();W++){const se=H.getDataCodewords(),Ae=i.getECCodewords()+se;f[g++]=new Ri(se,new Uint8Array(Ae))}const A=f[0].codewords.length-i.getECCodewords(),C=A-1;let O=0;for(let H=0;H<C;H++)for(let W=0;W<g;W++)f[W].codewords[H]=t[O++];const I=a.getVersionNumber()===24,k=I?8:g;for(let H=0;H<k;H++)f[H].codewords[A-1]=t[O++];const z=f[0].codewords.length;for(let H=A;H<z;H++)for(let W=0;W<g;W++){const se=I?(W+8)%g:W,Ae=I&&se>7?H-1:H;f[se].codewords[Ae]=t[O++]}if(O!==t.length)throw new _;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ea{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new _(""+t);let a=0,i=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(i>0){const f=8-i,g=t<f?t:f,y=f-g,A=255>>8-g<<y;a=(o[s]&A)>>y,t-=g,i+=g,i===8&&(i=0,s++)}if(t>0){for(;t>=8;)a=a<<8|o[s]&255,s++,t-=8;if(t>0){const f=8-t,g=255>>f<<f;a=a<<t|(o[s]&g)>>f,i+=t}}return this.bitOffset=i,this.byteOffset=s,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ct;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ct||(Ct={}));class Sa{static decode(t){const a=new ea(t),i=new Pe,s=new Pe,o=new Array;let f=Ct.ASCII_ENCODE;do if(f===Ct.ASCII_ENCODE)f=this.decodeAsciiSegment(a,i,s);else{switch(f){case Ct.C40_ENCODE:this.decodeC40Segment(a,i);break;case Ct.TEXT_ENCODE:this.decodeTextSegment(a,i);break;case Ct.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,i);break;case Ct.EDIFACT_ENCODE:this.decodeEdifactSegment(a,i);break;case Ct.BASE256_ENCODE:this.decodeBase256Segment(a,i,o);break;default:throw new le}f=Ct.ASCII_ENCODE}while(f!==Ct.PAD_ENCODE&&a.available()>0);return s.length()>0&&i.append(s.toString()),new Ge(t,i.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(t,a,i){let s=!1;do{let o=t.readBits(8);if(o===0)throw new le;if(o<=128)return s&&(o+=128),a.append(String.fromCharCode(o-1)),Ct.ASCII_ENCODE;if(o===129)return Ct.PAD_ENCODE;if(o<=229){const f=o-130;f<10&&a.append("0"),a.append(""+f)}else switch(o){case 230:return Ct.C40_ENCODE;case 231:return Ct.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:a.append("[)>05"),i.insert(0,"");break;case 237:a.append("[)>06"),i.insert(0,"");break;case 238:return Ct.ANSIX12_ENCODE;case 239:return Ct.TEXT_ENCODE;case 240:return Ct.EDIFACT_ENCODE;case 241:break;default:if(o!==254||t.available()!==0)throw new le;break}}while(t.available()>0);return Ct.ASCII_ENCODE}static decodeC40Segment(t,a){let i=!1;const s=[];let o=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let g=0;g<3;g++){const y=s[g];switch(o){case 0:if(y<3)o=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const A=this.C40_BASIC_SET_CHARS[y];i?(a.append(String.fromCharCode(A.charCodeAt(0)+128)),i=!1):a.append(A)}else throw new le;break;case 1:i?(a.append(String.fromCharCode(y+128)),i=!1):a.append(String.fromCharCode(y)),o=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[y];i?(a.append(String.fromCharCode(A.charCodeAt(0)+128)),i=!1):a.append(A)}else switch(y){case 27:a.append("");break;case 30:i=!0;break;default:throw new le}o=0;break;case 3:i?(a.append(String.fromCharCode(y+224)),i=!1):a.append(String.fromCharCode(y+96)),o=0;break;default:throw new le}}}while(t.available()>0)}static decodeTextSegment(t,a){let i=!1,s=[],o=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let g=0;g<3;g++){const y=s[g];switch(o){case 0:if(y<3)o=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const A=this.TEXT_BASIC_SET_CHARS[y];i?(a.append(String.fromCharCode(A.charCodeAt(0)+128)),i=!1):a.append(A)}else throw new le;break;case 1:i?(a.append(String.fromCharCode(y+128)),i=!1):a.append(String.fromCharCode(y)),o=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[y];i?(a.append(String.fromCharCode(A.charCodeAt(0)+128)),i=!1):a.append(A)}else switch(y){case 27:a.append("");break;case 30:i=!0;break;default:throw new le}o=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const A=this.TEXT_SHIFT3_SET_CHARS[y];i?(a.append(String.fromCharCode(A.charCodeAt(0)+128)),i=!1):a.append(A),o=0}else throw new le;break;default:throw new le}}}while(t.available()>0)}static decodeAnsiX12Segment(t,a){const i=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),i);for(let o=0;o<3;o++){const f=i[o];switch(f){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(f<14)a.append(String.fromCharCode(f+44));else if(f<40)a.append(String.fromCharCode(f+51));else throw new le;break}}}while(t.available()>0)}static parseTwoBytes(t,a,i){let s=(t<<8)+a-1,o=Math.floor(s/1600);i[0]=o,s-=o*1600,o=Math.floor(s/40),i[1]=o,i[2]=s-o*40}static decodeEdifactSegment(t,a){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let s=t.readBits(6);if(s===31){const o=8-t.getBitOffset();o!==8&&t.readBits(o);return}(s&32)===0&&(s|=64),a.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,a,i){let s=1+t.getByteOffset();const o=this.unrandomize255State(t.readBits(8),s++);let f;if(o===0?f=t.available()/8|0:o<250?f=o:f=250*(o-249)+this.unrandomize255State(t.readBits(8),s++),f<0)throw new le;const g=new Uint8Array(f);for(let y=0;y<f;y++){if(t.available()<8)throw new le;g[y]=this.unrandomize255State(t.readBits(8),s++)}i.push(g);try{a.append(je.decode(g,ve.ISO88591))}catch(y){throw new Tt("Platform does not support required encoding: "+y.message)}}static unrandomize255State(t,a){const i=149*a%255+1,s=t-i;return s>=0?s:s+256}}Sa.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Sa.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Sa.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Sa.TEXT_SHIFT2_SET_CHARS=Sa.C40_SHIFT2_SET_CHARS,Sa.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Eu{constructor(){this.rsDecoder=new Yt(ze.DATA_MATRIX_FIELD_256)}decode(t){const a=new Ii(t),i=a.getVersion(),s=a.readCodewords(),o=Ri.getDataBlocks(s,i);let f=0;for(let A of o)f+=A.getNumDataCodewords();const g=new Uint8Array(f),y=o.length;for(let A=0;A<y;A++){const C=o[A],O=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(O,I);for(let k=0;k<I;k++)g[k*y+A]=O[k]}return Sa.decode(g)}correctErrors(t,a){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-a)}catch{throw new F}for(let s=0;s<a;s++)t[s]=i[s]}}class zt{constructor(t){this.image=t,this.rectangleDetector=new qt(this.image)}detect(){const t=this.rectangleDetector.detect();let a=this.detectSolid1(t);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new $;a=this.shiftToModuleCenter(a);const i=a[0],s=a[1],o=a[2],f=a[3];let g=this.transitionsBetween(i,f)+1,y=this.transitionsBetween(o,f)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let A=zt.sampleGrid(this.image,i,s,o,f,g,y);return new Ni(A,[i,s,o,f])}static shiftPoint(t,a,i){let s=(a.getX()-t.getX())/(i+1),o=(a.getY()-t.getY())/(i+1);return new _e(t.getX()+s,t.getY()+o)}static moveAway(t,a,i){let s=t.getX(),o=t.getY();return s<a?s-=1:s+=1,o<i?o-=1:o+=1,new _e(s,o)}detectSolid1(t){let a=t[0],i=t[1],s=t[3],o=t[2],f=this.transitionsBetween(a,i),g=this.transitionsBetween(i,s),y=this.transitionsBetween(s,o),A=this.transitionsBetween(o,a),C=f,O=[o,a,i,s];return C>g&&(C=g,O[0]=a,O[1]=i,O[2]=s,O[3]=o),C>y&&(C=y,O[0]=i,O[1]=s,O[2]=o,O[3]=a),C>A&&(O[0]=s,O[1]=o,O[2]=a,O[3]=i),O}detectSolid2(t){let a=t[0],i=t[1],s=t[2],o=t[3],f=this.transitionsBetween(a,o),g=zt.shiftPoint(i,s,(f+1)*4),y=zt.shiftPoint(s,i,(f+1)*4),A=this.transitionsBetween(g,a),C=this.transitionsBetween(y,o);return A<C?(t[0]=a,t[1]=i,t[2]=s,t[3]=o):(t[0]=i,t[1]=s,t[2]=o,t[3]=a),t}correctTopRight(t){let a=t[0],i=t[1],s=t[2],o=t[3],f=this.transitionsBetween(a,o),g=this.transitionsBetween(i,o),y=zt.shiftPoint(a,i,(g+1)*4),A=zt.shiftPoint(s,i,(f+1)*4);f=this.transitionsBetween(y,o),g=this.transitionsBetween(A,o);let C=new _e(o.getX()+(s.getX()-i.getX())/(f+1),o.getY()+(s.getY()-i.getY())/(f+1)),O=new _e(o.getX()+(a.getX()-i.getX())/(g+1),o.getY()+(a.getY()-i.getY())/(g+1));if(!this.isValid(C))return this.isValid(O)?O:null;if(!this.isValid(O))return C;let I=this.transitionsBetween(y,C)+this.transitionsBetween(A,C),k=this.transitionsBetween(y,O)+this.transitionsBetween(A,O);return I>k?C:O}shiftToModuleCenter(t){let a=t[0],i=t[1],s=t[2],o=t[3],f=this.transitionsBetween(a,o)+1,g=this.transitionsBetween(s,o)+1,y=zt.shiftPoint(a,i,g*4),A=zt.shiftPoint(s,i,f*4);f=this.transitionsBetween(y,o)+1,g=this.transitionsBetween(A,o)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let C=(a.getX()+i.getX()+s.getX()+o.getX())/4,O=(a.getY()+i.getY()+s.getY()+o.getY())/4;a=zt.moveAway(a,C,O),i=zt.moveAway(i,C,O),s=zt.moveAway(s,C,O),o=zt.moveAway(o,C,O);let I,k;return y=zt.shiftPoint(a,i,g*4),y=zt.shiftPoint(y,o,f*4),I=zt.shiftPoint(i,a,g*4),I=zt.shiftPoint(I,s,f*4),A=zt.shiftPoint(s,o,g*4),A=zt.shiftPoint(A,i,f*4),k=zt.shiftPoint(o,s,g*4),k=zt.shiftPoint(k,a,f*4),[y,I,A,k]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,a,i,s,o,f,g){return Hn.getInstance().sampleGrid(t,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,a.getX(),a.getY(),o.getX(),o.getY(),s.getX(),s.getY(),i.getX(),i.getY())}transitionsBetween(t,a){let i=Math.trunc(t.getX()),s=Math.trunc(t.getY()),o=Math.trunc(a.getX()),f=Math.trunc(a.getY()),g=Math.abs(f-s)>Math.abs(o-i);if(g){let H=i;i=s,s=H,H=o,o=f,f=H}let y=Math.abs(o-i),A=Math.abs(f-s),C=-y/2,O=s<f?1:-1,I=i<o?1:-1,k=0,z=this.image.get(g?s:i,g?i:s);for(let H=i,W=s;H!==o;H+=I){let se=this.image.get(g?W:H,g?H:W);if(se!==z&&(k++,z=se),C+=A,C>0){if(W===f)break;W+=O,C-=y}}return k}}class va{constructor(){this.decoder=new Eu}decode(t,a=null){let i,s;if(a!=null&&a.has(we.PURE_BARCODE)){const A=va.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(A),s=va.NO_POINTS}else{const A=new zt(t.getBlackMatrix()).detect();i=this.decoder.decode(A.getBits()),s=A.getPoints()}const o=i.getRawBytes(),f=new ue(i.getText(),o,8*o.length,s,oe.DATA_MATRIX,Q.currentTimeMillis()),g=i.getByteSegments();g!=null&&f.putMetadata(Ne.BYTE_SEGMENTS,g);const y=i.getECLevel();return y!=null&&f.putMetadata(Ne.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(a==null||i==null)throw new $;const s=this.moduleSize(a,t);let o=a[1];const f=i[1];let g=a[0];const A=(i[0]-g+1)/s,C=(f-o+1)/s;if(A<=0||C<=0)throw new $;const O=s/2;o+=O,g+=O;const I=new st(A,C);for(let k=0;k<C;k++){const z=o+k*s;for(let H=0;H<A;H++)t.get(g+H*s,z)&&I.set(H,k)}return I}static moduleSize(t,a){const i=a.getWidth();let s=t[0];const o=t[1];for(;s<i&&a.get(s,o);)s++;if(s===i)throw new $;const f=s-t[0];if(f===0)throw new $;return f}}va.NO_POINTS=[];class ts extends xe{constructor(t=500){super(new va,t)}}var Di;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(Di||(Di={}));class ot{constructor(t,a,i){this.value=t,this.stringValue=a,this.bits=i,ot.FOR_BITS.set(i,this),ot.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return ot.L;case"M":return ot.M;case"Q":return ot.Q;case"H":return ot.H;default:throw new M(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof ot))return!1;const a=t;return this.value===a.value}static forBits(t){if(t<0||t>=ot.FOR_BITS.size)throw new _;return ot.FOR_BITS.get(t)}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.L=new ot(Di.L,"L",1),ot.M=new ot(Di.M,"M",0),ot.Q=new ot(Di.Q,"Q",3),ot.H=new ot(Di.H,"H",2);class fn{constructor(t){this.errorCorrectionLevel=ot.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,a){return ae.bitCount(t^a)}static decodeFormatInformation(t,a){const i=fn.doDecodeFormatInformation(t,a);return i!==null?i:fn.doDecodeFormatInformation(t^fn.FORMAT_INFO_MASK_QR,a^fn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,a){let i=Number.MAX_SAFE_INTEGER,s=0;for(const o of fn.FORMAT_INFO_DECODE_LOOKUP){const f=o[0];if(f===t||f===a)return new fn(o[1]);let g=fn.numBitsDiffering(t,f);g<i&&(s=o[1],i=g),t!==a&&(g=fn.numBitsDiffering(a,f),g<i&&(s=o[1],i=g))}return i<=3?new fn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof fn))return!1;const a=t;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}fn.FORMAT_INFO_MASK_QR=21522,fn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class J{constructor(t,...a){this.ecCodewordsPerBlock=t,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const a=this.ecBlocks;for(const i of a)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class L{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ue{constructor(t,a,...i){this.versionNumber=t,this.alignmentPatternCenters=a,this.ecBlocks=i;let s=0;const o=i[0].getECCodewordsPerBlock(),f=i[0].getECBlocks();for(const g of f)s+=g.getCount()*(g.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new le;try{return this.getVersionForNumber((t-17)/4)}catch{throw new le}}static getVersionForNumber(t){if(t<1||t>40)throw new _;return Ue.VERSIONS[t-1]}static decodeVersionInformation(t){let a=Number.MAX_SAFE_INTEGER,i=0;for(let s=0;s<Ue.VERSION_DECODE_INFO.length;s++){const o=Ue.VERSION_DECODE_INFO[s];if(o===t)return Ue.getVersionForNumber(s+7);const f=fn.numBitsDiffering(t,o);f<a&&(i=s+7,a=f)}return a<=3?Ue.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),a=new st(t);a.setRegion(0,0,9,9),a.setRegion(t-8,0,8,9),a.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let s=0;s<i;s++){const o=this.alignmentPatternCenters[s]-2;for(let f=0;f<i;f++)s===0&&(f===0||f===i-1)||s===i-1&&f===0||a.setRegion(this.alignmentPatternCenters[f]-2,o,5,5)}return a.setRegion(6,9,1,t-17),a.setRegion(9,6,t-17,1),this.versionNumber>6&&(a.setRegion(t-11,0,3,6),a.setRegion(0,t-11,6,3)),a}toString(){return""+this.versionNumber}}Ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ue.VERSIONS=[new Ue(1,new Int32Array(0),new J(7,new L(1,19)),new J(10,new L(1,16)),new J(13,new L(1,13)),new J(17,new L(1,9))),new Ue(2,Int32Array.from([6,18]),new J(10,new L(1,34)),new J(16,new L(1,28)),new J(22,new L(1,22)),new J(28,new L(1,16))),new Ue(3,Int32Array.from([6,22]),new J(15,new L(1,55)),new J(26,new L(1,44)),new J(18,new L(2,17)),new J(22,new L(2,13))),new Ue(4,Int32Array.from([6,26]),new J(20,new L(1,80)),new J(18,new L(2,32)),new J(26,new L(2,24)),new J(16,new L(4,9))),new Ue(5,Int32Array.from([6,30]),new J(26,new L(1,108)),new J(24,new L(2,43)),new J(18,new L(2,15),new L(2,16)),new J(22,new L(2,11),new L(2,12))),new Ue(6,Int32Array.from([6,34]),new J(18,new L(2,68)),new J(16,new L(4,27)),new J(24,new L(4,19)),new J(28,new L(4,15))),new Ue(7,Int32Array.from([6,22,38]),new J(20,new L(2,78)),new J(18,new L(4,31)),new J(18,new L(2,14),new L(4,15)),new J(26,new L(4,13),new L(1,14))),new Ue(8,Int32Array.from([6,24,42]),new J(24,new L(2,97)),new J(22,new L(2,38),new L(2,39)),new J(22,new L(4,18),new L(2,19)),new J(26,new L(4,14),new L(2,15))),new Ue(9,Int32Array.from([6,26,46]),new J(30,new L(2,116)),new J(22,new L(3,36),new L(2,37)),new J(20,new L(4,16),new L(4,17)),new J(24,new L(4,12),new L(4,13))),new Ue(10,Int32Array.from([6,28,50]),new J(18,new L(2,68),new L(2,69)),new J(26,new L(4,43),new L(1,44)),new J(24,new L(6,19),new L(2,20)),new J(28,new L(6,15),new L(2,16))),new Ue(11,Int32Array.from([6,30,54]),new J(20,new L(4,81)),new J(30,new L(1,50),new L(4,51)),new J(28,new L(4,22),new L(4,23)),new J(24,new L(3,12),new L(8,13))),new Ue(12,Int32Array.from([6,32,58]),new J(24,new L(2,92),new L(2,93)),new J(22,new L(6,36),new L(2,37)),new J(26,new L(4,20),new L(6,21)),new J(28,new L(7,14),new L(4,15))),new Ue(13,Int32Array.from([6,34,62]),new J(26,new L(4,107)),new J(22,new L(8,37),new L(1,38)),new J(24,new L(8,20),new L(4,21)),new J(22,new L(12,11),new L(4,12))),new Ue(14,Int32Array.from([6,26,46,66]),new J(30,new L(3,115),new L(1,116)),new J(24,new L(4,40),new L(5,41)),new J(20,new L(11,16),new L(5,17)),new J(24,new L(11,12),new L(5,13))),new Ue(15,Int32Array.from([6,26,48,70]),new J(22,new L(5,87),new L(1,88)),new J(24,new L(5,41),new L(5,42)),new J(30,new L(5,24),new L(7,25)),new J(24,new L(11,12),new L(7,13))),new Ue(16,Int32Array.from([6,26,50,74]),new J(24,new L(5,98),new L(1,99)),new J(28,new L(7,45),new L(3,46)),new J(24,new L(15,19),new L(2,20)),new J(30,new L(3,15),new L(13,16))),new Ue(17,Int32Array.from([6,30,54,78]),new J(28,new L(1,107),new L(5,108)),new J(28,new L(10,46),new L(1,47)),new J(28,new L(1,22),new L(15,23)),new J(28,new L(2,14),new L(17,15))),new Ue(18,Int32Array.from([6,30,56,82]),new J(30,new L(5,120),new L(1,121)),new J(26,new L(9,43),new L(4,44)),new J(28,new L(17,22),new L(1,23)),new J(28,new L(2,14),new L(19,15))),new Ue(19,Int32Array.from([6,30,58,86]),new J(28,new L(3,113),new L(4,114)),new J(26,new L(3,44),new L(11,45)),new J(26,new L(17,21),new L(4,22)),new J(26,new L(9,13),new L(16,14))),new Ue(20,Int32Array.from([6,34,62,90]),new J(28,new L(3,107),new L(5,108)),new J(26,new L(3,41),new L(13,42)),new J(30,new L(15,24),new L(5,25)),new J(28,new L(15,15),new L(10,16))),new Ue(21,Int32Array.from([6,28,50,72,94]),new J(28,new L(4,116),new L(4,117)),new J(26,new L(17,42)),new J(28,new L(17,22),new L(6,23)),new J(30,new L(19,16),new L(6,17))),new Ue(22,Int32Array.from([6,26,50,74,98]),new J(28,new L(2,111),new L(7,112)),new J(28,new L(17,46)),new J(30,new L(7,24),new L(16,25)),new J(24,new L(34,13))),new Ue(23,Int32Array.from([6,30,54,78,102]),new J(30,new L(4,121),new L(5,122)),new J(28,new L(4,47),new L(14,48)),new J(30,new L(11,24),new L(14,25)),new J(30,new L(16,15),new L(14,16))),new Ue(24,Int32Array.from([6,28,54,80,106]),new J(30,new L(6,117),new L(4,118)),new J(28,new L(6,45),new L(14,46)),new J(30,new L(11,24),new L(16,25)),new J(30,new L(30,16),new L(2,17))),new Ue(25,Int32Array.from([6,32,58,84,110]),new J(26,new L(8,106),new L(4,107)),new J(28,new L(8,47),new L(13,48)),new J(30,new L(7,24),new L(22,25)),new J(30,new L(22,15),new L(13,16))),new Ue(26,Int32Array.from([6,30,58,86,114]),new J(28,new L(10,114),new L(2,115)),new J(28,new L(19,46),new L(4,47)),new J(28,new L(28,22),new L(6,23)),new J(30,new L(33,16),new L(4,17))),new Ue(27,Int32Array.from([6,34,62,90,118]),new J(30,new L(8,122),new L(4,123)),new J(28,new L(22,45),new L(3,46)),new J(30,new L(8,23),new L(26,24)),new J(30,new L(12,15),new L(28,16))),new Ue(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new L(3,117),new L(10,118)),new J(28,new L(3,45),new L(23,46)),new J(30,new L(4,24),new L(31,25)),new J(30,new L(11,15),new L(31,16))),new Ue(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new L(7,116),new L(7,117)),new J(28,new L(21,45),new L(7,46)),new J(30,new L(1,23),new L(37,24)),new J(30,new L(19,15),new L(26,16))),new Ue(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new L(5,115),new L(10,116)),new J(28,new L(19,47),new L(10,48)),new J(30,new L(15,24),new L(25,25)),new J(30,new L(23,15),new L(25,16))),new Ue(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new L(13,115),new L(3,116)),new J(28,new L(2,46),new L(29,47)),new J(30,new L(42,24),new L(1,25)),new J(30,new L(23,15),new L(28,16))),new Ue(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new L(17,115)),new J(28,new L(10,46),new L(23,47)),new J(30,new L(10,24),new L(35,25)),new J(30,new L(19,15),new L(35,16))),new Ue(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new L(17,115),new L(1,116)),new J(28,new L(14,46),new L(21,47)),new J(30,new L(29,24),new L(19,25)),new J(30,new L(11,15),new L(46,16))),new Ue(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new L(13,115),new L(6,116)),new J(28,new L(14,46),new L(23,47)),new J(30,new L(44,24),new L(7,25)),new J(30,new L(59,16),new L(1,17))),new Ue(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new L(12,121),new L(7,122)),new J(28,new L(12,47),new L(26,48)),new J(30,new L(39,24),new L(14,25)),new J(30,new L(22,15),new L(41,16))),new Ue(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new L(6,121),new L(14,122)),new J(28,new L(6,47),new L(34,48)),new J(30,new L(46,24),new L(10,25)),new J(30,new L(2,15),new L(64,16))),new Ue(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new L(17,122),new L(4,123)),new J(28,new L(29,46),new L(14,47)),new J(30,new L(49,24),new L(10,25)),new J(30,new L(24,15),new L(46,16))),new Ue(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new L(4,122),new L(18,123)),new J(28,new L(13,46),new L(32,47)),new J(30,new L(48,24),new L(14,25)),new J(30,new L(42,15),new L(32,16))),new Ue(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new L(20,117),new L(4,118)),new J(28,new L(40,47),new L(7,48)),new J(30,new L(43,24),new L(22,25)),new J(30,new L(10,15),new L(67,16))),new Ue(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new L(19,118),new L(6,119)),new J(28,new L(18,47),new L(31,48)),new J(30,new L(34,24),new L(34,25)),new J(30,new L(20,15),new L(61,16)))];var on;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class Vn{constructor(t,a){this.value=t,this.isMasked=a}unmaskBitMatrix(t,a){for(let i=0;i<a;i++)for(let s=0;s<a;s++)this.isMasked(i,s)&&t.flip(s,i)}}Vn.values=new Map([[on.DATA_MASK_000,new Vn(on.DATA_MASK_000,(N,t)=>(N+t&1)===0)],[on.DATA_MASK_001,new Vn(on.DATA_MASK_001,(N,t)=>(N&1)===0)],[on.DATA_MASK_010,new Vn(on.DATA_MASK_010,(N,t)=>t%3===0)],[on.DATA_MASK_011,new Vn(on.DATA_MASK_011,(N,t)=>(N+t)%3===0)],[on.DATA_MASK_100,new Vn(on.DATA_MASK_100,(N,t)=>(Math.floor(N/2)+Math.floor(t/3)&1)===0)],[on.DATA_MASK_101,new Vn(on.DATA_MASK_101,(N,t)=>N*t%6===0)],[on.DATA_MASK_110,new Vn(on.DATA_MASK_110,(N,t)=>N*t%6<3)],[on.DATA_MASK_111,new Vn(on.DATA_MASK_111,(N,t)=>(N+t+N*t%3&1)===0)]]);class _i{constructor(t){const a=t.getHeight();if(a<21||(a&3)!==1)throw new le;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let o=0;o<6;o++)t=this.copyBit(o,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let o=5;o>=0;o--)t=this.copyBit(8,o,t);const a=this.bitMatrix.getHeight();let i=0;const s=a-7;for(let o=a-1;o>=s;o--)i=this.copyBit(8,o,i);for(let o=a-8;o<a;o++)i=this.copyBit(o,8,i);if(this.parsedFormatInfo=fn.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new le}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),a=Math.floor((t-17)/4);if(a<=6)return Ue.getVersionForNumber(a);let i=0;const s=t-11;for(let f=5;f>=0;f--)for(let g=t-9;g>=s;g--)i=this.copyBit(g,f,i);let o=Ue.decodeVersionInformation(i);if(o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;i=0;for(let f=5;f>=0;f--)for(let g=t-9;g>=s;g--)i=this.copyBit(f,g,i);if(o=Ue.decodeVersionInformation(i),o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;throw new le}copyBit(t,a,i){return(this.isMirror?this.bitMatrix.get(a,t):this.bitMatrix.get(t,a))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),a=this.readVersion(),i=Vn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s);const o=a.buildFunctionPattern();let f=!0;const g=new Uint8Array(a.getTotalCodewords());let y=0,A=0,C=0;for(let O=s-1;O>0;O-=2){O===6&&O--;for(let I=0;I<s;I++){const k=f?s-1-I:I;for(let z=0;z<2;z++)o.get(O-z,k)||(C++,A<<=1,this.bitMatrix.get(O-z,k)&&(A|=1),C===8&&(g[y++]=A,C=0,A=0))}f=!f}if(y!==a.getTotalCodewords())throw new le;return g}remask(){if(this.parsedFormatInfo===null)return;const t=Vn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,a)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let a=0,i=t.getWidth();a<i;a++)for(let s=a+1,o=t.getHeight();s<o;s++)t.get(a,s)!==t.get(s,a)&&(t.flip(s,a),t.flip(a,s))}}class Ys{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a,i){if(t.length!==a.getTotalCodewords())throw new _;const s=a.getECBlocksForLevel(i);let o=0;const f=s.getECBlocks();for(const z of f)o+=z.getCount();const g=new Array(o);let y=0;for(const z of f)for(let H=0;H<z.getCount();H++){const W=z.getDataCodewords(),se=s.getECCodewordsPerBlock()+W;g[y++]=new Ys(W,new Uint8Array(se))}const A=g[0].codewords.length;let C=g.length-1;for(;C>=0&&g[C].codewords.length!==A;)C--;C++;const O=A-s.getECCodewordsPerBlock();let I=0;for(let z=0;z<O;z++)for(let H=0;H<y;H++)g[H].codewords[z]=t[I++];for(let z=C;z<y;z++)g[z].codewords[O]=t[I++];const k=g[0].codewords.length;for(let z=O;z<k;z++)for(let H=0;H<y;H++){const W=H<C?z:z+1;g[H].codewords[W]=t[I++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Gn;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(Gn||(Gn={}));class He{constructor(t,a,i,s){this.value=t,this.stringValue=a,this.characterCountBitsForVersions=i,this.bits=s,He.FOR_BITS.set(s,this),He.FOR_VALUE.set(t,this)}static forBits(t){const a=He.FOR_BITS.get(t);if(a===void 0)throw new _;return a}getCharacterCountBits(t){const a=t.getVersionNumber();let i;return a<=9?i=0:a<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof He))return!1;const a=t;return this.value===a.value}toString(){return this.stringValue}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.TERMINATOR=new He(Gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),He.NUMERIC=new He(Gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),He.ALPHANUMERIC=new He(Gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),He.STRUCTURED_APPEND=new He(Gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),He.BYTE=new He(Gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),He.ECI=new He(Gn.ECI,"ECI",Int32Array.from([0,0,0]),7),He.KANJI=new He(Gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),He.FNC1_FIRST_POSITION=new He(Gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),He.FNC1_SECOND_POSITION=new He(Gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),He.HANZI=new He(Gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(t,a,i,s){const o=new ea(t);let f=new Pe;const g=new Array;let y=-1,A=-1;try{let C=null,O=!1,I;do{if(o.available()<4)I=He.TERMINATOR;else{const k=o.readBits(4);I=He.forBits(k)}switch(I){case He.TERMINATOR:break;case He.FNC1_FIRST_POSITION:case He.FNC1_SECOND_POSITION:O=!0;break;case He.STRUCTURED_APPEND:if(o.available()<16)throw new le;y=o.readBits(8),A=o.readBits(8);break;case He.ECI:const k=Ut.parseECIValue(o);if(C=q.getCharacterSetECIByValue(k),C===null)throw new le;break;case He.HANZI:const z=o.readBits(4),H=o.readBits(I.getCharacterCountBits(a));z===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(o,f,H);break;default:const W=o.readBits(I.getCharacterCountBits(a));switch(I){case He.NUMERIC:Ut.decodeNumericSegment(o,f,W);break;case He.ALPHANUMERIC:Ut.decodeAlphanumericSegment(o,f,W,O);break;case He.BYTE:Ut.decodeByteSegment(o,f,W,C,g,s);break;case He.KANJI:Ut.decodeKanjiSegment(o,f,W);break;default:throw new le}break}}while(I!==He.TERMINATOR)}catch{throw new le}return new Ge(t,f.toString(),g.length===0?null:g,i===null?null:i.toString(),y,A)}static decodeHanziSegment(t,a,i){if(i*13>t.available())throw new le;const s=new Uint8Array(2*i);let o=0;for(;i>0;){const f=t.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,s[o]=g>>8&255,s[o+1]=g&255,o+=2,i--}try{a.append(je.decode(s,ve.GB2312))}catch(f){throw new le(f)}}static decodeKanjiSegment(t,a,i){if(i*13>t.available())throw new le;const s=new Uint8Array(2*i);let o=0;for(;i>0;){const f=t.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,s[o]=g>>8,s[o+1]=g,o+=2,i--}try{a.append(je.decode(s,ve.SHIFT_JIS))}catch(f){throw new le(f)}}static decodeByteSegment(t,a,i,s,o,f){if(8*i>t.available())throw new le;const g=new Uint8Array(i);for(let A=0;A<i;A++)g[A]=t.readBits(8);let y;s===null?y=ve.guessEncoding(g,f):y=s.getName();try{a.append(je.decode(g,y))}catch(A){throw new le(A)}o.push(g)}static toAlphaNumericChar(t){if(t>=Ut.ALPHANUMERIC_CHARS.length)throw new le;return Ut.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,a,i,s){const o=a.length();for(;i>1;){if(t.available()<11)throw new le;const f=t.readBits(11);a.append(Ut.toAlphaNumericChar(Math.floor(f/45))),a.append(Ut.toAlphaNumericChar(f%45)),i-=2}if(i===1){if(t.available()<6)throw new le;a.append(Ut.toAlphaNumericChar(t.readBits(6)))}if(s)for(let f=o;f<a.length();f++)a.charAt(f)==="%"&&(f<a.length()-1&&a.charAt(f+1)==="%"?a.deleteCharAt(f+1):a.setCharAt(f,""))}static decodeNumericSegment(t,a,i){for(;i>=3;){if(t.available()<10)throw new le;const s=t.readBits(10);if(s>=1e3)throw new le;a.append(Ut.toAlphaNumericChar(Math.floor(s/100))),a.append(Ut.toAlphaNumericChar(Math.floor(s/10)%10)),a.append(Ut.toAlphaNumericChar(s%10)),i-=3}if(i===2){if(t.available()<7)throw new le;const s=t.readBits(7);if(s>=100)throw new le;a.append(Ut.toAlphaNumericChar(Math.floor(s/10))),a.append(Ut.toAlphaNumericChar(s%10))}else if(i===1){if(t.available()<4)throw new le;const s=t.readBits(4);if(s>=10)throw new le;a.append(Ut.toAlphaNumericChar(s))}}static parseECIValue(t){const a=t.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const i=t.readBits(8);return(a&63)<<8&4294967295|i}if((a&224)===192){const i=t.readBits(16);return(a&31)<<16&4294967295|i}throw new le}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class Qo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const a=t[0];t[0]=t[2],t[2]=a}}class Au{constructor(){this.rsDecoder=new Yt(ze.QR_CODE_FIELD_256)}decodeBooleanArray(t,a){return this.decodeBitMatrix(st.parseFromBooleanArray(t),a)}decodeBitMatrix(t,a){const i=new _i(t);let s=null;try{return this.decodeBitMatrixParser(i,a)}catch(o){s=o}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const o=this.decodeBitMatrixParser(i,a);return o.setOther(new Qo(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(t,a){const i=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),o=t.readCodewords(),f=Ys.getDataBlocks(o,i,s);let g=0;for(const C of f)g+=C.getNumDataCodewords();const y=new Uint8Array(g);let A=0;for(const C of f){const O=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(O,I);for(let k=0;k<I;k++)y[A++]=O[k]}return Ut.decode(y,i,s,a)}correctErrors(t,a){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-a)}catch{throw new F}for(let s=0;s<a;s++)t[s]=i[s]}}class Li extends _e{constructor(t,a,i){super(t,a),this.estimatedModuleSize=i}aboutEquals(t,a,i){if(Math.abs(a-this.getY())<=t&&Math.abs(i-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,a,i){const s=(this.getX()+a)/2,o=(this.getY()+t)/2,f=(this.estimatedModuleSize+i)/2;return new Li(s,o,f)}}class Bi{constructor(t,a,i,s,o,f,g){this.image=t,this.startX=a,this.startY=i,this.width=s,this.height=o,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,a=this.height,i=this.width,s=t+i,o=this.startY+a/2,f=new Int32Array(3),g=this.image;for(let y=0;y<a;y++){const A=o+((y&1)===0?Math.floor((y+1)/2):-Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=t;for(;C<s&&!g.get(C,A);)C++;let O=0;for(;C<s;){if(g.get(C,A))if(O===1)f[1]++;else if(O===2){if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,A,C);if(I!==null)return I}f[0]=f[2],f[1]=1,f[2]=0,O=1}else f[++O]++;else O===1&&O++,f[O]++;C++}if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,A,s);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(t,a){return a-t[2]-t[1]/2}foundPatternCross(t){const a=this.moduleSize,i=a/2;for(let s=0;s<3;s++)if(Math.abs(a-t[s])>=i)return!1;return!0}crossCheckVertical(t,a,i,s){const o=this.image,f=o.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=t;for(;y>=0&&o.get(a,y)&&g[1]<=i;)g[1]++,y--;if(y<0||g[1]>i)return NaN;for(;y>=0&&!o.get(a,y)&&g[0]<=i;)g[0]++,y--;if(g[0]>i)return NaN;for(y=t+1;y<f&&o.get(a,y)&&g[1]<=i;)g[1]++,y++;if(y===f||g[1]>i)return NaN;for(;y<f&&!o.get(a,y)&&g[2]<=i;)g[2]++,y++;if(g[2]>i)return NaN;const A=g[0]+g[1]+g[2];return 5*Math.abs(A-s)>=2*s?NaN:this.foundPatternCross(g)?Bi.centerFromEnd(g,y):NaN}handlePossibleCenter(t,a,i){const s=t[0]+t[1]+t[2],o=Bi.centerFromEnd(t,i),f=this.crossCheckVertical(a,o,2*t[1],s);if(!isNaN(f)){const g=(t[0]+t[1]+t[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(g,f,o))return A.combineEstimate(f,o,g);const y=new Li(o,f,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class br extends _e{constructor(t,a,i,s){super(t,a),this.estimatedModuleSize=i,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,a,i){if(Math.abs(a-this.getY())<=t&&Math.abs(i-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,a,i){const s=this.count+1,o=(this.count*this.getX()+a)/s,f=(this.count*this.getY()+t)/s,g=(this.count*this.estimatedModuleSize+i)/s;return new br(o,f,g,s)}}class ki{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Vt{constructor(t,a){this.image=t,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const a=t!=null&&t.get(we.TRY_HARDER)!==void 0,i=t!=null&&t.get(we.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),f=s.getWidth();let g=Math.floor(3*o/(4*Vt.MAX_MODULES));(g<Vt.MIN_SKIP||a)&&(g=Vt.MIN_SKIP);let y=!1;const A=new Int32Array(5);for(let O=g-1;O<o&&!y;O+=g){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let I=0;for(let k=0;k<f;k++)if(s.get(k,O))(I&1)===1&&I++,A[I]++;else if((I&1)===0)if(I===4)if(Vt.foundPatternCross(A)){if(this.handlePossibleCenter(A,O,k,i)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const H=this.findRowSkip();H>A[2]&&(O+=H-A[2]-g,k=f-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,I=3;continue}I=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,I=3;else A[++I]++;else A[I]++;Vt.foundPatternCross(A)&&this.handlePossibleCenter(A,O,f,i)===!0&&(g=A[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return _e.orderBestPatterns(C),new ki(C)}static centerFromEnd(t,a){return a-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let a=0;for(let o=0;o<5;o++){const f=t[o];if(f===0)return!1;a+=f}if(a<7)return!1;const i=a/7,s=i/2;return Math.abs(i-t[0])<s&&Math.abs(i-t[1])<s&&Math.abs(3*i-t[2])<3*s&&Math.abs(i-t[3])<s&&Math.abs(i-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,a,i,s){const o=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;t>=f&&a>=f&&g.get(a-f,t-f);)o[2]++,f++;if(t<f||a<f)return!1;for(;t>=f&&a>=f&&!g.get(a-f,t-f)&&o[1]<=i;)o[1]++,f++;if(t<f||a<f||o[1]>i)return!1;for(;t>=f&&a>=f&&g.get(a-f,t-f)&&o[0]<=i;)o[0]++,f++;if(o[0]>i)return!1;const y=g.getHeight(),A=g.getWidth();for(f=1;t+f<y&&a+f<A&&g.get(a+f,t+f);)o[2]++,f++;if(t+f>=y||a+f>=A)return!1;for(;t+f<y&&a+f<A&&!g.get(a+f,t+f)&&o[3]<i;)o[3]++,f++;if(t+f>=y||a+f>=A||o[3]>=i)return!1;for(;t+f<y&&a+f<A&&g.get(a+f,t+f)&&o[4]<i;)o[4]++,f++;if(o[4]>=i)return!1;const C=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(C-s)<2*s&&Vt.foundPatternCross(o)}crossCheckVertical(t,a,i,s){const o=this.image,f=o.getHeight(),g=this.getCrossCheckStateCount();let y=t;for(;y>=0&&o.get(a,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!o.get(a,y)&&g[1]<=i;)g[1]++,y--;if(y<0||g[1]>i)return NaN;for(;y>=0&&o.get(a,y)&&g[0]<=i;)g[0]++,y--;if(g[0]>i)return NaN;for(y=t+1;y<f&&o.get(a,y);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!o.get(a,y)&&g[3]<i;)g[3]++,y++;if(y===f||g[3]>=i)return NaN;for(;y<f&&o.get(a,y)&&g[4]<i;)g[4]++,y++;if(g[4]>=i)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-s)>=2*s?NaN:Vt.foundPatternCross(g)?Vt.centerFromEnd(g,y):NaN}crossCheckHorizontal(t,a,i,s){const o=this.image,f=o.getWidth(),g=this.getCrossCheckStateCount();let y=t;for(;y>=0&&o.get(y,a);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!o.get(y,a)&&g[1]<=i;)g[1]++,y--;if(y<0||g[1]>i)return NaN;for(;y>=0&&o.get(y,a)&&g[0]<=i;)g[0]++,y--;if(g[0]>i)return NaN;for(y=t+1;y<f&&o.get(y,a);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!o.get(y,a)&&g[3]<i;)g[3]++,y++;if(y===f||g[3]>=i)return NaN;for(;y<f&&o.get(y,a)&&g[4]<i;)g[4]++,y++;if(g[4]>=i)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-s)>=s?NaN:Vt.foundPatternCross(g)?Vt.centerFromEnd(g,y):NaN}handlePossibleCenter(t,a,i,s){const o=t[0]+t[1]+t[2]+t[3]+t[4];let f=Vt.centerFromEnd(t,i),g=this.crossCheckVertical(a,Math.floor(f),t[2],o);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),t[2],o),!isNaN(f)&&(!s||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),t[2],o)))){const y=o/7;let A=!1;const C=this.possibleCenters;for(let O=0,I=C.length;O<I;O++){const k=C[O];if(k.aboutEquals(y,g,f)){C[O]=k.combineEstimate(g,f,y),A=!0;break}}if(!A){const O=new br(f,g,y);C.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const i of this.possibleCenters)if(i.getCount()>=Vt.CENTER_QUORUM)if(a==null)a=i;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-i.getX())-Math.abs(a.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,a=0;const i=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Vt.CENTER_QUORUM&&(t++,a+=f.getEstimatedModuleSize());if(t<3)return!1;const s=a/i;let o=0;for(const f of this.possibleCenters)o+=Math.abs(f.getEstimatedModuleSize()-s);return o<=.05*a}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new $;const a=this.possibleCenters;let i;if(t>3){let s=0,o=0;for(const y of this.possibleCenters){const A=y.getEstimatedModuleSize();s+=A,o+=A*A}i=s/t;let f=Math.sqrt(o/t-i*i);a.sort((y,A)=>{const C=Math.abs(A.getEstimatedModuleSize()-i),O=Math.abs(y.getEstimatedModuleSize()-i);return C<O?-1:C>O?1:0});const g=Math.max(.2*i,f);for(let y=0;y<a.length&&a.length>3;y++){const A=a[y];Math.abs(A.getEstimatedModuleSize()-i)>g&&(a.splice(y,1),y--)}}if(a.length>3){let s=0;for(const o of a)s+=o.getEstimatedModuleSize();i=s/a.length,a.sort((o,f)=>{if(f.getCount()===o.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-i),y=Math.abs(o.getEstimatedModuleSize()-i);return g<y?1:g>y?-1:0}else return f.getCount()-o.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Vt.CENTER_QUORUM=2,Vt.MIN_SKIP=3,Vt.MAX_MODULES=57;class Ui{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(we.NEED_RESULT_POINT_CALLBACK);const i=new Vt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const a=t.getTopLeft(),i=t.getTopRight(),s=t.getBottomLeft(),o=this.calculateModuleSize(a,i,s);if(o<1)throw new $("No pattern found in proccess finder.");const f=Ui.computeDimension(a,i,s,o),g=Ue.getProvisionalVersionForDimension(f),y=g.getDimensionForVersion()-7;let A=null;if(g.getAlignmentPatternCenters().length>0){const k=i.getX()-a.getX()+s.getX(),z=i.getY()-a.getY()+s.getY(),H=1-3/y,W=Math.floor(a.getX()+H*(k-a.getX())),se=Math.floor(a.getY()+H*(z-a.getY()));for(let Ae=4;Ae<=16;Ae<<=1)try{A=this.findAlignmentInRegion(o,W,se,Ae);break}catch(be){if(!(be instanceof $))throw be}}const C=Ui.createTransform(a,i,s,A,f),O=Ui.sampleGrid(this.image,C,f);let I;return A===null?I=[s,a,i]:I=[s,a,i,A],new Ni(O,I)}static createTransform(t,a,i,s,o){const f=o-3.5;let g,y,A,C;return s!==null?(g=s.getX(),y=s.getY(),A=f-3,C=A):(g=a.getX()-t.getX()+i.getX(),y=a.getY()-t.getY()+i.getY(),A=f,C=f),On.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,A,C,3.5,f,t.getX(),t.getY(),a.getX(),a.getY(),g,y,i.getX(),i.getY())}static sampleGrid(t,a,i){return Hn.getInstance().sampleGridWithTransform(t,i,i,a)}static computeDimension(t,a,i,s){const o=$e.round(_e.distance(t,a)/s),f=$e.round(_e.distance(t,i)/s);let g=Math.floor((o+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new $("Dimensions could be not found.")}return g}calculateModuleSize(t,a,i){return(this.calculateModuleSizeOneWay(t,a)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,a){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(a.getX()),Math.floor(a.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?s/7:isNaN(s)?i/7:(i+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,a,i,s){let o=this.sizeOfBlackWhiteBlackRun(t,a,i,s),f=1,g=t-(i-t);g<0?(f=t/(t-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let y=Math.floor(a-(s-a)*f);return f=1,y<0?(f=a/(a-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-a)/(y-a),y=this.image.getHeight()-1),g=Math.floor(t+(g-t)*f),o+=this.sizeOfBlackWhiteBlackRun(t,a,g,y),o-1}sizeOfBlackWhiteBlackRun(t,a,i,s){const o=Math.abs(s-a)>Math.abs(i-t);if(o){let k=t;t=a,a=k,k=i,i=s,s=k}const f=Math.abs(i-t),g=Math.abs(s-a);let y=-f/2;const A=t<i?1:-1,C=a<s?1:-1;let O=0;const I=i+A;for(let k=t,z=a;k!==I;k+=A){const H=o?z:k,W=o?k:z;if(O===1===this.image.get(H,W)){if(O===2)return $e.distance(k,z,t,a);O++}if(y+=g,y>0){if(z===s)break;z+=C,y-=f}}return O===2?$e.distance(i+A,s,t,a):NaN}findAlignmentInRegion(t,a,i,s){const o=Math.floor(s*t),f=Math.max(0,a-o),g=Math.min(this.image.getWidth()-1,a+o);if(g-f<t*3)throw new $("Alignment top exceeds estimated module size.");const y=Math.max(0,i-o),A=Math.min(this.image.getHeight()-1,i+o);if(A-y<t*3)throw new $("Alignment bottom exceeds estimated module size.");return new Bi(this.image,f,y,g-f,A-y,t,this.resultPointCallback).find()}}class ca{constructor(){this.decoder=new Au}getDecoder(){return this.decoder}decode(t,a){let i,s;if(a!=null&&a.get(we.PURE_BARCODE)!==void 0){const y=ca.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(y,a),s=ca.NO_POINTS}else{const y=new Ui(t.getBlackMatrix()).detect(a);i=this.decoder.decodeBitMatrix(y.getBits(),a),s=y.getPoints()}i.getOther()instanceof Qo&&i.getOther().applyMirroredCorrection(s);const o=new ue(i.getText(),i.getRawBytes(),void 0,s,oe.QR_CODE,void 0),f=i.getByteSegments();f!==null&&o.putMetadata(Ne.BYTE_SEGMENTS,f);const g=i.getECLevel();return g!==null&&o.putMetadata(Ne.ERROR_CORRECTION_LEVEL,g),i.hasStructuredAppend()&&(o.putMetadata(Ne.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),o.putMetadata(Ne.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),o}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(a===null||i===null)throw new $;const s=this.moduleSize(a,t);let o=a[1],f=i[1],g=a[0],y=i[0];if(g>=y||o>=f)throw new $;if(f-o!==y-g&&(y=g+(f-o),y>=t.getWidth()))throw new $;const A=Math.round((y-g+1)/s),C=Math.round((f-o+1)/s);if(A<=0||C<=0)throw new $;if(C!==A)throw new $;const O=Math.floor(s/2);o+=O,g+=O;const I=g+Math.floor((A-1)*s)-y;if(I>0){if(I>O)throw new $;g-=I}const k=o+Math.floor((C-1)*s)-f;if(k>0){if(k>O)throw new $;o-=k}const z=new st(A,C);for(let H=0;H<C;H++){const W=o+Math.floor(H*s);for(let se=0;se<A;se++)t.get(g+Math.floor(se*s),W)&&z.set(se,H)}return z}static moduleSize(t,a){const i=a.getHeight(),s=a.getWidth();let o=t[0],f=t[1],g=!0,y=0;for(;o<s&&f<i;){if(g!==a.get(o,f)){if(++y===5)break;g=!g}o++,f++}if(o===s||f===i)throw new $;return(o-t[0])/7}}ca.NO_POINTS=new Array;class qe{PDF417Common(){}static getBitCountSum(t){return $e.sum(t)}static toIntArray(t){if(t==null||!t.length)return qe.EMPTY_INT_ARRAY;const a=new Int32Array(t.length);let i=0;for(const s of t)a[i++]=s;return a}static getCodeword(t){const a=ie.binarySearch(qe.SYMBOL_TABLE,t&262143);return a<0?-1:(qe.CODEWORD_TABLE[a]-1)%qe.NUMBER_OF_CODEWORDS}}qe.NUMBER_OF_CODEWORDS=929,qe.MAX_CODEWORDS_IN_BARCODE=qe.NUMBER_OF_CODEWORDS-1,qe.MIN_ROWS_IN_BARCODE=3,qe.MAX_ROWS_IN_BARCODE=90,qe.MODULES_IN_CODEWORD=17,qe.MODULES_IN_STOP_PATTERN=18,qe.BARS_IN_MODULE=8,qe.EMPTY_INT_ARRAY=new Int32Array([]),qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Cr{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class et{static detectMultiple(t,a,i){let s=t.getBlackMatrix(),o=et.detect(i,s);return o.length||(s=s.clone(),s.rotate180(),o=et.detect(i,s)),new Cr(s,o)}static detect(t,a){const i=new Array;let s=0,o=0,f=!1;for(;s<a.getHeight();){const g=et.findVertices(a,s,o);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,o=0;for(const y of i)y[1]!=null&&(s=Math.trunc(Math.max(s,y[1].getY()))),y[3]!=null&&(s=Math.max(s,Math.trunc(y[3].getY())));s+=et.ROW_STEP;continue}if(f=!0,i.push(g),!t)break;g[2]!=null?(o=Math.trunc(g[2].getX()),s=Math.trunc(g[2].getY())):(o=Math.trunc(g[4].getX()),s=Math.trunc(g[4].getY()))}return i}static findVertices(t,a,i){const s=t.getHeight(),o=t.getWidth(),f=new Array(8);return et.copyToResult(f,et.findRowsWithPattern(t,s,o,a,i,et.START_PATTERN),et.INDEXES_START_PATTERN),f[4]!=null&&(i=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY())),et.copyToResult(f,et.findRowsWithPattern(t,s,o,a,i,et.STOP_PATTERN),et.INDEXES_STOP_PATTERN),f}static copyToResult(t,a,i){for(let s=0;s<i.length;s++)t[i[s]]=a[s]}static findRowsWithPattern(t,a,i,s,o,f){const g=new Array(4);let y=!1;const A=new Int32Array(f.length);for(;s<a;s+=et.ROW_STEP){let O=et.findGuardPattern(t,o,s,i,!1,f,A);if(O!=null){for(;s>0;){const I=et.findGuardPattern(t,o,--s,i,!1,f,A);if(I!=null)O=I;else{s++;break}}g[0]=new _e(O[0],s),g[1]=new _e(O[1],s),y=!0;break}}let C=s+1;if(y){let O=0,I=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;C<a;C++){const k=et.findGuardPattern(t,I[0],C,i,!1,f,A);if(k!=null&&Math.abs(I[0]-k[0])<et.MAX_PATTERN_DRIFT&&Math.abs(I[1]-k[1])<et.MAX_PATTERN_DRIFT)I=k,O=0;else{if(O>et.SKIPPED_ROW_COUNT_MAX)break;O++}}C-=O+1,g[2]=new _e(I[0],C),g[3]=new _e(I[1],C)}return C-s<et.BARCODE_MIN_HEIGHT&&ie.fill(g,null),g}static findGuardPattern(t,a,i,s,o,f,g){ie.fillWithin(g,0,g.length,0);let y=a,A=0;for(;t.get(y,i)&&y>0&&A++<et.MAX_PIXEL_DRIFT;)y--;let C=y,O=0,I=f.length;for(let k=o;C<s;C++)if(t.get(C,i)!==k)g[O]++;else{if(O===I-1){if(et.patternMatchVariance(g,f,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return new Int32Array([y,C]);y+=g[0]+g[1],Q.arraycopy(g,2,g,0,O-1),g[O-1]=0,g[O]=0,O--}else O++;g[O]=1,k=!k}return O===I-1&&et.patternMatchVariance(g,f,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE?new Int32Array([y,C-1]):null}static patternMatchVariance(t,a,i){let s=t.length,o=0,f=0;for(let A=0;A<s;A++)o+=t[A],f+=a[A];if(o<f)return 1/0;let g=o/f;i*=g;let y=0;for(let A=0;A<s;A++){let C=t[A],O=a[A]*g,I=C>O?C-O:O-C;if(I>i)return 1/0;y+=I}return y/o}}et.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),et.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),et.MAX_AVG_VARIANCE=.42,et.MAX_INDIVIDUAL_VARIANCE=.8,et.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),et.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),et.MAX_PIXEL_DRIFT=3,et.MAX_PATTERN_DRIFT=5,et.SKIPPED_ROW_COUNT_MAX=25,et.ROW_STEP=5,et.BARCODE_MIN_HEIGHT=10;class Zt{constructor(t,a){if(a.length===0)throw new _;this.field=t;let i=a.length;if(i>1&&a[0]===0){let s=1;for(;s<i&&a[s]===0;)s++;s===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-s),Q.arraycopy(a,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let a=this.coefficients[0],i=this.coefficients.length;for(let s=1;s<i;s++)a=this.field.add(this.field.multiply(t,a),this.coefficients[s]);return a}add(t){if(!this.field.equals(t.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,i=t.coefficients;if(a.length>i.length){let f=a;a=i,i=f}let s=new Int32Array(i.length),o=i.length-a.length;Q.arraycopy(i,0,s,0,o);for(let f=o;f<i.length;f++)s[f]=this.field.add(a[f-o],i[f]);return new Zt(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new _("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Zt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Zt(this.field,new Int32Array([0]));let a=this.coefficients,i=a.length,s=t.coefficients,o=s.length,f=new Int32Array(i+o-1);for(let g=0;g<i;g++){let y=a[g];for(let A=0;A<o;A++)f[g+A]=this.field.add(f[g+A],this.field.multiply(y,s[A]))}return new Zt(this.field,f)}negative(){let t=this.coefficients.length,a=new Int32Array(t);for(let i=0;i<t;i++)a[i]=this.field.subtract(0,this.coefficients[i]);return new Zt(this.field,a)}multiplyScalar(t){if(t===0)return new Zt(this.field,new Int32Array([0]));if(t===1)return this;let a=this.coefficients.length,i=new Int32Array(a);for(let s=0;s<a;s++)i[s]=this.field.multiply(this.coefficients[s],t);return new Zt(this.field,i)}multiplyByMonomial(t,a){if(t<0)throw new _;if(a===0)return new Zt(this.field,new Int32Array([0]));let i=this.coefficients.length,s=new Int32Array(i+t);for(let o=0;o<i;o++)s[o]=this.field.multiply(this.coefficients[o],a);return new Zt(this.field,s)}toString(){let t=new Pe;for(let a=this.getDegree();a>=0;a--){let i=this.getCoefficient(a);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(a===0||i!==1)&&t.append(i),a!==0&&(a===1?t.append("x"):(t.append("x^"),t.append(a))))}return t.toString()}}class Pa{add(t,a){return(t+a)%this.modulus}subtract(t,a){return(this.modulus+t-a)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new _;return this.logTable[t]}inverse(t){if(t===0)throw new At;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Sr extends Pa{constructor(t,a){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let s=0;s<t;s++)this.expTable[s]=i,i=i*a%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Zt(this,new Int32Array([0])),this.one=new Zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new _;if(a===0)return this.zero;let i=new Int32Array(t+1);return i[0]=a,new Zt(this,i)}}Sr.PDF417_GF=new Sr(qe.NUMBER_OF_CODEWORDS,3);class vr{constructor(){this.field=Sr.PDF417_GF}decode(t,a,i){let s=new Zt(this.field,t),o=new Int32Array(a),f=!1;for(let z=a;z>0;z--){let H=s.evaluateAt(this.field.exp(z));o[a-z]=H,H!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(i!=null)for(const z of i){let H=this.field.exp(t.length-1-z),W=new Zt(this.field,new Int32Array([this.field.subtract(0,H),1]));g=g.multiply(W)}let y=new Zt(this.field,o),A=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),y,a),C=A[0],O=A[1],I=this.findErrorLocations(C),k=this.findErrorMagnitudes(O,C,I);for(let z=0;z<I.length;z++){let H=t.length-1-this.field.log(I[z]);if(H<0)throw F.getChecksumInstance();t[H]=this.field.subtract(t[H],k[z])}return I.length}runEuclideanAlgorithm(t,a,i){if(t.getDegree()<a.getDegree()){let I=t;t=a,a=I}let s=t,o=a,f=this.field.getZero(),g=this.field.getOne();for(;o.getDegree()>=Math.round(i/2);){let I=s,k=f;if(s=o,f=g,s.isZero())throw F.getChecksumInstance();o=I;let z=this.field.getZero(),H=s.getCoefficient(s.getDegree()),W=this.field.inverse(H);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let se=o.getDegree()-s.getDegree(),Ae=this.field.multiply(o.getCoefficient(o.getDegree()),W);z=z.add(this.field.buildMonomial(se,Ae)),o=o.subtract(s.multiplyByMonomial(se,Ae))}g=z.multiply(f).subtract(k).negative()}let y=g.getCoefficient(0);if(y===0)throw F.getChecksumInstance();let A=this.field.inverse(y),C=g.multiply(A),O=o.multiply(A);return[C,O]}findErrorLocations(t){let a=t.getDegree(),i=new Int32Array(a),s=0;for(let o=1;o<this.field.getSize()&&s<a;o++)t.evaluateAt(o)===0&&(i[s]=this.field.inverse(o),s++);if(s!==a)throw F.getChecksumInstance();return i}findErrorMagnitudes(t,a,i){let s=a.getDegree(),o=new Int32Array(s);for(let A=1;A<=s;A++)o[s-A]=this.field.multiply(A,a.getCoefficient(A));let f=new Zt(this.field,o),g=i.length,y=new Int32Array(g);for(let A=0;A<g;A++){let C=this.field.inverse(i[A]),O=this.field.subtract(0,t.evaluateAt(C)),I=this.field.inverse(f.evaluateAt(C));y[A]=this.field.multiply(O,I)}return y}}class Fa{constructor(t,a,i,s,o){t instanceof Fa?this.constructor_2(t):this.constructor_1(t,a,i,s,o)}constructor_1(t,a,i,s,o){const f=a==null||i==null,g=s==null||o==null;if(f&&g)throw new $;f?(a=new _e(0,s.getY()),i=new _e(0,o.getY())):g&&(s=new _e(t.getWidth()-1,a.getY()),o=new _e(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=a,this.bottomLeft=i,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(a.getX(),i.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(a.getY(),s.getY())),this.maxY=Math.trunc(Math.max(i.getY(),o.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,a){return t==null?a:a==null?t:new Fa(t.image,t.topLeft,t.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(t,a,i){let s=this.topLeft,o=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(t>0){let y=i?this.topLeft:this.topRight,A=Math.trunc(y.getY()-t);A<0&&(A=0);let C=new _e(y.getX(),A);i?s=C:f=C}if(a>0){let y=i?this.bottomLeft:this.bottomRight,A=Math.trunc(y.getY()+a);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let C=new _e(y.getX(),A);i?o=C:g=C}return new Fa(this.image,s,o,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ns{constructor(t,a,i,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=a,this.rowCountLowerPart=i,this.rowCount=a+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class za{constructor(){this.buffer=""}static form(t,a){let i=-1;function s(f,g,y,A,C,O){if(f==="%%")return"%";if(a[++i]===void 0)return;f=A?parseInt(A.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,k;switch(O){case"s":k=a[i];break;case"c":k=a[i][0];break;case"f":k=parseFloat(a[i]).toFixed(f);break;case"p":k=parseFloat(a[i]).toPrecision(f);break;case"e":k=parseFloat(a[i]).toExponential(f);break;case"x":k=parseInt(a[i]).toString(I||16);break;case"d":k=parseFloat(parseInt(a[i],I||10).toPrecision(f)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let z=parseInt(y),H=y&&y[0]+""=="0"?"0":" ";for(;k.length<z;)k=g!==void 0?k+H:H+k;return k}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,s)}format(t,...a){this.buffer+=za.form(t,a)}toString(){return this.buffer}}class Pi{constructor(t){this.boundingBox=new Fa(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let a=this.getCodeword(t);if(a!=null)return a;for(let i=1;i<Pi.MAX_NEARBY_DISTANCE;i++){let s=this.imageRowToCodewordIndex(t)-i;if(s>=0&&(a=this.codewords[s],a!=null)||(s=this.imageRowToCodewordIndex(t)+i,s<this.codewords.length&&(a=this.codewords[s],a!=null)))return a}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,a){this.codewords[this.imageRowToCodewordIndex(t)]=a}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new za;let a=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",a++);continue}t.format("%3d: %3d|%3d%n",a++,i.getRowNumber(),i.getValue())}return t.toString()}}Pi.MAX_NEARBY_DISTANCE=5;class dn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let a=this.values.get(t);a==null&&(a=0),a++,this.values.set(t,a)}getValue(){let t=-1,a=new Array;for(const[i,s]of this.values.entries()){const o={getKey:()=>i,getValue:()=>s};o.getValue()>t?(t=o.getValue(),a=[],a.push(o.getKey())):o.getValue()===t&&a.push(o.getKey())}return qe.toIntArray(a)}getConfidence(t){return this.values.get(t)}}class ja extends Pi{constructor(t,a){super(t),this._isLeft=a}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,t);let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.imageRowToCodewordIndex(Math.trunc(o.getY())),y=-1,A=1,C=0;for(let O=f;O<g;O++){if(a[O]==null)continue;let I=a[O],k=I.getRowNumber()-y;if(k===0)C++;else if(k===1)A=Math.max(A,C),C=1,y=I.getRowNumber();else if(k<0||I.getRowNumber()>=t.getRowCount()||k>O)a[O]=null;else{let z;A>2?z=(A-2)*k:z=k;let H=z>=O;for(let W=1;W<=z&&!H;W++)H=a[O-W]!=null;H?a[O]=null:(y=I.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let a=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let s=i.getRowNumber();if(s>=a.length)continue;a[s]++}return a}adjustIncompleteIndicatorColumnRowNumbers(t){let a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.getCodewords(),y=-1;for(let A=o;A<f;A++){if(g[A]==null)continue;let C=g[A];C.setRowNumberAsRowIndicatorColumn();let O=C.getRowNumber()-y;O===0||(O===1?y=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?g[A]=null:y=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),a=new dn,i=new dn,s=new dn,o=new dn;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,A=g.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:i.setValue(y*3+1);break;case 1:o.setValue(y/3),s.setValue(y%3);break;case 2:a.setValue(y+1);break}}if(a.getValue().length===0||i.getValue().length===0||s.getValue().length===0||o.getValue().length===0||a.getValue()[0]<1||i.getValue()[0]+s.getValue()[0]<qe.MIN_ROWS_IN_BARCODE||i.getValue()[0]+s.getValue()[0]>qe.MAX_ROWS_IN_BARCODE)return null;let f=new ns(a.getValue()[0],i.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(t,f),f}removeIncorrectCodewords(t,a){for(let i=0;i<t.length;i++){let s=t[i];if(t[i]==null)continue;let o=s.getValue()%30,f=s.getRowNumber();if(f>a.getRowCount()){t[i]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:o*3+1!==a.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==a.getErrorCorrectionLevel()||o%3!==a.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==a.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ha{constructor(t,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=qe.MAX_CODEWORDS_IN_BARCODE,a;do a=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let i=this.detectionResultColumns[a].getCodewords();for(let s=0;s<i.length;s++)i[s]!=null&&(i[s].hasValidRowNumber()||this.adjustRowNumbers(a,s,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&a[i]!=null&&t[i].getRowNumber()===a[i].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[i];o!=null&&(o.setRowNumber(t[i].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<a.length;i++){if(a[i]==null)continue;let s=a[i].getRowNumber(),o=0;for(let f=this.barcodeColumnCount+1;f>0&&o<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[i];g!=null&&(o=Ha.adjustRowNumberIfValid(s,o,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,a=this.detectionResultColumns[0].getCodewords();for(let i=0;i<a.length;i++){if(a[i]==null)continue;let s=a[i].getRowNumber(),o=0;for(let f=1;f<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[i];g!=null&&(o=Ha.adjustRowNumberIfValid(s,o,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,a,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),a=0):++a),a}adjustRowNumbers(t,a,i){if(!this.detectionResultColumns[t-1])return;let s=i[a],o=this.detectionResultColumns[t-1].getCodewords(),f=o;this.detectionResultColumns[t+1]!=null&&(f=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=o[a],g[3]=f[a],a>0&&(g[0]=i[a-1],g[4]=o[a-1],g[5]=f[a-1]),a>1&&(g[8]=i[a-2],g[10]=o[a-2],g[11]=f[a-2]),a<i.length-1&&(g[1]=i[a+1],g[6]=o[a+1],g[7]=f[a+1]),a<i.length-2&&(g[9]=i[a+2],g[12]=o[a+2],g[13]=f[a+2]);for(let y of g)if(Ha.adjustRowNumber(s,y))return}static adjustRowNumber(t,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===t.getBucket()?(t.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,a){this.detectionResultColumns[t]=a}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new za;for(let i=0;i<t.getCodewords().length;i++){a.format("CW %3d:",i);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){a.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[i];if(o==null){a.format("    |   ");continue}a.format(" %3d|%3d",o.getRowNumber(),o.getValue())}a.format("%n")}return a.toString()}}class Ta{constructor(t,a,i,s){this.rowNumber=Ta.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(a),this.bucket=Math.trunc(i),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ta.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ta.BARCODE_ROW_UNKNOWN=-1;class Pn{static initialize(){for(let t=0;t<qe.SYMBOL_TABLE.length;t++){let a=qe.SYMBOL_TABLE[t],i=a&1;for(let s=0;s<qe.BARS_IN_MODULE;s++){let o=0;for(;(a&1)===i;)o+=1,a>>=1;i=a&1,Pn.RATIOS_TABLE[t]||(Pn.RATIOS_TABLE[t]=new Array(qe.BARS_IN_MODULE)),Pn.RATIOS_TABLE[t][qe.BARS_IN_MODULE-s-1]=Math.fround(o/qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let a=Pn.getDecodedCodewordValue(Pn.sampleBitCounts(t));return a!==-1?a:Pn.getClosestDecodedValue(t)}static sampleBitCounts(t){let a=$e.sum(t),i=new Int32Array(qe.BARS_IN_MODULE),s=0,o=0;for(let f=0;f<qe.MODULES_IN_CODEWORD;f++){let g=a/(2*qe.MODULES_IN_CODEWORD)+f*a/qe.MODULES_IN_CODEWORD;o+t[s]<=g&&(o+=t[s],s++),i[s]++}return i}static getDecodedCodewordValue(t){let a=Pn.getBitValue(t);return qe.getCodeword(a)===-1?-1:a}static getBitValue(t){let a=0;for(let i=0;i<t.length;i++)for(let s=0;s<t[i];s++)a=a<<1|(i%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(t){let a=$e.sum(t),i=new Array(qe.BARS_IN_MODULE);if(a>1)for(let f=0;f<i.length;f++)i[f]=Math.fround(t[f]/a);let s=pn.MAX_VALUE,o=-1;this.bSymbolTableReady||Pn.initialize();for(let f=0;f<Pn.RATIOS_TABLE.length;f++){let g=0,y=Pn.RATIOS_TABLE[f];for(let A=0;A<qe.BARS_IN_MODULE;A++){let C=Math.fround(y[A]-i[A]);if(g+=Math.fround(C*C),g>=s)break}g<s&&(s=g,o=qe.SYMBOL_TABLE[f])}return o}}Pn.bSymbolTableReady=!1,Pn.RATIOS_TABLE=new Array(qe.SYMBOL_TABLE.length).map(N=>new Array(qe.BARS_IN_MODULE));class as{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class is{static parseLong(t,a=void 0){return parseInt(t,a)}}class Fi extends w{}Fi.kind="NullPointerException";class rs{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,a,i){if(t==null)throw new Fi;if(a<0||a>t.length||i<0||a+i>t.length||a+i<0)throw new V;if(i===0)return;for(let s=0;s<i;s++)this.write(t[a+s])}flush(){}close(){}}class Zo extends w{}class wu extends rs{constructor(t=32){if(super(),this.count=0,t<0)throw new _("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Zo;i=ae.MAX_VALUE}this.buf=ie.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,a,i){if(a<0||a>t.length||i<0||a+i-t.length>0)throw new V;this.ensureCapacity(this.count+i),Q.arraycopy(t,a,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ie.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Ot;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ot||(Ot={}));function Wo(){if(typeof window<"u")return window.BigInt||null;if(typeof Kl<"u")return Kl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let zi;function Va(N){if(typeof zi>"u"&&(zi=Wo()),zi===null)throw new Error("BigInt is not supported!");return zi(N)}function bu(){let N=[];N[0]=Va(1);let t=Va(900);N[1]=t;for(let a=2;a<16;a++)N[a]=N[a-1]*t;return N}class re{static decode(t,a){let i=new Pe(""),s=q.ISO8859_1;i.enableDecoding(s);let o=1,f=t[o++],g=new as;for(;o<t[0];){switch(f){case re.TEXT_COMPACTION_MODE_LATCH:o=re.textCompaction(t,o,i);break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:o=re.byteCompaction(f,t,s,o,i);break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o++]);break;case re.NUMERIC_COMPACTION_MODE_LATCH:o=re.numericCompaction(t,o,i);break;case re.ECI_CHARSET:q.getCharacterSetECIByValue(t[o++]);break;case re.ECI_GENERAL_PURPOSE:o+=2;break;case re.ECI_USER_DEFINED:o++;break;case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=re.decodeMacroBlock(t,o,g);break;case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:throw new le;default:o--,o=re.textCompaction(t,o,i);break}if(o<t.length)f=t[o++];else throw le.getFormatInstance()}if(i.length()===0)throw le.getFormatInstance();let y=new Ge(null,i.toString(),null,a);return y.setOther(g),y}static decodeMacroBlock(t,a,i){if(a+re.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw le.getFormatInstance();let s=new Int32Array(re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<re.NUMBER_OF_SEQUENCE_CODEWORDS;g++,a++)s[g]=t[a];i.setSegmentIndex(ae.parseInt(re.decodeBase900toBase10(s,re.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Pe;a=re.textCompaction(t,a,o),i.setFileId(o.toString());let f=-1;for(t[a]===re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=a+1);a<t[0];)switch(t[a]){case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,t[a]){case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Pe;a=re.textCompaction(t,a+1,g),i.setFileName(g.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new Pe;a=re.textCompaction(t,a+1,y),i.setSender(y.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new Pe;a=re.textCompaction(t,a+1,A),i.setAddressee(A.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Pe;a=re.numericCompaction(t,a+1,C),i.setSegmentCount(ae.parseInt(C.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new Pe;a=re.numericCompaction(t,a+1,O),i.setTimestamp(is.parseLong(O.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Pe;a=re.numericCompaction(t,a+1,I),i.setChecksum(ae.parseInt(I.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new Pe;a=re.numericCompaction(t,a+1,k),i.setFileSize(is.parseLong(k.toString()));break;default:throw le.getFormatInstance()}break;case re.MACRO_PDF417_TERMINATOR:a++,i.setLastSegment(!0);break;default:throw le.getFormatInstance()}if(f!==-1){let g=a-f;i.isLastSegment()&&g--,i.setOptionalData(ie.copyOfRange(t,f,f+g))}return a}static textCompaction(t,a,i){let s=new Int32Array((t[0]-a)*2),o=new Int32Array((t[0]-a)*2),f=0,g=!1;for(;a<t[0]&&!g;){let y=t[a++];if(y<re.TEXT_COMPACTION_MODE_LATCH)s[f]=y/30,s[f+1]=y%30,f+=2;else switch(y){case re.TEXT_COMPACTION_MODE_LATCH:s[f++]=re.TEXT_COMPACTION_MODE_LATCH;break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:a--,g=!0;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[f]=re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=t[a++],o[f]=y,f++;break}}return re.decodeTextCompaction(s,o,f,i),a}static decodeTextCompaction(t,a,i,s){let o=Ot.ALPHA,f=Ot.ALPHA,g=0;for(;g<i;){let y=t[g],A="";switch(o){case Ot.ALPHA:if(y<26)A=String.fromCharCode(65+y);else switch(y){case 26:A=" ";break;case re.LL:o=Ot.LOWER;break;case re.ML:o=Ot.MIXED;break;case re.PS:f=o,o=Ot.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.LOWER:if(y<26)A=String.fromCharCode(97+y);else switch(y){case 26:A=" ";break;case re.AS:f=o,o=Ot.ALPHA_SHIFT;break;case re.ML:o=Ot.MIXED;break;case re.PS:f=o,o=Ot.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.MIXED:if(y<re.PL)A=re.MIXED_CHARS[y];else switch(y){case re.PL:o=Ot.PUNCT;break;case 26:A=" ";break;case re.LL:o=Ot.LOWER;break;case re.AL:o=Ot.ALPHA;break;case re.PS:f=o,o=Ot.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.PUNCT:if(y<re.PAL)A=re.PUNCT_CHARS[y];else switch(y){case re.PAL:o=Ot.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.ALPHA_SHIFT:if(o=f,y<26)A=String.fromCharCode(65+y);else switch(y){case 26:A=" ";break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.PUNCT_SHIFT:if(o=f,y<re.PAL)A=re.PUNCT_CHARS[y];else switch(y){case re.PAL:o=Ot.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break}A!==""&&s.append(A),g++}}static byteCompaction(t,a,i,s,o){let f=new wu,g=0,y=0,A=!1;switch(t){case re.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),O=a[s++];for(;s<a[0]&&!A;)switch(C[g++]=O,y=900*y+O,O=a[s++],O){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:s--,A=!0;break;default:if(g%5===0&&g>0){for(let I=0;I<6;++I)f.write(Number(Va(y)>>Va(8*(5-I))));y=0,g=0}break}s===a[0]&&O<re.TEXT_COMPACTION_MODE_LATCH&&(C[g++]=O);for(let I=0;I<g;I++)f.write(C[I]);break;case re.BYTE_COMPACTION_MODE_LATCH_6:for(;s<a[0]&&!A;){let I=a[s++];if(I<re.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+I;else switch(I){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:s--,A=!0;break}if(g%5===0&&g>0){for(let k=0;k<6;++k)f.write(Number(Va(y)>>Va(8*(5-k))));y=0,g=0}}break}return o.append(je.decode(f.toByteArray(),i)),s}static numericCompaction(t,a,i){let s=0,o=!1,f=new Int32Array(re.MAX_NUMERIC_CODEWORDS);for(;a<t[0]&&!o;){let g=t[a++];if(a===t[0]&&(o=!0),g<re.TEXT_COMPACTION_MODE_LATCH)f[s]=g,s++;else switch(g){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:a--,o=!0;break}(s%re.MAX_NUMERIC_CODEWORDS===0||g===re.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(i.append(re.decodeBase900toBase10(f,s)),s=0)}return a}static decodeBase900toBase10(t,a){let i=Va(0);for(let o=0;o<a;o++)i+=re.EXP900[a-o-1]*Va(t[o]);let s=i.toString();if(s.charAt(0)!=="1")throw new le;return s.substring(1)}}re.TEXT_COMPACTION_MODE_LATCH=900,re.BYTE_COMPACTION_MODE_LATCH=901,re.NUMERIC_COMPACTION_MODE_LATCH=902,re.BYTE_COMPACTION_MODE_LATCH_6=924,re.ECI_USER_DEFINED=925,re.ECI_GENERAL_PURPOSE=926,re.ECI_CHARSET=927,re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,re.MACRO_PDF417_TERMINATOR=922,re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,re.MAX_NUMERIC_CODEWORDS=15,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,re.PL=25,re.LL=27,re.AS=27,re.ML=28,re.AL=28,re.PS=29,re.PAL=29,re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",re.EXP900=Wo()?bu():[],re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class at{constructor(){}static decode(t,a,i,s,o,f,g){let y=new Fa(t,a,i,s,o),A=null,C=null,O;for(let z=!0;;z=!1){if(a!=null&&(A=at.getRowIndicatorColumn(t,y,a,!0,f,g)),s!=null&&(C=at.getRowIndicatorColumn(t,y,s,!1,f,g)),O=at.merge(A,C),O==null)throw $.getNotFoundInstance();let H=O.getBoundingBox();if(z&&H!=null&&(H.getMinY()<y.getMinY()||H.getMaxY()>y.getMaxY()))y=H;else break}O.setBoundingBox(y);let I=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,A),O.setDetectionResultColumn(I,C);let k=A!=null;for(let z=1;z<=I;z++){let H=k?z:I-z;if(O.getDetectionResultColumn(H)!==void 0)continue;let W;H===0||H===I?W=new ja(y,H===0):W=new Pi(y),O.setDetectionResultColumn(H,W);let se=-1,Ae=se;for(let be=y.getMinY();be<=y.getMaxY();be++){if(se=at.getStartColumn(O,H,be,k),se<0||se>y.getMaxX()){if(Ae===-1)continue;se=Ae}let ye=at.detectCodeword(t,y.getMinX(),y.getMaxX(),k,se,be,f,g);ye!=null&&(W.setCodeword(be,ye),Ae=se,f=Math.min(f,ye.getWidth()),g=Math.max(g,ye.getWidth()))}}return at.createDecoderResult(O)}static merge(t,a){if(t==null&&a==null)return null;let i=at.getBarcodeMetadata(t,a);if(i==null)return null;let s=Fa.merge(at.adjustBoundingBox(t),at.adjustBoundingBox(a));return new Ha(i,s)}static adjustBoundingBox(t){if(t==null)return null;let a=t.getRowHeights();if(a==null)return null;let i=at.getMax(a),s=0;for(let g of a)if(s+=i-g,g>0)break;let o=t.getCodewords();for(let g=0;s>0&&o[g]==null;g++)s--;let f=0;for(let g=a.length-1;g>=0&&(f+=i-a[g],!(a[g]>0));g--);for(let g=o.length-1;f>0&&o[g]==null;g--)f--;return t.getBoundingBox().addMissingRows(s,f,t.isLeft())}static getMax(t){let a=-1;for(let i of t)a=Math.max(a,i);return a}static getBarcodeMetadata(t,a){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let s;return a==null||(s=a.getBarcodeMetadata())==null?i:i.getColumnCount()!==s.getColumnCount()&&i.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&i.getRowCount()!==s.getRowCount()?null:i}static getRowIndicatorColumn(t,a,i,s,o,f){let g=new ja(a,s);for(let y=0;y<2;y++){let A=y===0?1:-1,C=Math.trunc(Math.trunc(i.getX()));for(let O=Math.trunc(Math.trunc(i.getY()));O<=a.getMaxY()&&O>=a.getMinY();O+=A){let I=at.detectCodeword(t,0,t.getWidth(),s,C,O,o,f);I!=null&&(g.setCodeword(O,I),s?C=I.getStartX():C=I.getEndX())}}return g}static adjustCodewordCount(t,a){let i=a[0][1],s=i.getValue(),o=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-at.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(o<1||o>qe.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();i.setValue(o)}else s[0]!==o&&i.setValue(o)}static createDecoderResult(t){let a=at.createBarcodeMatrix(t);at.adjustCodewordCount(t,a);let i=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),o=[],f=new Array;for(let y=0;y<t.getBarcodeRowCount();y++)for(let A=0;A<t.getBarcodeColumnCount();A++){let C=a[y][A+1].getValue(),O=y*t.getBarcodeColumnCount()+A;C.length===0?i.push(O):C.length===1?s[O]=C[0]:(f.push(O),o.push(C))}let g=new Array(o.length);for(let y=0;y<g.length;y++)g[y]=o[y];return at.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,qe.toIntArray(i),qe.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(t,a,i,s,o){let f=new Int32Array(s.length),g=100;for(;g-- >0;){for(let y=0;y<f.length;y++)a[s[y]]=o[y][f[y]];try{return at.decodeCodewords(a,t,i)}catch(y){if(!(y instanceof F))throw y}if(f.length===0)throw F.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<o[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw F.getChecksumInstance()}throw F.getChecksumInstance()}static createBarcodeMatrix(t){let a=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<a.length;s++)for(let o=0;o<a[s].length;o++)a[s][o]=new dn;let i=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let f=o.getRowNumber();if(f>=0){if(f>=a.length)continue;a[f][i].setValue(o.getValue())}}}i++}return a}static isValidBarcodeColumn(t,a){return a>=0&&a<=t.getBarcodeColumnCount()+1}static getStartColumn(t,a,i,s){let o=s?1:-1,f=null;if(at.isValidBarcodeColumn(t,a-o)&&(f=t.getDetectionResultColumn(a-o).getCodeword(i)),f!=null)return s?f.getEndX():f.getStartX();if(f=t.getDetectionResultColumn(a).getCodewordNearby(i),f!=null)return s?f.getStartX():f.getEndX();if(at.isValidBarcodeColumn(t,a-o)&&(f=t.getDetectionResultColumn(a-o).getCodewordNearby(i)),f!=null)return s?f.getEndX():f.getStartX();let g=0;for(;at.isValidBarcodeColumn(t,a-o);){a-=o;for(let y of t.getDetectionResultColumn(a).getCodewords())if(y!=null)return(s?y.getEndX():y.getStartX())+o*g*(y.getEndX()-y.getStartX());g++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,a,i,s,o,f,g,y){o=at.adjustCodewordStartColumn(t,a,i,s,o,f);let A=at.getModuleBitCount(t,a,i,s,o,f);if(A==null)return null;let C,O=$e.sum(A);if(s)C=o+O;else{for(let z=0;z<A.length/2;z++){let H=A[z];A[z]=A[A.length-1-z],A[A.length-1-z]=H}C=o,o=C-O}if(!at.checkCodewordSkew(O,g,y))return null;let I=Pn.getDecodedValue(A),k=qe.getCodeword(I);return k===-1?null:new Ta(o,C,at.getCodewordBucketNumber(I),k)}static getModuleBitCount(t,a,i,s,o,f){let g=o,y=new Int32Array(8),A=0,C=s?1:-1,O=s;for(;(s?g<i:g>=a)&&A<y.length;)t.get(g,f)===O?(y[A]++,g+=C):(A++,O=!O);return A===y.length||g===(s?i:a)&&A===y.length-1?y:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,a,i,s,o,f){let g=o,y=s?-1:1;for(let A=0;A<2;A++){for(;(s?g>=a:g<i)&&s===t.get(g,f);){if(Math.abs(o-g)>at.CODEWORD_SKEW_SIZE)return o;g+=y}y=-y,s=!s}return g}static checkCodewordSkew(t,a,i){return a-at.CODEWORD_SKEW_SIZE<=t&&t<=i+at.CODEWORD_SKEW_SIZE}static decodeCodewords(t,a,i){if(t.length===0)throw le.getFormatInstance();let s=1<<a+1,o=at.correctErrors(t,i,s);at.verifyCodewordCount(t,s);let f=re.decode(t,""+a);return f.setErrorsCorrected(o),f.setErasures(i.length),f}static correctErrors(t,a,i){if(a!=null&&a.length>i/2+at.MAX_ERRORS||i<0||i>at.MAX_EC_CODEWORDS)throw F.getChecksumInstance();return at.errorCorrection.decode(t,i,a)}static verifyCodewordCount(t,a){if(t.length<4)throw le.getFormatInstance();let i=t[0];if(i>t.length)throw le.getFormatInstance();if(i===0)if(a<t.length)t[0]=t.length-a;else throw le.getFormatInstance()}static getBitCountForCodeword(t){let a=new Int32Array(8),i=0,s=a.length-1;for(;!((t&1)!==i&&(i=t&1,s--,s<0));)a[s]++,t>>=1;return a}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return at.getCodewordBucketNumber(at.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let a=new za;for(let i=0;i<t.length;i++){a.format("Row %2d: ",i);for(let s=0;s<t[i].length;s++){let o=t[i][s];o.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}a.format("%n")}return a.toString()}}at.CODEWORD_SKEW_SIZE=2,at.MAX_ERRORS=3,at.MAX_EC_CODEWORDS=512,at.errorCorrection=new vr;class yn{decode(t,a=null){let i=yn.decode(t,a,!1);if(i==null||i.length===0||i[0]==null)throw $.getNotFoundInstance();return i[0]}decodeMultiple(t,a=null){try{return yn.decode(t,a,!0)}catch(i){throw i instanceof le||i instanceof F?$.getNotFoundInstance():i}}static decode(t,a,i){const s=new Array,o=et.detectMultiple(t,a,i);for(const f of o.getPoints()){const g=at.decode(o.getBits(),f[4],f[5],f[6],f[7],yn.getMinCodewordWidth(f),yn.getMaxCodewordWidth(f)),y=new ue(g.getText(),g.getRawBytes(),void 0,f,oe.PDF_417);y.putMetadata(Ne.ERROR_CORRECTION_LEVEL,g.getECLevel());const A=g.getOther();A!=null&&y.putMetadata(Ne.PDF417_EXTRA_METADATA,A),s.push(y)}return s.map(f=>f)}static getMaxWidth(t,a){return t==null||a==null?0:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMinWidth(t,a){return t==null||a==null?ae.MAX_VALUE:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(yn.getMaxWidth(t[0],t[4]),yn.getMaxWidth(t[6],t[2])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN),Math.max(yn.getMaxWidth(t[1],t[5]),yn.getMaxWidth(t[7],t[3])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(yn.getMinWidth(t[0],t[4]),yn.getMinWidth(t[6],t[2])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN),Math.min(yn.getMinWidth(t[1],t[5]),yn.getMinWidth(t[7],t[3])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Tr extends w{}Tr.kind="ReaderException";class Ko{constructor(t,a){this.verbose=t===!0,a&&this.setHints(a)}decode(t,a){return a&&this.setHints(a),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const a=!h(t)&&t.get(we.TRY_HARDER)===!0,i=h(t)?null:t.get(we.POSSIBLE_FORMATS),s=new Array;if(!h(i)){const o=i.some(f=>f===oe.UPC_A||f===oe.UPC_E||f===oe.EAN_13||f===oe.EAN_8||f===oe.CODABAR||f===oe.CODE_39||f===oe.CODE_93||f===oe.CODE_128||f===oe.ITF||f===oe.RSS_14||f===oe.RSS_EXPANDED);o&&!a&&s.push(new Un(t,this.verbose)),i.includes(oe.QR_CODE)&&s.push(new ca),i.includes(oe.DATA_MATRIX)&&s.push(new va),i.includes(oe.AZTEC)&&s.push(new _a),i.includes(oe.PDF_417)&&s.push(new yn),o&&a&&s.push(new Un(t,this.verbose))}s.length===0&&(a||s.push(new Un(t,this.verbose)),s.push(new ca),s.push(new va),s.push(new _a),s.push(new yn),a&&s.push(new Un(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Tr("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(t,this.hints)}catch(i){if(i instanceof Tr)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class Cu extends xe{constructor(t=null,a=500){const i=new Ko;i.setHints(t),super(i,a)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Su extends xe{constructor(t=500){super(new yn,t)}}class vu extends xe{constructor(t=500){super(new ca,t)}}var Nr;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(Nr||(Nr={}));var ln=Nr;class Xs{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Qe(t,Int32Array.from([1])))}buildGenerator(t){const a=this.cachedGenerators;if(t>=a.length){let i=a[a.length-1];const s=this.field;for(let o=a.length;o<=t;o++){const f=i.multiply(new Qe(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));a.push(f),i=f}}return a[t]}encode(t,a){if(a===0)throw new _("No error correction bytes");const i=t.length-a;if(i<=0)throw new _("No data bytes provided");const s=this.buildGenerator(a),o=new Int32Array(i);Q.arraycopy(t,0,o,0,i);let f=new Qe(this.field,o);f=f.multiplyByMonomial(a,1);const y=f.divide(s)[1].getCoefficients(),A=a-y.length;for(let C=0;C<A;C++)t[i+C]=0;Q.arraycopy(y,0,t,i+A,y.length)}}class Xt{constructor(){}static applyMaskPenaltyRule1(t){return Xt.applyMaskPenaltyRule1Internal(t,!0)+Xt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let a=0;const i=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let f=0;f<o-1;f++){const g=i[f];for(let y=0;y<s-1;y++){const A=g[y];A===g[y+1]&&A===i[f+1][y]&&A===i[f+1][y+1]&&a++}}return Xt.N2*a}static applyMaskPenaltyRule3(t){let a=0;const i=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let f=0;f<o;f++)for(let g=0;g<s;g++){const y=i[f];g+6<s&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Xt.isWhiteHorizontal(y,g-4,g)||Xt.isWhiteHorizontal(y,g+7,g+11))&&a++,f+6<o&&i[f][g]===1&&i[f+1][g]===0&&i[f+2][g]===1&&i[f+3][g]===1&&i[f+4][g]===1&&i[f+5][g]===0&&i[f+6][g]===1&&(Xt.isWhiteVertical(i,g,f-4,f)||Xt.isWhiteVertical(i,g,f+7,f+11))&&a++}return a*Xt.N3}static isWhiteHorizontal(t,a,i){a=Math.max(a,0),i=Math.min(i,t.length);for(let s=a;s<i;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,a,i,s){i=Math.max(i,0),s=Math.min(s,t.length);for(let o=i;o<s;o++)if(t[o][a]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let a=0;const i=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let y=0;y<o;y++){const A=i[y];for(let C=0;C<s;C++)A[C]===1&&a++}const f=t.getHeight()*t.getWidth();return Math.floor(Math.abs(a*2-f)*10/f)*Xt.N4}static getDataMaskBit(t,a,i){let s,o;switch(t){case 0:s=i+a&1;break;case 1:s=i&1;break;case 2:s=a%3;break;case 3:s=(i+a)%3;break;case 4:s=Math.floor(i/2)+Math.floor(a/3)&1;break;case 5:o=i*a,s=(o&1)+o%3;break;case 6:o=i*a,s=(o&1)+o%3&1;break;case 7:o=i*a,s=o%3+(i+a&1)&1;break;default:throw new _("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,a){let i=0;const s=a?t.getHeight():t.getWidth(),o=a?t.getWidth():t.getHeight(),f=t.getArray();for(let g=0;g<s;g++){let y=0,A=-1;for(let C=0;C<o;C++){const O=a?f[g][C]:f[C][g];O===A?y++:(y>=5&&(i+=Xt.N1+(y-5)),y=1,A=O)}y>=5&&(i+=Xt.N1+(y-5))}return i}}Xt.N1=3,Xt.N2=3,Xt.N3=40,Xt.N4=10;class Or{constructor(t,a){this.width=t,this.height=a;const i=new Array(a);for(let s=0;s!==a;s++)i[s]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,a){return this.bytes[a][t]}getArray(){return this.bytes}setNumber(t,a,i){this.bytes[a][t]=i}setBoolean(t,a,i){this.bytes[a][t]=i?1:0}clear(t){for(const a of this.bytes)ie.fill(a,t)}equals(t){if(!(t instanceof Or))return!1;const a=t;if(this.width!==a.width||this.height!==a.height)return!1;for(let i=0,s=this.height;i<s;++i){const o=this.bytes[i],f=a.bytes[i];for(let g=0,y=this.width;g<y;++g)if(o[g]!==f[g])return!1}return!0}toString(){const t=new Pe;for(let a=0,i=this.height;a<i;++a){const s=this.bytes[a];for(let o=0,f=this.width;o<f;++o)switch(s[o]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ii{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Pe;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ii.NUM_MASK_PATTERNS}}ii.NUM_MASK_PATTERNS=8;class It extends w{}It.kind="WriterException";class Xe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,a,i,s,o){Xe.clearMatrix(o),Xe.embedBasicPatterns(i,o),Xe.embedTypeInfo(a,s,o),Xe.maybeEmbedVersionInfo(i,o),Xe.embedDataBits(t,s,o)}static embedBasicPatterns(t,a){Xe.embedPositionDetectionPatternsAndSeparators(a),Xe.embedDarkDotAtLeftBottomCorner(a),Xe.maybeEmbedPositionAdjustmentPatterns(t,a),Xe.embedTimingPatterns(a)}static embedTypeInfo(t,a,i){const s=new Ce;Xe.makeTypeInfoBits(t,a,s);for(let o=0,f=s.getSize();o<f;++o){const g=s.get(s.getSize()-1-o),y=Xe.TYPE_INFO_COORDINATES[o],A=y[0],C=y[1];if(i.setBoolean(A,C,g),o<8){const O=i.getWidth()-o-1;i.setBoolean(O,8,g)}else{const I=i.getHeight()-7+(o-8);i.setBoolean(8,I,g)}}}static maybeEmbedVersionInfo(t,a){if(t.getVersionNumber()<7)return;const i=new Ce;Xe.makeVersionInfoBits(t,i);let s=6*3-1;for(let o=0;o<6;++o)for(let f=0;f<3;++f){const g=i.get(s);s--,a.setBoolean(o,a.getHeight()-11+f,g),a.setBoolean(a.getHeight()-11+f,o,g)}}static embedDataBits(t,a,i){let s=0,o=-1,f=i.getWidth()-1,g=i.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<i.getHeight();){for(let y=0;y<2;++y){const A=f-y;if(!Xe.isEmpty(i.get(A,g)))continue;let C;s<t.getSize()?(C=t.get(s),++s):C=!1,a!==255&&Xt.getDataMaskBit(a,A,g)&&(C=!C),i.setBoolean(A,g,C)}g+=o}o=-o,g+=o,f-=2}if(s!==t.getSize())throw new It("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-ae.numberOfLeadingZeros(t)}static calculateBCHCode(t,a){if(a===0)throw new _("0 polynomial");const i=Xe.findMSBSet(a);for(t<<=i-1;Xe.findMSBSet(t)>=i;)t^=a<<Xe.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,a,i){if(!ii.isValidMaskPattern(a))throw new It("Invalid mask pattern");const s=t.getBits()<<3|a;i.appendBits(s,5);const o=Xe.calculateBCHCode(s,Xe.TYPE_INFO_POLY);i.appendBits(o,10);const f=new Ce;if(f.appendBits(Xe.TYPE_INFO_MASK_PATTERN,15),i.xor(f),i.getSize()!==15)throw new It("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,a){a.appendBits(t.getVersionNumber(),6);const i=Xe.calculateBCHCode(t.getVersionNumber(),Xe.VERSION_INFO_POLY);if(a.appendBits(i,12),a.getSize()!==18)throw new It("should not happen but we got: "+a.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let a=8;a<t.getWidth()-8;++a){const i=(a+1)%2;Xe.isEmpty(t.get(a,6))&&t.setNumber(a,6,i),Xe.isEmpty(t.get(6,a))&&t.setNumber(6,a,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new It;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,a,i){for(let s=0;s<8;++s){if(!Xe.isEmpty(i.get(t+s,a)))throw new It;i.setNumber(t+s,a,0)}}static embedVerticalSeparationPattern(t,a,i){for(let s=0;s<7;++s){if(!Xe.isEmpty(i.get(t,a+s)))throw new It;i.setNumber(t,a+s,0)}}static embedPositionAdjustmentPattern(t,a,i){for(let s=0;s<5;++s){const o=Xe.POSITION_ADJUSTMENT_PATTERN[s];for(let f=0;f<5;++f)i.setNumber(t+f,a+s,o[f])}}static embedPositionDetectionPattern(t,a,i){for(let s=0;s<7;++s){const o=Xe.POSITION_DETECTION_PATTERN[s];for(let f=0;f<7;++f)i.setNumber(t+f,a+s,o[f])}}static embedPositionDetectionPatternsAndSeparators(t){const a=Xe.POSITION_DETECTION_PATTERN[0].length;Xe.embedPositionDetectionPattern(0,0,t),Xe.embedPositionDetectionPattern(t.getWidth()-a,0,t),Xe.embedPositionDetectionPattern(0,t.getWidth()-a,t);const i=8;Xe.embedHorizontalSeparationPattern(0,i-1,t),Xe.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),Xe.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const s=7;Xe.embedVerticalSeparationPattern(s,0,t),Xe.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),Xe.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,a){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,s=Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let o=0,f=s.length;o!==f;o++){const g=s[o];if(g>=0)for(let y=0;y!==f;y++){const A=s[y];A>=0&&Xe.isEmpty(a.get(A,g))&&Xe.embedPositionAdjustmentPattern(A-2,g-2,a)}}}}Xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xe.VERSION_INFO_POLY=7973,Xe.TYPE_INFO_POLY=1335,Xe.TYPE_INFO_MASK_PATTERN=21522;class Tu{constructor(t,a){this.dataBytes=t,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pt{constructor(){}static calculateMaskPenalty(t){return Xt.applyMaskPenaltyRule1(t)+Xt.applyMaskPenaltyRule2(t)+Xt.applyMaskPenaltyRule3(t)+Xt.applyMaskPenaltyRule4(t)}static encode(t,a,i=null){let s=Pt.DEFAULT_BYTE_MODE_ENCODING;const o=i!==null&&i.get(ln.CHARACTER_SET)!==void 0;o&&(s=i.get(ln.CHARACTER_SET).toString());const f=this.chooseMode(t,s),g=new Ce;if(f===He.BYTE&&(o||Pt.DEFAULT_BYTE_MODE_ENCODING!==s)){const be=q.getCharacterSetECIByName(s);be!==void 0&&this.appendECI(be,g)}this.appendModeInfo(f,g);const y=new Ce;this.appendBytes(t,f,y,s);let A;if(i!==null&&i.get(ln.QR_VERSION)!==void 0){const be=Number.parseInt(i.get(ln.QR_VERSION).toString(),10);A=Ue.getVersionForNumber(be);const ye=this.calculateBitsNeeded(f,g,y,A);if(!this.willFit(ye,A,a))throw new It("Data too big for requested version")}else A=this.recommendVersion(a,f,g,y);const C=new Ce;C.appendBitArray(g);const O=f===He.BYTE?y.getSizeInBytes():t.length;this.appendLengthInfo(O,A,f,C),C.appendBitArray(y);const I=A.getECBlocksForLevel(a),k=A.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(k,C);const z=this.interleaveWithECBytes(C,A.getTotalCodewords(),k,I.getNumBlocks()),H=new ii;H.setECLevel(a),H.setMode(f),H.setVersion(A);const W=A.getDimensionForVersion(),se=new Or(W,W),Ae=this.chooseMaskPattern(z,a,A,se);return H.setMaskPattern(Ae),Xe.buildMatrix(z,a,A,Ae,se),H.setMatrix(se),H}static recommendVersion(t,a,i,s){const o=this.calculateBitsNeeded(a,i,s,Ue.getVersionForNumber(1)),f=this.chooseVersion(o,t),g=this.calculateBitsNeeded(a,i,s,f);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,a,i,s){return a.getSize()+t.getCharacterCountBits(s)+i.getSize()}static getAlphanumericCode(t){return t<Pt.ALPHANUMERIC_TABLE.length?Pt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,a=null){if(q.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(t))return He.KANJI;let i=!1,s=!1;for(let o=0,f=t.length;o<f;++o){const g=t.charAt(o);if(Pt.isDigit(g))i=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)s=!0;else return He.BYTE}return s?He.ALPHANUMERIC:i?He.NUMERIC:He.BYTE}static isOnlyDoubleByteKanji(t){let a;try{a=je.encode(t,q.SJIS)}catch{return!1}const i=a.length;if(i%2!==0)return!1;for(let s=0;s<i;s+=2){const o=a[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(t,a,i,s){let o=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<ii.NUM_MASK_PATTERNS;g++){Xe.buildMatrix(t,a,i,g,s);let y=this.calculateMaskPenalty(s);y<o&&(o=y,f=g)}return f}static chooseVersion(t,a){for(let i=1;i<=40;i++){const s=Ue.getVersionForNumber(i);if(Pt.willFit(t,s,a))return s}throw new It("Data too big")}static willFit(t,a,i){const s=a.getTotalCodewords(),f=a.getECBlocksForLevel(i).getTotalECCodewords(),g=s-f,y=(t+7)/8;return g>=y}static terminateBits(t,a){const i=t*8;if(a.getSize()>i)throw new It("data bits cannot fit in the QR Code"+a.getSize()+" > "+i);for(let f=0;f<4&&a.getSize()<i;++f)a.appendBit(!1);const s=a.getSize()&7;if(s>0)for(let f=s;f<8;f++)a.appendBit(!1);const o=t-a.getSizeInBytes();for(let f=0;f<o;++f)a.appendBits((f&1)===0?236:17,8);if(a.getSize()!==i)throw new It("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,a,i,s,o,f){if(s>=i)throw new It("Block ID too large");const g=t%i,y=i-g,A=Math.floor(t/i),C=A+1,O=Math.floor(a/i),I=O+1,k=A-O,z=C-I;if(k!==z)throw new It("EC bytes mismatch");if(i!==y+g)throw new It("RS blocks mismatch");if(t!==(O+k)*y+(I+z)*g)throw new It("Total bytes mismatch");s<y?(o[0]=O,f[0]=k):(o[0]=I,f[0]=z)}static interleaveWithECBytes(t,a,i,s){if(t.getSizeInBytes()!==i)throw new It("Number of bits and data bytes does not match");let o=0,f=0,g=0;const y=new Array;for(let C=0;C<s;++C){const O=new Int32Array(1),I=new Int32Array(1);Pt.getNumDataBytesAndNumECBytesForBlockID(a,i,s,C,O,I);const k=O[0],z=new Uint8Array(k);t.toBytes(8*o,z,0,k);const H=Pt.generateECBytes(z,I[0]);y.push(new Tu(z,H)),f=Math.max(f,k),g=Math.max(g,H.length),o+=O[0]}if(i!==o)throw new It("Data bytes does not match offset");const A=new Ce;for(let C=0;C<f;++C)for(const O of y){const I=O.getDataBytes();C<I.length&&A.appendBits(I[C],8)}for(let C=0;C<g;++C)for(const O of y){const I=O.getErrorCorrectionBytes();C<I.length&&A.appendBits(I[C],8)}if(a!==A.getSizeInBytes())throw new It("Interleaving error: "+a+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(t,a){const i=t.length,s=new Int32Array(i+a);for(let f=0;f<i;f++)s[f]=t[f]&255;new Xs(ze.QR_CODE_FIELD_256).encode(s,a);const o=new Uint8Array(a);for(let f=0;f<a;f++)o[f]=s[i+f];return o}static appendModeInfo(t,a){a.appendBits(t.getBits(),4)}static appendLengthInfo(t,a,i,s){const o=i.getCharacterCountBits(a);if(t>=1<<o)throw new It(t+" is bigger than "+((1<<o)-1));s.appendBits(t,o)}static appendBytes(t,a,i,s){switch(a){case He.NUMERIC:Pt.appendNumericBytes(t,i);break;case He.ALPHANUMERIC:Pt.appendAlphanumericBytes(t,i);break;case He.BYTE:Pt.append8BitBytes(t,i,s);break;case He.KANJI:Pt.appendKanjiBytes(t,i);break;default:throw new It("Invalid mode: "+a)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const a=Pt.getDigit(t);return a>=0&&a<=9}static appendNumericBytes(t,a){const i=t.length;let s=0;for(;s<i;){const o=Pt.getDigit(t.charAt(s));if(s+2<i){const f=Pt.getDigit(t.charAt(s+1)),g=Pt.getDigit(t.charAt(s+2));a.appendBits(o*100+f*10+g,10),s+=3}else if(s+1<i){const f=Pt.getDigit(t.charAt(s+1));a.appendBits(o*10+f,7),s+=2}else a.appendBits(o,4),s++}}static appendAlphanumericBytes(t,a){const i=t.length;let s=0;for(;s<i;){const o=Pt.getAlphanumericCode(t.charCodeAt(s));if(o===-1)throw new It;if(s+1<i){const f=Pt.getAlphanumericCode(t.charCodeAt(s+1));if(f===-1)throw new It;a.appendBits(o*45+f,11),s+=2}else a.appendBits(o,6),s++}}static append8BitBytes(t,a,i){let s;try{s=je.encode(t,i)}catch(o){throw new It(o)}for(let o=0,f=s.length;o!==f;o++){const g=s[o];a.appendBits(g,8)}}static appendKanjiBytes(t,a){let i;try{i=je.encode(t,q.SJIS)}catch(o){throw new It(o)}const s=i.length;for(let o=0;o<s;o+=2){const f=i[o]&255,g=i[o+1]&255,y=f<<8&4294967295|g;let A=-1;if(y>=33088&&y<=40956?A=y-33088:y>=57408&&y<=60351&&(A=y-49472),A===-1)throw new It("Invalid byte sequence");const C=(A>>8)*192+(A&255);a.appendBits(C,13)}}static appendECI(t,a){a.appendBits(He.ECI.getBits(),4),a.appendBits(t.getValue(),8)}}Pt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pt.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class ri{write(t,a,i,s=null){if(t.length===0)throw new _("Found empty contents");if(a<0||i<0)throw new _("Requested dimensions are too small: "+a+"x"+i);let o=ot.L,f=ri.QUIET_ZONE_SIZE;s!==null&&(s.get(ln.ERROR_CORRECTION)!==void 0&&(o=ot.fromString(s.get(ln.ERROR_CORRECTION).toString())),s.get(ln.MARGIN)!==void 0&&(f=Number.parseInt(s.get(ln.MARGIN).toString(),10)));const g=Pt.encode(t,o,s);return this.renderResult(g,a,i,f)}writeToDom(t,a,i,s,o=null){typeof t=="string"&&(t=document.querySelector(t));const f=this.write(a,i,s,o);t&&t.appendChild(f)}renderResult(t,a,i,s){const o=t.getMatrix();if(o===null)throw new Tt;const f=o.getWidth(),g=o.getHeight(),y=f+s*2,A=g+s*2,C=Math.max(a,y),O=Math.max(i,A),I=Math.min(Math.floor(C/y),Math.floor(O/A)),k=Math.floor((C-f*I)/2),z=Math.floor((O-g*I)/2),H=this.createSVGElement(C,O);for(let W=0,se=z;W<g;W++,se+=I)for(let Ae=0,be=k;Ae<f;Ae++,be+=I)if(o.get(Ae,W)===1){const ye=this.createSvgRectElement(be,se,I,I);H.appendChild(ye)}return H}createSVGElement(t,a){const i=document.createElementNS(ri.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",a.toString()),i}createSvgRectElement(t,a,i,s){const o=document.createElementNS(ri.SVG_NS,"rect");return o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",a.toString()),o.setAttributeNS(null,"height",i.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}ri.QUIET_ZONE_SIZE=4,ri.SVG_NS="http://www.w3.org/2000/svg";class ji{encode(t,a,i,s,o){if(t.length===0)throw new _("Found empty contents");if(a!==oe.QR_CODE)throw new _("Can only encode QR_CODE, but got "+a);if(i<0||s<0)throw new _(`Requested dimensions are too small: ${i}x${s}`);let f=ot.L,g=ji.QUIET_ZONE_SIZE;o!==null&&(o.get(ln.ERROR_CORRECTION)!==void 0&&(f=ot.fromString(o.get(ln.ERROR_CORRECTION).toString())),o.get(ln.MARGIN)!==void 0&&(g=Number.parseInt(o.get(ln.MARGIN).toString(),10)));const y=Pt.encode(t,f,o);return ji.renderResult(y,i,s,g)}static renderResult(t,a,i,s){const o=t.getMatrix();if(o===null)throw new Tt;const f=o.getWidth(),g=o.getHeight(),y=f+s*2,A=g+s*2,C=Math.max(a,y),O=Math.max(i,A),I=Math.min(Math.floor(C/y),Math.floor(O/A)),k=Math.floor((C-f*I)/2),z=Math.floor((O-g*I)/2),H=new st(C,O);for(let W=0,se=z;W<g;W++,se+=I)for(let Ae=0,be=k;Ae<f;Ae++,be+=I)o.get(Ae,W)===1&&H.setRegion(be,se,I,I);return H}}ji.QUIET_ZONE_SIZE=4;class Nu{encode(t,a,i,s,o){let f;switch(a){case oe.QR_CODE:f=new ji;break;default:throw new _("No encoder available for format "+a)}return f.encode(t,a,i,s,o)}}class fa extends ke{constructor(t,a,i,s,o,f,g,y){if(super(f,g),this.yuvData=t,this.dataWidth=a,this.dataHeight=i,this.left=s,this.top=o,s+f>a||o+g>i)throw new _("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,g)}getRow(t,a){if(t<0||t>=this.getHeight())throw new _("Requested row is outside the image: "+t);const i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));const s=(t+this.top)*this.dataWidth+this.left;return Q.arraycopy(this.yuvData,s,a,0,i),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.yuvData;const i=t*a,s=new Uint8ClampedArray(i);let o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Q.arraycopy(this.yuvData,o,s,0,i),s;for(let f=0;f<a;f++){const g=f*t;Q.arraycopy(this.yuvData,o,s,g,t),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,a,i,s){return new fa(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+a,i,s,!1)}renderThumbnail(){const t=this.getWidth()/fa.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/fa.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*a),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let f=0;f<a;f++){const g=f*t;for(let y=0;y<t;y++){const A=s[o+y*fa.THUMBNAIL_SCALE_FACTOR]&255;i[g+y]=4278190080|A*65793}o+=this.dataWidth*fa.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/fa.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/fa.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,a){const i=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<a;s++,o+=this.dataWidth){const f=o+t/2;for(let g=o,y=o+t-1;g<f;g++,y--){const A=i[g];i[g]=i[y],i[y]=A}}}invert(){return new rt(this)}}fa.THUMBNAIL_SCALE_FACTOR=2;class Mr extends ke{constructor(t,a,i,s,o,f,g){if(super(a,i),this.dataWidth=s,this.dataHeight=o,this.left=f,this.top=g,t.BYTES_PER_ELEMENT===4){const y=a*i,A=new Uint8ClampedArray(y);for(let C=0;C<y;C++){const O=t[C],I=O>>16&255,k=O>>7&510,z=O&255;A[C]=(I+k+z)/4&255}this.luminances=A}else this.luminances=t;if(s===void 0&&(this.dataWidth=a),o===void 0&&(this.dataHeight=i),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+i>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(t,a){if(t<0||t>=this.getHeight())throw new _("Requested row is outside the image: "+t);const i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));const s=(t+this.top)*this.dataWidth+this.left;return Q.arraycopy(this.luminances,s,a,0,i),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.luminances;const i=t*a,s=new Uint8ClampedArray(i);let o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Q.arraycopy(this.luminances,o,s,0,i),s;for(let f=0;f<a;f++){const g=f*t;Q.arraycopy(this.luminances,o,s,g,t),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,a,i,s){return new Mr(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+t,this.top+a)}invert(){return new rt(this)}}class Hi extends q{static forName(t){return this.getCharacterSetECIByName(t)}}class qs{}qs.ISO_8859_1=q.ISO8859_1;class Qs{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Zs{static singletonList(t){return[t]}static min(t,a){return t.sort(a)[0]}}class Jo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class si extends Jo{constructor(t,a,i){super(t),this.value=a,this.bitCount=i}appendTo(t,a){t.appendBits(this.value,this.bitCount)}add(t,a){return new si(this,t,a)}addBinaryShift(t,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new si(this,t,a)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+ae.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ss extends si{constructor(t,a,i){super(t,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=i}appendTo(t,a){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(a[this.binaryShiftStart+i],8)}addBinaryShift(t,a){return new ss(this,t,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vi(N,t,a){return new ss(N,t,a)}function Ir(N,t,a){return new si(N,t,a)}const Ou=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ga=0,Rr=1,Yn=2,Gi=3,Fn=4,Mu=new si(null,0,0),Yi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function $o(N){for(let t of N)ie.fill(t,-1);return N[Ga][Fn]=0,N[Rr][Fn]=0,N[Rr][Ga]=28,N[Gi][Fn]=0,N[Yn][Fn]=0,N[Yn][Ga]=15,N}const Ws=$o(ie.createInt32Array(6,6));class Wn{constructor(t,a,i,s){this.token=t,this.mode=a,this.binaryShiftByteCount=i,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,a){let i=this.bitCount,s=this.token;if(t!==this.mode){let f=Yi[this.mode][t];s=Ir(s,f&65535,f>>16),i+=f>>16}let o=t===Yn?4:5;return s=Ir(s,a,o),new Wn(s,t,0,i+o)}shiftAndAppend(t,a){let i=this.token,s=this.mode===Yn?4:5;return i=Ir(i,Ws[this.mode][t],s),i=Ir(i,a,5),new Wn(i,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let a=this.token,i=this.mode,s=this.bitCount;if(this.mode===Fn||this.mode===Yn){let g=Yi[i][Ga];a=Ir(a,g&65535,g>>16),s+=g>>16,i=Ga}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Wn(a,i,this.binaryShiftByteCount+1,s+o);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(t+1)),f}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Vi(a,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Wn(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let a=this.bitCount+(Yi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?a+=Wn.calculateBinaryShiftCost(t)-Wn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(a+=10),a<=t.bitCount}toBitArray(t){let a=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())a.unshift(s);let i=new Ce;for(const s of a)s.appendTo(i,t);return i}toString(){return ve.format("%s bits=%d bytes=%d",Ou[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Wn.INITIAL_STATE=new Wn(Mu,Ga,0,0);function Ks(N){const t=ve.getCharCode(" "),a=ve.getCharCode("."),i=ve.getCharCode(",");N[Ga][t]=1;const s=ve.getCharCode("Z"),o=ve.getCharCode("A");for(let I=o;I<=s;I++)N[Ga][I]=I-o+2;N[Rr][t]=1;const f=ve.getCharCode("z"),g=ve.getCharCode("a");for(let I=g;I<=f;I++)N[Rr][I]=I-g+2;N[Yn][t]=1;const y=ve.getCharCode("9"),A=ve.getCharCode("0");for(let I=A;I<=y;I++)N[Yn][I]=I-A+2;N[Yn][i]=12,N[Yn][a]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<C.length;I++)N[Gi][ve.getCharCode(C[I])]=I;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<O.length;I++)ve.getCharCode(O[I])>0&&(N[Fn][ve.getCharCode(O[I])]=I);return N}const os=Ks(ie.createInt32Array(5,256));class Xi{constructor(t){this.text=t}encode(){const t=ve.getCharCode(" "),a=ve.getCharCode(`
`);let i=Zs.singletonList(Wn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let f,g=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ve.getCharCode("\r"):f=g===a?2:0;break;case ve.getCharCode("."):f=g===t?3:0;break;case ve.getCharCode(","):f=g===t?4:0;break;case ve.getCharCode(":"):f=g===t?5:0;break;default:f=0}f>0?(i=Xi.updateStateListForPair(i,o,f),o++):i=this.updateStateListForChar(i,o)}return Zs.min(i,(o,f)=>o.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,a){const i=[];for(let s of t)this.updateStateForChar(s,a,i);return Xi.simplifyStates(i)}updateStateForChar(t,a,i){let s=this.text[a]&255,o=os[t.getMode()][s]>0,f=null;for(let g=0;g<=Fn;g++){let y=os[g][s];if(y>0){if(f==null&&(f=t.endBinaryShift(a)),!o||g===t.getMode()||g===Yn){const A=f.latchAndAppend(g,y);i.push(A)}if(!o&&Ws[t.getMode()][g]>=0){const A=f.shiftAndAppend(g,y);i.push(A)}}}if(t.getBinaryShiftByteCount()>0||os[t.getMode()][s]===0){let g=t.addBinaryShiftChar(a);i.push(g)}}static updateStateListForPair(t,a,i){const s=[];for(let o of t)this.updateStateForPair(o,a,i,s);return this.simplifyStates(s)}static updateStateForPair(t,a,i,s){let o=t.endBinaryShift(a);if(s.push(o.latchAndAppend(Fn,i)),t.getMode()!==Fn&&s.push(o.shiftAndAppend(Fn,i)),i===3||i===4){let f=o.latchAndAppend(Yn,16-i).latchAndAppend(Yn,1);s.push(f)}if(t.getBinaryShiftByteCount()>0){let f=t.addBinaryShiftChar(a).addBinaryShiftChar(a+1);s.push(f)}}static simplifyStates(t){let a=[];for(const i of t){let s=!0;for(const o of a){if(o.isBetterThanOrEqualTo(i)){s=!1;break}i.isBetterThanOrEqualTo(o)&&(a=a.filter(f=>f!==o))}s&&a.push(i)}return a}}class pt{constructor(){}static encodeBytes(t){return pt.encode(t,pt.DEFAULT_EC_PERCENT,pt.DEFAULT_AZTEC_LAYERS)}static encode(t,a,i){let s=new Xi(t).encode(),o=ae.truncDivision(s.getSize()*a,100)+11,f=s.getSize()+o,g,y,A,C,O;if(i!==pt.DEFAULT_AZTEC_LAYERS){if(g=i<0,y=Math.abs(i),y>(g?pt.MAX_NB_BITS_COMPACT:pt.MAX_NB_BITS))throw new _(ve.format("Illegal value %s for layers",i));A=pt.totalBitsInLayer(y,g),C=pt.WORD_SIZE[y];let ye=A-A%C;if(O=pt.stuffBits(s,C),O.getSize()+o>ye)throw new _("Data to large for user specified layer");if(g&&O.getSize()>C*64)throw new _("Data to large for user specified layer")}else{C=0,O=null;for(let ye=0;;ye++){if(ye>pt.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(g=ye<=3,y=g?ye+1:ye,A=pt.totalBitsInLayer(y,g),f>A)continue;(O==null||C!==pt.WORD_SIZE[y])&&(C=pt.WORD_SIZE[y],O=pt.stuffBits(s,C));let lt=A-A%C;if(!(g&&O.getSize()>C*64)&&O.getSize()+o<=lt)break}}let I=pt.generateCheckWords(O,A,C),k=O.getSize()/C,z=pt.generateModeMessage(g,y,k),H=(g?11:14)+y*4,W=new Int32Array(H),se;if(g){se=H;for(let ye=0;ye<W.length;ye++)W[ye]=ye}else{se=H+1+2*ae.truncDivision(ae.truncDivision(H,2)-1,15);let ye=ae.truncDivision(H,2),lt=ae.truncDivision(se,2);for(let Ze=0;Ze<ye;Ze++){let Rn=Ze+ae.truncDivision(Ze,15);W[ye-Ze-1]=lt-Rn-1,W[ye+Ze]=lt+Rn+1}}let Ae=new st(se);for(let ye=0,lt=0;ye<y;ye++){let Ze=(y-ye)*4+(g?9:12);for(let Rn=0;Rn<Ze;Rn++){let Kn=Rn*2;for(let Dn=0;Dn<2;Dn++)I.get(lt+Kn+Dn)&&Ae.set(W[ye*2+Dn],W[ye*2+Rn]),I.get(lt+Ze*2+Kn+Dn)&&Ae.set(W[ye*2+Rn],W[H-1-ye*2-Dn]),I.get(lt+Ze*4+Kn+Dn)&&Ae.set(W[H-1-ye*2-Dn],W[H-1-ye*2-Rn]),I.get(lt+Ze*6+Kn+Dn)&&Ae.set(W[H-1-ye*2-Rn],W[ye*2+Dn])}lt+=Ze*8}if(pt.drawModeMessage(Ae,g,se,z),g)pt.drawBullsEye(Ae,ae.truncDivision(se,2),5);else{pt.drawBullsEye(Ae,ae.truncDivision(se,2),7);for(let ye=0,lt=0;ye<ae.truncDivision(H,2)-1;ye+=15,lt+=16)for(let Ze=ae.truncDivision(se,2)&1;Ze<se;Ze+=2)Ae.set(ae.truncDivision(se,2)-lt,Ze),Ae.set(ae.truncDivision(se,2)+lt,Ze),Ae.set(Ze,ae.truncDivision(se,2)-lt),Ae.set(Ze,ae.truncDivision(se,2)+lt)}let be=new Qs;return be.setCompact(g),be.setSize(se),be.setLayers(y),be.setCodeWords(k),be.setMatrix(Ae),be}static drawBullsEye(t,a,i){for(let s=0;s<i;s+=2)for(let o=a-s;o<=a+s;o++)t.set(o,a-s),t.set(o,a+s),t.set(a-s,o),t.set(a+s,o);t.set(a-i,a-i),t.set(a-i+1,a-i),t.set(a-i,a-i+1),t.set(a+i,a-i),t.set(a+i,a-i+1),t.set(a+i,a+i-1)}static generateModeMessage(t,a,i){let s=new Ce;return t?(s.appendBits(a-1,2),s.appendBits(i-1,6),s=pt.generateCheckWords(s,28,4)):(s.appendBits(a-1,5),s.appendBits(i-1,11),s=pt.generateCheckWords(s,40,4)),s}static drawModeMessage(t,a,i,s){let o=ae.truncDivision(i,2);if(a)for(let f=0;f<7;f++){let g=o-3+f;s.get(f)&&t.set(g,o-5),s.get(f+7)&&t.set(o+5,g),s.get(20-f)&&t.set(g,o+5),s.get(27-f)&&t.set(o-5,g)}else for(let f=0;f<10;f++){let g=o-5+f+ae.truncDivision(f,5);s.get(f)&&t.set(g,o-7),s.get(f+10)&&t.set(o+7,g),s.get(29-f)&&t.set(g,o+7),s.get(39-f)&&t.set(o-7,g)}}static generateCheckWords(t,a,i){let s=t.getSize()/i,o=new Xs(pt.getGF(i)),f=ae.truncDivision(a,i),g=pt.bitsToWords(t,i,f);o.encode(g,f-s);let y=a%i,A=new Ce;A.appendBits(0,y);for(const C of Array.from(g))A.appendBits(C,i);return A}static bitsToWords(t,a,i){let s=new Int32Array(i),o,f;for(o=0,f=t.getSize()/a;o<f;o++){let g=0;for(let y=0;y<a;y++)g|=t.get(o*a+y)?1<<a-y-1:0;s[o]=g}return s}static getGF(t){switch(t){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new _("Unsupported word size "+t)}}static stuffBits(t,a){let i=new Ce,s=t.getSize(),o=(1<<a)-2;for(let f=0;f<s;f+=a){let g=0;for(let y=0;y<a;y++)(f+y>=s||t.get(f+y))&&(g|=1<<a-1-y);(g&o)===o?(i.appendBits(g&o,a),f--):(g&o)===0?(i.appendBits(g|1,a),f--):i.appendBits(g,a)}return i}static totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}pt.DEFAULT_EC_PERCENT=33,pt.DEFAULT_AZTEC_LAYERS=0,pt.MAX_NB_BITS=32,pt.MAX_NB_BITS_COMPACT=4,pt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ls{encode(t,a,i,s){return this.encodeWithHints(t,a,i,s,null)}encodeWithHints(t,a,i,s,o){let f=qs.ISO_8859_1,g=pt.DEFAULT_EC_PERCENT,y=pt.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(ln.CHARACTER_SET)&&(f=Hi.forName(o.get(ln.CHARACTER_SET).toString())),o.has(ln.ERROR_CORRECTION)&&(g=ae.parseInt(o.get(ln.ERROR_CORRECTION).toString())),o.has(ln.AZTEC_LAYERS)&&(y=ae.parseInt(o.get(ln.AZTEC_LAYERS).toString()))),ls.encodeLayers(t,a,i,s,f,g,y)}static encodeLayers(t,a,i,s,o,f,g){if(a!==oe.AZTEC)throw new _("Can only encode AZTEC, but got "+a);let y=pt.encode(ve.getBytes(t,o),f,g);return ls.renderResult(y,i,s)}static renderResult(t,a,i){let s=t.getMatrix();if(s==null)throw new Tt;let o=s.getWidth(),f=s.getHeight(),g=Math.max(a,o),y=Math.max(i,f),A=Math.min(g/o,y/f),C=(g-o*A)/2,O=(y-f*A)/2,I=new st(g,y);for(let k=0,z=O;k<f;k++,z+=A)for(let H=0,W=C;H<o;H++,W+=A)s.get(H,k)&&I.setRegion(W,z,A,A);return I}}c.AbstractExpandedDecoder=bn,c.ArgumentException=M,c.ArithmeticException=At,c.AztecCode=Qs,c.AztecCodeReader=_a,c.AztecCodeWriter=ls,c.AztecDecoder=nt,c.AztecDetector=Oi,c.AztecDetectorResult=Wr,c.AztecEncoder=pt,c.AztecHighLevelEncoder=Xi,c.AztecPoint=cn,c.BarcodeFormat=oe,c.Binarizer=j,c.BinaryBitmap=U,c.BitArray=Ce,c.BitMatrix=st,c.BitSource=ea,c.BrowserAztecCodeReader=js,c.BrowserBarcodeReader=yu,c.BrowserCodeReader=xe,c.BrowserDatamatrixCodeReader=ts,c.BrowserMultiFormatReader=Cu,c.BrowserPDF417Reader=Su,c.BrowserQRCodeReader=vu,c.BrowserQRCodeSvgWriter=ri,c.CharacterSetECI=q,c.ChecksumException=F,c.Code128Reader=Se,c.Code39Reader=rn,c.DataMatrixDecodedBitStreamParser=Sa,c.DataMatrixReader=va,c.DecodeHintType=we,c.DecoderResult=Ge,c.DefaultGridSampler=yr,c.DetectorResult=Ni,c.EAN13Reader=ua,c.EncodeHintType=ln,c.Exception=w,c.FormatException=le,c.GenericGF=ze,c.GenericGFPoly=Qe,c.GlobalHistogramBinarizer=ge,c.GridSampler=xr,c.GridSamplerInstance=Hn,c.HTMLCanvasElementLuminanceSource=R,c.HybridBinarizer=me,c.ITFReader=ht,c.IllegalArgumentException=_,c.IllegalStateException=Tt,c.InvertedLuminanceSource=rt,c.LuminanceSource=ke,c.MathUtils=$e,c.MultiFormatOneDReader=Un,c.MultiFormatReader=Ko,c.MultiFormatWriter=Nu,c.NotFoundException=$,c.OneDReader=_t,c.PDF417DecodedBitStreamParser=re,c.PDF417DecoderErrorCorrection=vr,c.PDF417Reader=yn,c.PDF417ResultMetadata=as,c.PerspectiveTransform=On,c.PlanarYUVLuminanceSource=fa,c.QRCodeByteMatrix=Or,c.QRCodeDataMask=Vn,c.QRCodeDecodedBitStreamParser=Ut,c.QRCodeDecoderErrorCorrectionLevel=ot,c.QRCodeDecoderFormatInformation=fn,c.QRCodeEncoder=Pt,c.QRCodeEncoderQRCode=ii,c.QRCodeMaskUtil=Xt,c.QRCodeMatrixUtil=Xe,c.QRCodeMode=He,c.QRCodeReader=ca,c.QRCodeVersion=Ue,c.QRCodeWriter=ji,c.RGBLuminanceSource=Mr,c.RSS14Reader=Mt,c.RSSExpandedReader=pe,c.ReaderException=Tr,c.ReedSolomonDecoder=Yt,c.ReedSolomonEncoder=Xs,c.ReedSolomonException=Je,c.Result=ue,c.ResultMetadataType=Ne,c.ResultPoint=_e,c.StringUtils=ve,c.UnsupportedOperationException=Re,c.VideoInputDevice=B,c.WhiteRectangleDetector=qt,c.WriterException=It,c.ZXingArrays=ie,c.ZXingCharset=Hi,c.ZXingInteger=ae,c.ZXingStandardCharsets=qs,c.ZXingStringBuilder=Pe,c.ZXingStringEncoding=je,c.ZXingSystem=Q,c.createAbstractExpandedDecoder=ni,Object.defineProperty(c,"__esModule",{value:!0})})}(zo,zo.exports)),zo.exports}var Gt=Q2();const Z2=du(Gt),W2=Nm({__proto__:null,default:Z2},[Gt]);var K0=function(){function d(l,c,h){if(this.formatMap=new Map([[Le.QR_CODE,Gt.BarcodeFormat.QR_CODE],[Le.AZTEC,Gt.BarcodeFormat.AZTEC],[Le.CODABAR,Gt.BarcodeFormat.CODABAR],[Le.CODE_39,Gt.BarcodeFormat.CODE_39],[Le.CODE_93,Gt.BarcodeFormat.CODE_93],[Le.CODE_128,Gt.BarcodeFormat.CODE_128],[Le.DATA_MATRIX,Gt.BarcodeFormat.DATA_MATRIX],[Le.MAXICODE,Gt.BarcodeFormat.MAXICODE],[Le.ITF,Gt.BarcodeFormat.ITF],[Le.EAN_13,Gt.BarcodeFormat.EAN_13],[Le.EAN_8,Gt.BarcodeFormat.EAN_8],[Le.PDF_417,Gt.BarcodeFormat.PDF_417],[Le.RSS_14,Gt.BarcodeFormat.RSS_14],[Le.RSS_EXPANDED,Gt.BarcodeFormat.RSS_EXPANDED],[Le.UPC_A,Gt.BarcodeFormat.UPC_A],[Le.UPC_E,Gt.BarcodeFormat.UPC_E],[Le.UPC_EAN_EXTENSION,Gt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!W2)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=c,this.logger=h;var p=this.createZXingFormats(l),x=new Map;x.set(Gt.DecodeHintType.POSSIBLE_FORMATS,p),x.set(Gt.DecodeHintType.TRY_HARDER,!1),this.hints=x}return d.prototype.decodeAsync=function(l){var c=this;return new Promise(function(h,p){try{h(c.decode(l))}catch(x){p(x)}})},d.prototype.decode=function(l){var c=new Gt.MultiFormatReader(this.verbose,this.hints),h=new Gt.HTMLCanvasElementLuminanceSource(l),p=new Gt.BinaryBitmap(new Gt.HybridBinarizer(h)),x=c.decode(p);return{text:x.text,format:$h.create(this.toHtml5QrcodeSupportedFormats(x.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var l=new Map;return this.formatMap.forEach(function(c,h,p){l.set(c,h)}),l},d.prototype.toHtml5QrcodeSupportedFormats=function(l){if(!this.reverseFormatMap.has(l))throw"reverseFormatMap doesn't have ".concat(l);return this.reverseFormatMap.get(l)},d.prototype.createZXingFormats=function(l){for(var c=[],h=0,p=l;h<p.length;h++){var x=p[h];this.formatMap.has(x)?c.push(this.formatMap.get(x)):this.logger.logError("".concat(x," is not supported by")+"ZXingHtml5QrcodeShim")}return c},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d}(),K2=function(d,l,c,h){function p(x){return x instanceof c?x:new c(function(b){b(x)})}return new(c||(c=Promise))(function(x,b){function v(M){try{w(h.next(M))}catch(_){b(_)}}function S(M){try{w(h.throw(M))}catch(_){b(_)}}function w(M){M.done?x(M.value):p(M.value).then(v,S)}w((h=h.apply(d,l||[])).next())})},J2=function(d,l){var c={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},h,p,x,b;return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(w){return function(M){return S([w,M])}}function S(w){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,w[0]&&(c=0)),c;)try{if(h=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return c.label++,{value:w[1],done:!1};case 5:c.label++,p=w[1],w=[0];continue;case 7:w=c.ops.pop(),c.trys.pop();continue;default:if(x=c.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){c=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){c.label=w[1];break}if(w[0]===6&&c.label<x[1]){c.label=x[1],x=w;break}if(x&&c.label<x[2]){c.label=x[2],c.ops.push(w);break}x[2]&&c.ops.pop(),c.trys.pop();continue}w=l.call(d,c)}catch(M){w=[6,M],p=0}finally{h=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},J0=function(){function d(l,c,h){if(this.formatMap=new Map([[Le.QR_CODE,"qr_code"],[Le.AZTEC,"aztec"],[Le.CODABAR,"codabar"],[Le.CODE_39,"code_39"],[Le.CODE_93,"code_93"],[Le.CODE_128,"code_128"],[Le.DATA_MATRIX,"data_matrix"],[Le.ITF,"itf"],[Le.EAN_13,"ean_13"],[Le.EAN_8,"ean_8"],[Le.PDF_417,"pdf417"],[Le.UPC_A,"upc_a"],[Le.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=c,this.logger=h;var p=this.createBarcodeDetectorFormats(l);if(this.detector=new BarcodeDetector(p),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var l=new BarcodeDetector({formats:["qr_code"]});return typeof l<"u"},d.prototype.decodeAsync=function(l){return K2(this,void 0,void 0,function(){var c,h;return J2(this,function(p){switch(p.label){case 0:return[4,this.detector.detect(l)];case 1:if(c=p.sent(),!c||c.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(c),[2,{text:h.rawValue,format:$h.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(l){for(var c=null,h=0,p=0,x=l;p<x.length;p++){var b=x[p],v=b.boundingBox.width*b.boundingBox.height;v>h&&(h=v,c=b)}if(!c)throw"No largest barcode found";return c},d.prototype.createBarcodeDetectorFormats=function(l){for(var c=[],h=0,p=l;h<p.length;h++){var x=p[h];this.formatMap.has(x)?c.push(this.formatMap.get(x)):this.logger.warn("".concat(x," is not supported by")+"BarcodeDetectorDelegate")}return{formats:c}},d.prototype.toHtml5QrcodeSupportedFormats=function(l){if(!this.reverseFormatMap.has(l))throw"reverseFormatMap doesn't have ".concat(l);return this.reverseFormatMap.get(l)},d.prototype.createReverseFormatMap=function(){var l=new Map;return this.formatMap.forEach(function(c,h,p){l.set(c,h)}),l},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d}(),$0=function(d,l,c,h){function p(x){return x instanceof c?x:new c(function(b){b(x)})}return new(c||(c=Promise))(function(x,b){function v(M){try{w(h.next(M))}catch(_){b(_)}}function S(M){try{w(h.throw(M))}catch(_){b(_)}}function w(M){M.done?x(M.value):p(M.value).then(v,S)}w((h=h.apply(d,l||[])).next())})},eh=function(d,l){var c={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},h,p,x,b;return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(w){return function(M){return S([w,M])}}function S(w){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,w[0]&&(c=0)),c;)try{if(h=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return c.label++,{value:w[1],done:!1};case 5:c.label++,p=w[1],w=[0];continue;case 7:w=c.ops.pop(),c.trys.pop();continue;default:if(x=c.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){c=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){c.label=w[1];break}if(w[0]===6&&c.label<x[1]){c.label=x[1],x=w;break}if(x&&c.label<x[2]){c.label=x[2],c.ops.push(w);break}x[2]&&c.ops.pop(),c.trys.pop();continue}w=l.call(d,c)}catch(M){w=[6,M],p=0}finally{h=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},$2=function(){function d(l,c,h,p){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,c&&J0.isSupported()?(this.primaryDecoder=new J0(l,h,p),this.secondaryDecoder=new K0(l,h,p)):this.primaryDecoder=new K0(l,h,p)}return d.prototype.decodeAsync=function(l){return $0(this,void 0,void 0,function(){var c;return eh(this,function(h){switch(h.label){case 0:c=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(l)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(c),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(l){return $0(this,void 0,void 0,function(){var c,h;return eh(this,function(p){switch(p.label){case 0:c=performance.now(),p.label=1;case 1:return p.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(l)];case 2:return[2,p.sent()];case 3:if(h=p.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(l)];throw h;case 4:return this.possiblyLogPerformance(c),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(l){if(this.verbose){var c=performance.now()-l;this.executionResults.push(c),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var l=0,c=0,h=this.executionResults;c<h.length;c++){var p=h[c];l+=p}var x=l/this.executionResults.length;console.log("".concat(x," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d}(),Pf=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(h[x]=p[x])},d(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),su=function(d,l,c,h){function p(x){return x instanceof c?x:new c(function(b){b(x)})}return new(c||(c=Promise))(function(x,b){function v(M){try{w(h.next(M))}catch(_){b(_)}}function S(M){try{w(h.throw(M))}catch(_){b(_)}}function w(M){M.done?x(M.value):p(M.value).then(v,S)}w((h=h.apply(d,l||[])).next())})},ou=function(d,l){var c={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},h,p,x,b;return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(w){return function(M){return S([w,M])}}function S(w){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,w[0]&&(c=0)),c;)try{if(h=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return c.label++,{value:w[1],done:!1};case 5:c.label++,p=w[1],w=[0];continue;case 7:w=c.ops.pop(),c.trys.pop();continue;default:if(x=c.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){c=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){c.label=w[1];break}if(w[0]===6&&c.label<x[1]){c.label=x[1],x=w;break}if(x&&c.label<x[2]){c.label=x[2],c.ops.push(w);break}x[2]&&c.ops.pop(),c.trys.pop();continue}w=l.call(d,c)}catch(M){w=[6,M],p=0}finally{h=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ag=function(){function d(l,c){this.name=l,this.track=c}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(l){var c={};c[this.name]=l;var h={advanced:[c]};return this.track.applyConstraints(h)},d.prototype.value=function(){var l=this.track.getSettings();if(this.name in l){var c=l[this.name];return c}return null},d}(),ex=function(d){Pf(l,d);function l(c,h){return d.call(this,c,h)||this}return l.prototype.min=function(){return this.getCapabilities().min},l.prototype.max=function(){return this.getCapabilities().max},l.prototype.step=function(){return this.getCapabilities().step},l.prototype.apply=function(c){var h={};h[this.name]=c;var p={advanced:[h]};return this.track.applyConstraints(p)},l.prototype.getCapabilities=function(){this.failIfNotSupported();var c=this.track.getCapabilities(),h=c[this.name];return{min:h.min,max:h.max,step:h.step}},l.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},l}(ag),tx=function(d){Pf(l,d);function l(c){return d.call(this,"zoom",c)||this}return l}(ex),nx=function(d){Pf(l,d);function l(c){return d.call(this,"torch",c)||this}return l}(ag),ax=function(){function d(l){this.track=l}return d.prototype.zoomFeature=function(){return new tx(this.track)},d.prototype.torchFeature=function(){return new nx(this.track)},d}(),ix=function(){function d(l,c,h){this.isClosed=!1,this.parentElement=l,this.mediaStream=c,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),l.append(this.surface)}return d.prototype.createVideoElement=function(l){var c=document.createElement("video");return c.style.width="".concat(l,"px"),c.style.display="block",c.muted=!0,c.setAttribute("muted","true"),c.playsInline=!0,c},d.prototype.setupSurface=function(){var l=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var c=function(){var h=l.surface.clientWidth,p=l.surface.clientHeight;l.callbacks.onRenderSurfaceReady(h,p),l.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(l,c,h,p){return su(this,void 0,void 0,function(){var x,b;return ou(this,function(v){switch(v.label){case 0:return x=new d(l,c,p),h.aspectRatio?(b={aspectRatio:h.aspectRatio},[4,x.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:v.sent(),v.label=2;case 2:return x.setupSurface(),[2,x]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(l){this.failIfClosed();var c=this,h=function(){setTimeout(l,200),c.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(l){return su(this,void 0,void 0,function(){return ou(this,function(c){if("aspectRatio"in l)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(l)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var l=this;return new Promise(function(c,h){var p=l.mediaStream.getVideoTracks(),x=p.length,b=0;l.mediaStream.getVideoTracks().forEach(function(v){l.mediaStream.removeTrack(v),v.stop(),++b,b>=x&&(l.isClosed=!0,l.parentElement.removeChild(l.surface),c())})})},d.prototype.getCapabilities=function(){return new ax(this.getFirstTrackOrFail())},d}(),rx=function(){function d(l){this.mediaStream=l}return d.prototype.render=function(l,c,h){return su(this,void 0,void 0,function(){return ou(this,function(p){return[2,ix.create(l,this.mediaStream,c,h)]})})},d.create=function(l){return su(this,void 0,void 0,function(){var c,h;return ou(this,function(p){switch(p.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return c={audio:!1,video:l},[4,navigator.mediaDevices.getUserMedia(c)];case 1:return h=p.sent(),[2,new d(h)]}})})},d}(),th=function(d,l,c,h){function p(x){return x instanceof c?x:new c(function(b){b(x)})}return new(c||(c=Promise))(function(x,b){function v(M){try{w(h.next(M))}catch(_){b(_)}}function S(M){try{w(h.throw(M))}catch(_){b(_)}}function w(M){M.done?x(M.value):p(M.value).then(v,S)}w((h=h.apply(d,l||[])).next())})},nh=function(d,l){var c={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},h,p,x,b;return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(w){return function(M){return S([w,M])}}function S(w){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,w[0]&&(c=0)),c;)try{if(h=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return c.label++,{value:w[1],done:!1};case 5:c.label++,p=w[1],w=[0];continue;case 7:w=c.ops.pop(),c.trys.pop();continue;default:if(x=c.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){c=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){c.label=w[1];break}if(w[0]===6&&c.label<x[1]){c.label=x[1],x=w;break}if(x&&c.label<x[2]){c.label=x[2],c.ops.push(w);break}x[2]&&c.ops.pop(),c.trys.pop();continue}w=l.call(d,c)}catch(M){w=[6,M],p=0}finally{h=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},sx=function(){function d(){}return d.failIfNotSupported=function(){return th(this,void 0,void 0,function(){return nh(this,function(l){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(l){return th(this,void 0,void 0,function(){return nh(this,function(c){return[2,rx.create(l)]})})},d}(),ox=function(d,l,c,h){function p(x){return x instanceof c?x:new c(function(b){b(x)})}return new(c||(c=Promise))(function(x,b){function v(M){try{w(h.next(M))}catch(_){b(_)}}function S(M){try{w(h.throw(M))}catch(_){b(_)}}function w(M){M.done?x(M.value):p(M.value).then(v,S)}w((h=h.apply(d,l||[])).next())})},lx=function(d,l){var c={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},h,p,x,b;return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(w){return function(M){return S([w,M])}}function S(w){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,w[0]&&(c=0)),c;)try{if(h=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return c.label++,{value:w[1],done:!1};case 5:c.label++,p=w[1],w=[0];continue;case 7:w=c.ops.pop(),c.trys.pop();continue;default:if(x=c.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){c=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){c.label=w[1];break}if(w[0]===6&&c.label<x[1]){c.label=x[1],x=w;break}if(x&&c.label<x[2]){c.label=x[2],c.ops.push(w);break}x[2]&&c.ops.pop(),c.trys.pop();continue}w=l.call(d,c)}catch(M){w=[6,M],p=0}finally{h=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ux=function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var l=MediaStreamTrack;return MediaStreamTrack&&l.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var l=Ps.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(l=Ps.insecureContextCameraQueryError()),Promise.reject(l)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var l=location.host.split(":")[0];return l==="127.0.0.1"||l==="localhost"},d.getCamerasFromMediaDevices=function(){return ox(this,void 0,void 0,function(){var l,c,h,p,x,b,v;return lx(this,function(S){switch(S.label){case 0:return l=function(w){for(var M=w.getVideoTracks(),_=0,U=M;_<U.length;_++){var F=U[_];F.enabled=!1,F.stop(),w.removeTrack(F)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return c=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=S.sent(),p=[],x=0,b=h;x<b.length;x++)v=b[x],v.kind==="videoinput"&&p.push({id:v.deviceId,label:v.label});return l(c),[2,p]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(l,c){var h=function(x){for(var b=[],v=0,S=x;v<S.length;v++){var w=S[v];w.kind==="video"&&b.push({id:w.id,label:w.label})}l(b)},p=MediaStreamTrack;p.getSources(h)})},d}(),an;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(an||(an={}));var cx=function(){function d(){this.state=an.NOT_STARTED,this.onGoingTransactionNewState=an.UNKNOWN}return d.prototype.directTransition=function(l){this.failIfTransitionOngoing(),this.validateTransition(l),this.state=l},d.prototype.startTransition=function(l){return this.failIfTransitionOngoing(),this.validateTransition(l),this.onGoingTransactionNewState=l,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var l=this.onGoingTransactionNewState;this.onGoingTransactionNewState=an.UNKNOWN,this.directTransition(l)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=an.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==an.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(l){switch(this.state){case an.UNKNOWN:throw"Transition from unknown is not allowed";case an.NOT_STARTED:this.failIfNewStateIs(l,[an.PAUSED]);break;case an.SCANNING:break;case an.PAUSED:break}},d.prototype.failIfNewStateIs=function(l,c){for(var h=0,p=c;h<p.length;h++){var x=p[h];if(l===x)throw"Cannot transition from ".concat(this.state," to ").concat(l)}},d}(),fx=function(){function d(l){this.stateManager=l}return d.prototype.startTransition=function(l){return this.stateManager.startTransition(l)},d.prototype.directTransition=function(l){this.stateManager.directTransition(l)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===an.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==an.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===an.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===an.PAUSED},d}(),dx=function(){function d(){}return d.create=function(){return new fx(new cx)},d}(),hx=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(h[x]=p[x])},d(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),sa=function(d){hx(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.DEFAULT_WIDTH=300,l.DEFAULT_WIDTH_OFFSET=2,l.FILE_SCAN_MIN_HEIGHT=300,l.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,l.MIN_QR_BOX_SIZE=50,l.SHADED_LEFT=1,l.SHADED_RIGHT=2,l.SHADED_TOP=3,l.SHADED_BOTTOM=4,l.SHADED_REGION_ELEMENT_ID="qr-shaded-region",l.VERBOSE=!1,l.BORDER_SHADER_DEFAULT_COLOR="#ffffff",l.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",l}(Ra),gx=function(){function d(l,c){this.logger=c,this.fps=sa.SCAN_DEFAULT_FPS,l?(l.fps&&(this.fps=l.fps),this.disableFlip=l.disableFlip===!0,this.qrbox=l.qrbox,this.aspectRatio=l.aspectRatio,this.videoConstraints=l.videoConstraints):this.disableFlip=sa.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ng.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!Wa(this.qrbox)},d.create=function(l,c){return new d(l,c)},d}(),ah=function(){function d(l,c){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(l))throw"HTML Element with id=".concat(l," not found");this.elementId=l,this.verbose=!1;var h;typeof c=="boolean"?this.verbose=c===!0:c&&(h=c,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new tg(this.verbose),this.qrcode=new $2(this.getSupportedFormats(c),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=dx.create()}return d.prototype.start=function(l,c,h,p){var x=this;if(!l)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var b;p?b=p:b=this.verbose?this.logger.log:function(){};var v=gx.create(c,this.logger);this.clearElement();var S=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=S,M=document.getElementById(this.elementId);M.clientWidth?M.clientWidth:sa.DEFAULT_WIDTH,M.style.position="relative",this.shouldScan=!0,this.element=M;var _=this,U=this.stateManagerProxy.startTransition(an.SCANNING);return new Promise(function(F,j){var Q=w?v.videoConstraints:_.createVideoConstraints(l);if(!Q){U.cancel(),j("videoConstraints should be defined");return}var V={};(!w||v.aspectRatio)&&(V.aspectRatio=v.aspectRatio);var K={onRenderSurfaceReady:function(ie,ae){_.setupUi(ie,ae,v),_.isScanning=!0,_.foreverScan(v,h,b)}};sx.failIfNotSupported().then(function(ie){ie.create(Q).then(function(ae){return ae.render(x.element,V,K).then(function(Ce){_.renderedCamera=Ce,U.execute(),F(null)}).catch(function(Ce){U.cancel(),j(Ce)})}).catch(function(ae){U.cancel(),j(Ps.errorGettingUserMedia(ae))})}).catch(function(ie){U.cancel(),j(Ps.cameraStreamingNotSupported())})})},d.prototype.pause=function(l){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(an.PAUSED),this.showPausedState(),(Wa(l)||l!==!0)&&(l=!1),l&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var l=this,c=function(){l.stateManagerProxy.directTransition(an.SCANNING),l.hidePausedState()};if(!this.renderedCamera.isPaused()){c();return}this.renderedCamera.resume(function(){c()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var l=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var c=this.stateManagerProxy.startTransition(an.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(l.element){var x=document.getElementById(sa.SHADED_REGION_ELEMENT_ID);x&&l.element.removeChild(x)}},p=this;return this.renderedCamera.close().then(function(){return p.renderedCamera=null,p.element&&(p.element.removeChild(p.canvasElement),p.canvasElement=null),h(),p.qrRegion&&(p.qrRegion=null),p.context&&(p.context=null),c.execute(),p.hidePausedState(),p.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(l,c){return this.scanFileV2(l,c).then(function(h){return h.decodedText})},d.prototype.scanFileV2=function(l,c){var h=this;if(!l||!(l instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Wa(c)&&(c=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(p,x){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(l);var b=new Image;b.onload=function(){var v=b.width,S=b.height,w=document.getElementById(h.elementId),M=w.clientWidth?w.clientWidth:sa.DEFAULT_WIDTH,_=Math.max(w.clientHeight?w.clientHeight:S,sa.FILE_SCAN_MIN_HEIGHT),U=h.computeCanvasDrawConfig(v,S,M,_);if(c){var F=h.createCanvasElement(M,_,"qr-canvas-visible");F.style.display="inline-block",w.appendChild(F);var j=F.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=M,j.canvas.height=_,j.drawImage(b,0,0,v,S,U.x,U.y,U.width,U.height)}var Q=sa.FILE_SCAN_HIDDEN_CANVAS_PADDING,V=Math.max(b.width,U.width),K=Math.max(b.height,U.height),ie=V+2*Q,ae=K+2*Q,Ce=h.createCanvasElement(ie,ae);w.appendChild(Ce);var Te=Ce.getContext("2d");if(!Te)throw"Unable to get 2d context from canvas";Te.canvas.width=ie,Te.canvas.height=ae,Te.drawImage(b,0,0,v,S,Q,Q,V,K);try{h.qrcode.decodeRobustlyAsync(Ce).then(function(we){p(Q0.createFromQrcodeResult(we))}).catch(x)}catch(we){x("QR code parse error, error = ".concat(we))}},b.onerror=x,b.onabort=x,b.onstalled=x,b.onsuspend=x,b.src=URL.createObjectURL(l)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return ux.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(l){if(l){if(!ng.isMediaStreamConstraintsValid(l,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(l)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(l){var c=[Le.QR_CODE,Le.AZTEC,Le.CODABAR,Le.CODE_39,Le.CODE_93,Le.CODE_128,Le.DATA_MATRIX,Le.MAXICODE,Le.ITF,Le.EAN_13,Le.EAN_8,Le.PDF_417,Le.RSS_14,Le.RSS_EXPANDED,Le.UPC_A,Le.UPC_E,Le.UPC_EAN_EXTENSION];if(!l||typeof l=="boolean"||!l.formatsToSupport)return c;if(!Array.isArray(l.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(l.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],p=0,x=l.formatsToSupport;p<x.length;p++){var b=x[p];Y2(b)?h.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},d.prototype.getUseBarCodeDetectorIfSupported=function(l){if(Wa(l))return!0;if(!Wa(l.useBarCodeDetectorIfSupported))return l.useBarCodeDetectorIfSupported!==!1;if(Wa(l.experimentalFeatures))return!0;var c=l.experimentalFeatures;return Wa(c.useBarCodeDetectorIfSupported)?!0:c.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(l,c,h){var p=this,x=h.qrbox;this.validateQrboxConfig(x);var b=this.toQrdimensions(l,c,x),v=function(w){if(w<sa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(sa.MIN_QR_BOX_SIZE,"px.")},S=function(w){return w>l&&(p.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=l),w};v(b.width),v(b.height),b.width=S(b.width)},d.prototype.validateQrboxConfig=function(l){if(typeof l!="number"&&typeof l!="function"&&(l.width===void 0||l.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(l,c,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(l,c)}catch(p){throw new Error("qrbox config was passed as a function but it failed with unknown error"+p)}return h},d.prototype.setupUi=function(l,c,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(l,c,h);var p=Wa(h.qrbox)?{width:l,height:c}:h.qrbox;this.validateQrboxConfig(p);var x=this.toQrdimensions(l,c,p);x.height>c&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=h.isShadedBoxEnabled()&&x.height<=c,v={x:0,y:0,width:l,height:c},S=b?this.getShadedRegionBounds(l,c,x):v,w=this.createCanvasElement(S.width,S.height),M={willReadFrequently:!0},_=w.getContext("2d",M);_.canvas.width=S.width,_.canvas.height=S.height,this.element.append(w),b&&this.possiblyInsertShadingElement(this.element,l,c,x),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=_,this.canvasElement=w},d.prototype.createScannerPausedUiElement=function(l){var c=document.createElement("div");c.innerText=Ps.scannerPaused(),c.style.display="none",c.style.position="absolute",c.style.top="0px",c.style.zIndex="1",c.style.background="rgba(9, 9, 9, 0.46)",c.style.color="#FFECEC",c.style.textAlign="center",c.style.width="100%",l.appendChild(c),this.scannerPausedUiElement=c},d.prototype.scanContext=function(l,c){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(p){return l(p.text,Q0.createFromQrcodeResult(p)),h.possiblyUpdateShaders(!0),!0}).catch(function(p){h.possiblyUpdateShaders(!1);var x=Ps.codeParseError(p);return c(x,eg.createFrom(x)),!1})},d.prototype.foreverScan=function(l,c,h){var p=this;if(this.shouldScan&&this.renderedCamera){var x=this.renderedCamera.getSurface(),b=x.videoWidth/x.clientWidth,v=x.videoHeight/x.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*b,w=this.qrRegion.height*v,M=this.qrRegion.x*b,_=this.qrRegion.y*v;this.context.drawImage(x,M,_,S,w,0,0,this.qrRegion.width,this.qrRegion.height);var U=function(){p.foreverScanTimeout=setTimeout(function(){p.foreverScan(l,c,h)},p.getTimeoutFps(l.fps))};this.scanContext(c,h).then(function(F){!F&&l.disableFlip!==!0?(p.context.translate(p.context.canvas.width,0),p.context.scale(-1,1),p.scanContext(c,h).finally(function(){U()})):U()}).catch(function(F){p.logger.logError("Error happend while scanning context",F),U()})}},d.prototype.createVideoConstraints=function(l){if(typeof l=="string")return{deviceId:{exact:l}};if(typeof l=="object"){var c="facingMode",h="deviceId",p={user:!0,environment:!0},x="exact",b=function(j){if(j in p)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},v=Object.keys(l);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var S=Object.keys(l)[0];if(S!==c&&S!==h)throw"Only '".concat(c,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(S===c){var w=l.facingMode;if(typeof w=="string"){if(b(w))return{facingMode:w}}else if(typeof w=="object")if(x in w){if(b(w["".concat(x)]))return{facingMode:{exact:w["".concat(x)]}}}else throw"'facingMode' should be string or object with"+" ".concat(x," as key.");else{var M=typeof w;throw"Invalid type of 'facingMode' = ".concat(M)}}else{var _=l.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(x in _)return{deviceId:{exact:_["".concat(x)]}};throw"'deviceId' should be string or object with"+" ".concat(x," as key.")}else{var U=typeof _;throw"Invalid type of 'deviceId' = ".concat(U)}}}var F=typeof l;throw"Invalid type of 'cameraIdOrConfig' = ".concat(F)},d.prototype.computeCanvasDrawConfig=function(l,c,h,p){if(l<=h&&c<=p){var x=(h-l)/2,b=(p-c)/2;return{x,y:b,width:l,height:c}}else{var v=l,S=c;return l>h&&(c=h/l*c,l=h),c>p&&(l=p/c*l,c=p),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(S)+" to ".concat(l,"X").concat(c,".")),this.computeCanvasDrawConfig(l,c,h,p)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var l=document.getElementById(this.elementId);l&&(l.innerHTML="")},d.prototype.possiblyUpdateShaders=function(l){this.qrMatch!==l&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(c){c.style.backgroundColor=l?sa.BORDER_SHADER_MATCH_COLOR:sa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=l)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(l,c,h){var p=l,x=c,b=document.createElement("canvas");return b.style.width="".concat(p,"px"),b.style.height="".concat(x,"px"),b.style.display="none",b.id=Wa(h)?"qr-canvas":h,b},d.prototype.getShadedRegionBounds=function(l,c,h){if(h.width>l||h.height>c)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(l-h.width)/2,y:(c-h.height)/2,width:h.width,height:h.height}},d.prototype.possiblyInsertShadingElement=function(l,c,h,p){if(!(c-p.width<1||h-p.height<1)){var x=document.createElement("div");x.style.position="absolute";var b=(c-p.width)/2,v=(h-p.height)/2;if(x.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),x.style.boxSizing="border-box",x.style.top="0px",x.style.bottom="0px",x.style.left="0px",x.style.right="0px",x.id="".concat(sa.SHADED_REGION_ELEMENT_ID),c-p.width<11||h-p.height<11)this.hasBorderShaders=!1;else{var S=5,w=40;this.insertShaderBorders(x,w,S,-S,null,0,!0),this.insertShaderBorders(x,w,S,-S,null,0,!1),this.insertShaderBorders(x,w,S,null,-S,0,!0),this.insertShaderBorders(x,w,S,null,-S,0,!1),this.insertShaderBorders(x,S,w+S,-S,null,-S,!0),this.insertShaderBorders(x,S,w+S,null,-S,-S,!0),this.insertShaderBorders(x,S,w+S,-S,null,-S,!1),this.insertShaderBorders(x,S,w+S,null,-S,-S,!1),this.hasBorderShaders=!0}l.append(x)}},d.prototype.insertShaderBorders=function(l,c,h,p,x,b,v){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=sa.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(c,"px"),S.style.height="".concat(h,"px"),p!==null&&(S.style.top="".concat(p,"px")),x!==null&&(S.style.bottom="".concat(x,"px")),v?S.style.left="".concat(b,"px"):S.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),l.appendChild(S)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(l){return 1e3/l},d}(),Ff="data:image/svg+xml;base64,",mx=Ff+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",px=Ff+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",ih=Ff+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",xx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",rh=function(){function d(){}return d.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},d}(),yx=function(){function d(){this.data=rh.createDefault();var l=localStorage.getItem(d.LOCAL_STORAGE_KEY);l?this.data=JSON.parse(l):this.reset()}return d.prototype.hasCameraPermissions=function(){return this.data.hasPermission},d.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},d.prototype.setHasPermission=function(l){this.data.hasPermission=l,this.flush()},d.prototype.setLastUsedCameraId=function(l){this.data.lastUsedCameraId=l,this.flush()},d.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},d.prototype.reset=function(){this.data=rh.createDefault(),this.flush()},d.prototype.flush=function(){localStorage.setItem(d.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},d.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",d}(),Ex=function(){function d(){this.infoDiv=document.createElement("div")}return d.prototype.renderInto=function(l){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Z0.poweredBy();var c=document.createElement("a");c.innerText="ScanApp",c.href="https://scanapp.org",c.target="new",c.style.color="white",this.infoDiv.appendChild(c);var h=document.createElement("br"),p=document.createElement("br");this.infoDiv.appendChild(h),this.infoDiv.appendChild(p);var x=document.createElement("a");x.innerText=Z0.reportIssues(),x.href="https://github.com/mebjas/html5-qrcode/issues",x.target="new",x.style.color="white",this.infoDiv.appendChild(x),l.appendChild(this.infoDiv)},d.prototype.show=function(){this.infoDiv.style.display="block"},d.prototype.hide=function(){this.infoDiv.style.display="none"},d}(),Ax=function(){function d(l,c){this.isShowingInfoIcon=!0,this.onTapIn=l,this.onTapOut=c,this.infoIcon=document.createElement("img")}return d.prototype.renderInto=function(l){var c=this;this.infoIcon.alt="Info icon",this.infoIcon.src=ih,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(h){return c.onHoverIn()},this.infoIcon.onmouseout=function(h){return c.onHoverOut()},this.infoIcon.onclick=function(h){return c.onClick()},l.appendChild(this.infoIcon)},d.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},d.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},d.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=xx,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=ih,this.infoIcon.style.opacity="0.6")},d}(),wx=function(){function d(){var l=this;this.infoDiv=new Ex,this.infoIcon=new Ax(function(){l.infoDiv.show()},function(){l.infoDiv.hide()})}return d.prototype.renderInto=function(l){this.infoDiv.renderInto(l),this.infoIcon.renderInto(l)},d}(),bx=function(d,l,c,h){function p(x){return x instanceof c?x:new c(function(b){b(x)})}return new(c||(c=Promise))(function(x,b){function v(M){try{w(h.next(M))}catch(_){b(_)}}function S(M){try{w(h.throw(M))}catch(_){b(_)}}function w(M){M.done?x(M.value):p(M.value).then(v,S)}w((h=h.apply(d,l||[])).next())})},Cx=function(d,l){var c={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},h,p,x,b;return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(w){return function(M){return S([w,M])}}function S(w){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,w[0]&&(c=0)),c;)try{if(h=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return c.label++,{value:w[1],done:!1};case 5:c.label++,p=w[1],w=[0];continue;case 7:w=c.ops.pop(),c.trys.pop();continue;default:if(x=c.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){c=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){c.label=w[1];break}if(w[0]===6&&c.label<x[1]){c.label=x[1],x=w;break}if(x&&c.label<x[2]){c.label=x[2],c.ops.push(w);break}x[2]&&c.ops.pop(),c.trys.pop();continue}w=l.call(d,c)}catch(M){w=[6,M],p=0}finally{h=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},sh=function(){function d(){}return d.hasPermissions=function(){return bx(this,void 0,void 0,function(){var l,c,h,p;return Cx(this,function(x){switch(x.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(l=x.sent(),c=0,h=l;c<h.length;c++)if(p=h[c],p.kind==="videoinput"&&p.label)return[2,!0];return[2,!1]}})})},d}(),hr=function(){function d(l){this.supportedScanTypes=this.validateAndReturnScanTypes(l)}return d.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},d.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},d.prototype.isCameraScanRequired=function(){for(var l=0,c=this.supportedScanTypes;l<c.length;l++){var h=c[l];if(d.isCameraScanType(h))return!0}return!1},d.isCameraScanType=function(l){return l===gr.SCAN_TYPE_CAMERA},d.isFileScanType=function(l){return l===gr.SCAN_TYPE_FILE},d.prototype.validateAndReturnScanTypes=function(l){if(!l||l.length===0)return Ra.DEFAULT_SUPPORTED_SCAN_TYPE;var c=Ra.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(l.length>c)throw"Max ".concat(c," values expected for ")+"supportedScanTypes";for(var h=0,p=l;h<p.length;h++){var x=p[h];if(!Ra.DEFAULT_SUPPORTED_SCAN_TYPE.includes(x))throw"Unsupported scan type ".concat(x)}return l},d}(),la=function(){function d(){}return d.ALL_ELEMENT_CLASS="html5-qrcode-element",d.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",d.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",d.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",d.TORCH_BUTTON_ID="html5-qrcode-button-torch",d.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",d.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",d.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",d.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",d.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",d.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",d}(),Si=function(){function d(){}return d.createElement=function(l,c){var h=document.createElement(l);return h.id=c,h.classList.add(la.ALL_ELEMENT_CLASS),l==="button"&&h.setAttribute("type","button"),h},d}(),ig=function(d,l,c,h){function p(x){return x instanceof c?x:new c(function(b){b(x)})}return new(c||(c=Promise))(function(x,b){function v(M){try{w(h.next(M))}catch(_){b(_)}}function S(M){try{w(h.throw(M))}catch(_){b(_)}}function w(M){M.done?x(M.value):p(M.value).then(v,S)}w((h=h.apply(d,l||[])).next())})},rg=function(d,l){var c={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},h,p,x,b;return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(w){return function(M){return S([w,M])}}function S(w){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,w[0]&&(c=0)),c;)try{if(h=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return c.label++,{value:w[1],done:!1};case 5:c.label++,p=w[1],w=[0];continue;case 7:w=c.ops.pop(),c.trys.pop();continue;default:if(x=c.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){c=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){c.label=w[1];break}if(w[0]===6&&c.label<x[1]){c.label=x[1],x=w;break}if(x&&c.label<x[2]){c.label=x[2],c.ops.push(w);break}x[2]&&c.ops.pop(),c.trys.pop();continue}w=l.call(d,c)}catch(M){w=[6,M],p=0}finally{h=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},oh=function(){function d(l,c,h){this.isTorchOn=!1,this.torchCapability=l,this.buttonController=c,this.onTorchActionFailureCallback=h}return d.prototype.isTorchEnabled=function(){return this.isTorchOn},d.prototype.flipState=function(){return ig(this,void 0,void 0,function(){var l,c;return rg(this,function(h){switch(h.label){case 0:this.buttonController.disable(),l=!this.isTorchOn,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.torchCapability.apply(l)];case 2:return h.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),l),[3,4];case 3:return c=h.sent(),this.propagateFailure(l,c),this.buttonController.enable(),[3,4];case 4:return[2]}})})},d.prototype.updateUiBasedOnLatestSettings=function(l,c){l===c?(this.buttonController.setText(c?Dt.torchOffButton():Dt.torchOnButton()),this.isTorchOn=c):this.propagateFailure(c),this.buttonController.enable()},d.prototype.propagateFailure=function(l,c){var h=l?Dt.torchOnFailedMessage():Dt.torchOffFailedMessage();c&&(h+="; Error = "+c),this.onTorchActionFailureCallback(h)},d.prototype.reset=function(){this.isTorchOn=!1},d}(),Sx=function(){function d(l,c){this.onTorchActionFailureCallback=c,this.torchButton=Si.createElement("button",la.TORCH_BUTTON_ID),this.torchController=new oh(l,this,c)}return d.prototype.render=function(l,c){var h=this;this.torchButton.innerText=Dt.torchOnButton(),this.torchButton.style.display=c.display,this.torchButton.style.marginLeft=c.marginLeft;var p=this;this.torchButton.addEventListener("click",function(x){return ig(h,void 0,void 0,function(){return rg(this,function(b){switch(b.label){case 0:return[4,p.torchController.flipState()];case 1:return b.sent(),p.torchController.isTorchEnabled()?(p.torchButton.classList.remove(la.TORCH_BUTTON_CLASS_TORCH_OFF),p.torchButton.classList.add(la.TORCH_BUTTON_CLASS_TORCH_ON)):(p.torchButton.classList.remove(la.TORCH_BUTTON_CLASS_TORCH_ON),p.torchButton.classList.add(la.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),l.appendChild(this.torchButton)},d.prototype.updateTorchCapability=function(l){this.torchController=new oh(l,this,this.onTorchActionFailureCallback)},d.prototype.getTorchButton=function(){return this.torchButton},d.prototype.hide=function(){this.torchButton.style.display="none"},d.prototype.show=function(){this.torchButton.style.display="inline-block"},d.prototype.disable=function(){this.torchButton.disabled=!0},d.prototype.enable=function(){this.torchButton.disabled=!1},d.prototype.setText=function(l){this.torchButton.innerText=l},d.prototype.reset=function(){this.torchButton.innerText=Dt.torchOnButton(),this.torchController.reset()},d.create=function(l,c,h,p){var x=new d(c,p);return x.render(l,h),x},d}(),vx=function(){function d(l,c,h){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=c?"block":"none",l.appendChild(this.fileBasedScanRegion);var p=document.createElement("label");p.setAttribute("for",this.getFileScanInputId()),p.style.display="inline-block",this.fileBasedScanRegion.appendChild(p),this.fileSelectionButton=Si.createElement("button",la.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(v){p.click()}),p.append(this.fileSelectionButton),this.fileScanInput=Si.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",p.appendChild(this.fileScanInput);var x=this;this.fileScanInput.addEventListener("change",function(v){if(!(v==null||v.target==null)){var S=v.target;if(!(S.files&&S.files.length===0)){var w=S.files,M=w[0],_=M.name;x.setImageNameToButton(_),h(M)}}});var b=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(b),this.fileBasedScanRegion.addEventListener("dragenter",function(v){x.fileBasedScanRegion.style.border=x.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(v){x.fileBasedScanRegion.style.border=x.fileBasedScanRegionDefaultBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(v){x.fileBasedScanRegion.style.border=x.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(v){v.stopPropagation(),v.preventDefault(),x.fileBasedScanRegion.style.border=x.fileBasedScanRegionDefaultBorder();var S=v.dataTransfer;if(S){var w=S.files;if(!w||w.length===0)return;for(var M=!1,_=0;_<w.length;++_){var U=w.item(_);if(U){var F=/image.*/;if(U.type.match(F)){M=!0;var j=U.name;x.setImageNameToButton(j),h(U),b.innerText=Dt.dragAndDropMessage();break}}}M||(b.innerText=Dt.dragAndDropMessageOnlyImages())}})}return d.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},d.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},d.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},d.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},d.prototype.createFileBasedScanRegion=function(){var l=document.createElement("div");return l.style.textAlign="center",l.style.margin="auto",l.style.width="80%",l.style.maxWidth="600px",l.style.border=this.fileBasedScanRegionDefaultBorder(),l.style.padding="10px",l.style.marginBottom="10px",l},d.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},d.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},d.prototype.createDragAndDropMessage=function(){var l=document.createElement("div");return l.innerText=Dt.dragAndDropMessage(),l.style.fontWeight="400",l},d.prototype.setImageNameToButton=function(l){var c=20;if(l.length>c){var h=l.substring(0,8),p=l.length,x=l.substring(p-8,p);l="".concat(h,"....").concat(x)}var b=Dt.fileSelectionChooseAnother()+" - "+l;this.fileSelectionButton.innerText=b},d.prototype.setInitialValueToButton=function(){var l=Dt.fileSelectionChooseImage()+" - "+Dt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=l},d.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},d.create=function(l,c,h){var p=new d(l,c,h);return p},d}(),Tx=function(){function d(l){this.selectElement=Si.createElement("select",la.CAMERA_SELECTION_SELECT_ID),this.cameras=l,this.options=[]}return d.prototype.render=function(l){var c=document.createElement("span");c.style.marginRight="10px";var h=this.cameras.length;if(h===0)throw new Error("No cameras found");if(h===1)c.style.display="none";else{var p=Dt.selectCamera();c.innerText="".concat(p," (").concat(this.cameras.length,")  ")}for(var x=1,b=0,v=this.cameras;b<v.length;b++){var S=v[b],w=S.id,M=S.label==null?w:S.label;(!M||M==="")&&(M=[Dt.anonymousCameraPrefix(),x++].join(" "));var _=document.createElement("option");_.value=w,_.innerText=M,this.options.push(_),this.selectElement.appendChild(_)}c.appendChild(this.selectElement),l.appendChild(c)},d.prototype.disable=function(){this.selectElement.disabled=!0},d.prototype.isDisabled=function(){return this.selectElement.disabled===!0},d.prototype.enable=function(){this.selectElement.disabled=!1},d.prototype.getValue=function(){return this.selectElement.value},d.prototype.hasValue=function(l){for(var c=0,h=this.options;c<h.length;c++){var p=h[c];if(p.value===l)return!0}return!1},d.prototype.setValue=function(l){if(!this.hasValue(l))throw new Error("".concat(l," is not present in the camera list."));this.selectElement.value=l},d.prototype.hasSingleItem=function(){return this.cameras.length===1},d.prototype.numCameras=function(){return this.cameras.length},d.create=function(l,c){var h=new d(c);return h.render(l),h},d}(),Nx=function(){function d(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Si.createElement("input",la.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return d.prototype.render=function(l,c){this.zoomElementContainer.style.display=c?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",l.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var h=Dt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(h),this.rangeText.style.marginRight="10px";var p=this;this.rangeInput.addEventListener("input",function(){return p.onValueChange()}),this.rangeInput.addEventListener("change",function(){return p.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},d.prototype.onValueChange=function(){var l=Dt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(l),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},d.prototype.setValues=function(l,c,h,p){this.rangeInput.min=l.toString(),this.rangeInput.max=c.toString(),this.rangeInput.step=p.toString(),this.rangeInput.value=h.toString(),this.onValueChange()},d.prototype.show=function(){this.zoomElementContainer.style.display="block"},d.prototype.hide=function(){this.zoomElementContainer.style.display="none"},d.prototype.setOnCameraZoomValueChangeCallback=function(l){this.onChangeCallback=l},d.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},d.create=function(l,c){var h=new d;return h.render(l,c),h},d}(),oa;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(oa||(oa={}));function Ox(d){return{fps:d.fps,qrbox:d.qrbox,aspectRatio:d.aspectRatio,disableFlip:d.disableFlip,videoConstraints:d.videoConstraints}}function Mx(d,l){return{formatsToSupport:d.formatsToSupport,useBarCodeDetectorIfSupported:d.useBarCodeDetectorIfSupported,experimentalFeatures:d.experimentalFeatures,verbose:l}}var Ix=function(){function d(l,c,h){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=l,this.config=this.createConfig(c),this.verbose=h===!0,!document.getElementById(l))throw"HTML Element with id=".concat(l," not found");this.scanTypeSelector=new hr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new tg(this.verbose),this.persistedDataManager=new yx,c.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return d.prototype.render=function(l,c){var h=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(x,b){if(l)l(x,b);else{if(h.lastMatchFound===x)return;h.lastMatchFound=x,h.setHeaderMessage(Dt.lastMatch(x),oa.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(x,b){c&&c(x,b)};var p=document.getElementById(this.elementId);if(!p)throw"HTML Element with id=".concat(this.elementId," not found");p.innerHTML="",this.createBasicLayout(p),this.html5Qrcode=new ah(this.getScanRegionId(),Mx(this.config,this.verbose))},d.prototype.pause=function(l){(Wa(l)||l!==!0)&&(l=!1),this.getHtml5QrcodeOrFail().pause(l)},d.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},d.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},d.prototype.clear=function(){var l=this,c=function(){var h=document.getElementById(l.elementId);h&&(h.innerHTML="",l.resetBasicLayout(h))};return this.html5Qrcode?new Promise(function(h,p){if(!l.html5Qrcode){h();return}l.html5Qrcode.isScanning?l.html5Qrcode.stop().then(function(x){if(!l.html5Qrcode){h();return}l.html5Qrcode.clear(),c(),h()}).catch(function(x){l.verbose&&l.logger.logError("Unable to stop qrcode scanner",x),p(x)}):(l.html5Qrcode.clear(),c(),h())}):Promise.resolve()},d.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},d.prototype.applyVideoConstraints=function(l){return this.getHtml5QrcodeOrFail().applyVideoConstraints(l)},d.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},d.prototype.createConfig=function(l){return l?(l.fps||(l.fps=Ra.SCAN_DEFAULT_FPS),l.rememberLastUsedCamera!==!Ra.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(l.rememberLastUsedCamera=Ra.DEFAULT_REMEMBER_LAST_CAMERA_USED),l.supportedScanTypes||(l.supportedScanTypes=Ra.DEFAULT_SUPPORTED_SCAN_TYPE),l):{fps:Ra.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ra.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ra.DEFAULT_SUPPORTED_SCAN_TYPE}},d.prototype.createBasicLayout=function(l){l.style.position="relative",l.style.padding="0px",l.style.border="1px solid silver",this.createHeader(l);var c=document.createElement("div"),h=this.getScanRegionId();c.id=h,c.style.width="100%",c.style.minHeight="100px",c.style.textAlign="center",l.appendChild(c),hr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var p=document.createElement("div"),x=this.getDashboardId();p.id=x,p.style.width="100%",l.appendChild(p),this.setupInitialDashboard(p)},d.prototype.resetBasicLayout=function(l){l.style.border="none"},d.prototype.setupInitialDashboard=function(l){this.createSection(l),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},d.prototype.createHeader=function(l){var c=document.createElement("div");c.style.textAlign="left",c.style.margin="0px",l.appendChild(c);var h=new wx;h.renderInto(c);var p=document.createElement("div");p.id=this.getHeaderMessageContainerId(),p.style.display="none",p.style.textAlign="center",p.style.fontSize="14px",p.style.padding="2px 10px",p.style.margin="4px",p.style.borderTop="1px solid #f6f6f6",c.appendChild(p)},d.prototype.createSection=function(l){var c=document.createElement("div");c.id=this.getDashboardSectionId(),c.style.width="100%",c.style.padding="10px 0px 10px 0px",c.style.textAlign="left",l.appendChild(c)},d.prototype.createCameraListUi=function(l,c,h){var p=this;p.showHideScanTypeSwapLink(!1),p.setHeaderMessage(Dt.cameraPermissionRequesting());var x=function(){h||p.createPermissionButton(l,c)};ah.getCameras().then(function(b){p.persistedDataManager.setHasPermission(!0),p.showHideScanTypeSwapLink(!0),p.resetHeaderMessage(),b&&b.length>0?(l.removeChild(c),p.renderCameraSelection(b)):(p.setHeaderMessage(Dt.noCameraFound(),oa.STATUS_WARNING),x())}).catch(function(b){p.persistedDataManager.setHasPermission(!1),h?h.disabled=!1:x(),p.setHeaderMessage(b,oa.STATUS_WARNING),p.showHideScanTypeSwapLink(!0)})},d.prototype.createPermissionButton=function(l,c){var h=this,p=Si.createElement("button",this.getCameraPermissionButtonId());p.innerText=Dt.cameraPermissionTitle(),p.addEventListener("click",function(){p.disabled=!0,h.createCameraListUi(l,c,p)}),c.appendChild(p)},d.prototype.createPermissionsUi=function(l,c){var h=this;if(hr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){sh.hasPermissions().then(function(p){p?h.createCameraListUi(l,c):(h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(l,c))}).catch(function(p){h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(l,c)});return}this.createPermissionButton(l,c)},d.prototype.createSectionControlPanel=function(){var l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");l.appendChild(c);var h=document.createElement("div");h.id=this.getDashboardSectionCameraScanRegionId(),h.style.display=hr.isCameraScanType(this.currentScanType)?"block":"none",c.appendChild(h);var p=document.createElement("div");p.style.textAlign="center",h.appendChild(p),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(h,p),this.renderFileScanUi(c)},d.prototype.renderFileScanUi=function(l){var c=hr.isFileScanType(this.currentScanType),h=this,p=function(x){if(!h.html5Qrcode)throw"html5Qrcode not defined";hr.isFileScanType(h.currentScanType)&&(h.setHeaderMessage(Dt.loadingImage()),h.html5Qrcode.scanFileV2(x,!0).then(function(b){h.resetHeaderMessage(),h.qrCodeSuccessCallback(b.decodedText,b)}).catch(function(b){h.setHeaderMessage(b,oa.STATUS_WARNING),h.qrCodeErrorCallback(b,eg.createFrom(b))}))};this.fileSelectionUi=vx.create(l,c,p)},d.prototype.renderCameraSelection=function(l){var c=this,h=this,p=document.getElementById(this.getDashboardSectionCameraScanRegionId());p.style.textAlign="center";var x=Nx.create(p,!1),b=function(Q){var V=Q.zoomFeature();if(V.isSupported()){x.setOnCameraZoomValueChangeCallback(function(ie){V.apply(ie)});var K=1;c.config.defaultZoomValueIfSupported&&(K=c.config.defaultZoomValueIfSupported),K=X2(K,V.min(),V.max()),x.setValues(V.min(),V.max(),K,V.step()),x.show()}},v=Tx.create(p,l),S=document.createElement("span"),w=Si.createElement("button",la.CAMERA_START_BUTTON_ID);w.innerText=Dt.scanButtonStartScanningText(),S.appendChild(w);var M=Si.createElement("button",la.CAMERA_STOP_BUTTON_ID);M.innerText=Dt.scanButtonStopScanningText(),M.style.display="none",M.disabled=!0,S.appendChild(M);var _,U=function(Q){if(!Q.torchFeature().isSupported()){_&&_.hide();return}_?_.updateTorchCapability(Q.torchFeature()):_=Sx.create(S,Q.torchFeature(),{display:"none",marginLeft:"5px"},function(V){h.setHeaderMessage(V,oa.STATUS_WARNING)}),_.show()};p.appendChild(S);var F=function(Q){Q||(w.style.display="none"),w.innerText=Dt.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,Q&&(w.style.display="inline-block")};if(w.addEventListener("click",function(Q){w.innerText=Dt.scanButtonScanningStarting(),v.disable(),w.disabled=!0,w.style.opacity="0.5",c.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!1),h.resetHeaderMessage();var V=v.getValue();h.persistedDataManager.setLastUsedCameraId(V),h.html5Qrcode.start(V,Ox(h.config),h.qrCodeSuccessCallback,h.qrCodeErrorCallback).then(function(K){M.disabled=!1,M.style.display="inline-block",F(!1);var ie=h.html5Qrcode.getRunningTrackCameraCapabilities();c.config.showTorchButtonIfSupported===!0&&U(ie),c.config.showZoomSliderIfSupported===!0&&b(ie)}).catch(function(K){h.showHideScanTypeSwapLink(!0),v.enable(),F(!0),h.setHeaderMessage(K,oa.STATUS_WARNING)})}),v.hasSingleItem()&&w.click(),M.addEventListener("click",function(Q){if(!h.html5Qrcode)throw"html5Qrcode not defined";M.disabled=!0,h.html5Qrcode.stop().then(function(V){c.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!0),v.enable(),w.disabled=!1,M.style.display="none",w.style.display="inline-block",_&&(_.reset(),_.hide()),x.removeOnCameraZoomValueChangeCallback(),x.hide(),h.insertCameraScanImageToScanRegion()}).catch(function(V){M.disabled=!1,h.setHeaderMessage(V,oa.STATUS_WARNING)})}),h.persistedDataManager.getLastUsedCameraId()){var j=h.persistedDataManager.getLastUsedCameraId();v.hasValue(j)?(v.setValue(j),w.click()):h.persistedDataManager.resetLastUsedCameraId()}},d.prototype.createSectionSwap=function(){var l=this,c=Dt.textIfCameraScanSelected(),h=Dt.textIfFileScanSelected(),p=document.getElementById(this.getDashboardSectionId()),x=document.createElement("div");x.style.textAlign="center";var b=Si.createElement("span",this.getDashboardSectionSwapLinkId());b.style.textDecoration="underline",b.style.cursor="pointer",b.innerText=hr.isCameraScanType(this.currentScanType)?c:h,b.addEventListener("click",function(){if(!l.sectionSwapAllowed){l.verbose&&l.logger.logError("Section swap called when not allowed");return}l.resetHeaderMessage(),l.fileSelectionUi.resetValue(),l.sectionSwapAllowed=!1,hr.isCameraScanType(l.currentScanType)?(l.clearScanRegion(),l.getCameraScanRegion().style.display="none",l.fileSelectionUi.show(),b.innerText=h,l.currentScanType=gr.SCAN_TYPE_FILE,l.insertFileScanImageToScanRegion()):(l.clearScanRegion(),l.getCameraScanRegion().style.display="block",l.fileSelectionUi.hide(),b.innerText=c,l.currentScanType=gr.SCAN_TYPE_CAMERA,l.insertCameraScanImageToScanRegion(),l.startCameraScanIfPermissionExistsOnSwap()),l.sectionSwapAllowed=!0}),x.appendChild(b),p.appendChild(x)},d.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var l=this,c=this;if(this.persistedDataManager.hasCameraPermissions()){sh.hasPermissions().then(function(h){if(h){var p=document.getElementById(c.getCameraPermissionButtonId());if(!p)throw l.logger.logError("Permission button not found, fail;"),"Permission button not found";p.click()}else c.persistedDataManager.setHasPermission(!1)}).catch(function(h){c.persistedDataManager.setHasPermission(!1)});return}},d.prototype.resetHeaderMessage=function(){var l=document.getElementById(this.getHeaderMessageContainerId());l.style.display="none"},d.prototype.setHeaderMessage=function(l,c){c||(c=oa.STATUS_DEFAULT);var h=this.getHeaderMessageDiv();switch(h.innerText=l,h.style.display="block",c){case oa.STATUS_SUCCESS:h.style.background="rgba(106, 175, 80, 0.26)",h.style.color="#477735";break;case oa.STATUS_WARNING:h.style.background="rgba(203, 36, 49, 0.14)",h.style.color="#cb2431";break;case oa.STATUS_DEFAULT:default:h.style.background="rgba(0, 0, 0, 0)",h.style.color="rgb(17, 17, 17)";break}},d.prototype.showHideScanTypeSwapLink=function(l){this.scanTypeSelector.hasMoreThanOneScanType()&&(l!==!0&&(l=!1),this.sectionSwapAllowed=l,this.getDashboardSectionSwapLink().style.display=l?"inline-block":"none")},d.prototype.insertCameraScanImageToScanRegion=function(){var l=this,c=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){c.innerHTML="<br>",c.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(h){c.innerHTML="<br>",c.appendChild(l.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=mx,this.cameraScanImage.alt=Dt.cameraScanAltText()},d.prototype.insertFileScanImageToScanRegion=function(){var l=this,c=document.getElementById(this.getScanRegionId());if(this.fileScanImage){c.innerHTML="<br>",c.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(h){c.innerHTML="<br>",c.appendChild(l.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=px,this.fileScanImage.alt=Dt.fileScanAltText()},d.prototype.clearScanRegion=function(){var l=document.getElementById(this.getScanRegionId());l.innerHTML=""},d.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},d.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},d.prototype.getDashboardSectionSwapLinkId=function(){return la.SCAN_TYPE_CHANGE_ANCHOR_ID},d.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},d.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},d.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},d.prototype.getCameraPermissionButtonId=function(){return la.CAMERA_PERMISSION_BUTTON_ID},d.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},d.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},d.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},d}(),zf={};(function d(l,c,h,p){var x=!!(l.Worker&&l.Blob&&l.Promise&&l.OffscreenCanvas&&l.OffscreenCanvasRenderingContext2D&&l.HTMLCanvasElement&&l.HTMLCanvasElement.prototype.transferControlToOffscreen&&l.URL&&l.URL.createObjectURL),b=typeof Path2D=="function"&&typeof DOMMatrix=="function",v=function(){if(!l.OffscreenCanvas)return!1;var R=new OffscreenCanvas(1,1),B=R.getContext("2d");B.fillRect(0,0,1,1);var fe=R.transferToImageBitmap();try{B.createPattern(fe,"no-repeat")}catch{return!1}return!0}();function S(){}function w(R){var B=c.exports.Promise,fe=B!==void 0?B:l.Promise;return typeof fe=="function"?new fe(R):(R(S,S),null)}var M=function(R,B){return{transform:function(fe){if(R)return fe;if(B.has(fe))return B.get(fe);var xe=new OffscreenCanvas(fe.width,fe.height),ue=xe.getContext("2d");return ue.drawImage(fe,0,0),B.set(fe,xe),xe},clear:function(){B.clear()}}}(v,new Map),_=function(){var R=Math.floor(16.666666666666668),B,fe,xe={},ue=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(B=function(Me){var oe=Math.random();return xe[oe]=requestAnimationFrame(function De(Ne){ue===Ne||ue+R-1<Ne?(ue=Ne,delete xe[oe],Me()):xe[oe]=requestAnimationFrame(De)}),oe},fe=function(Me){xe[Me]&&cancelAnimationFrame(xe[Me])}):(B=function(Me){return setTimeout(Me,R)},fe=function(Me){return clearTimeout(Me)}),{frame:B,cancel:fe}}(),U=function(){var R,B,fe={};function xe(ue){function Me(oe,De){ue.postMessage({options:oe||{},callback:De})}ue.init=function(De){var Ne=De.transferControlToOffscreen();ue.postMessage({canvas:Ne},[Ne])},ue.fire=function(De,Ne,Ge){if(B)return Me(De,null),B;var Ye=Math.random().toString(36).slice(2);return B=w(function(Qe){function At(ze){ze.data.callback===Ye&&(delete fe[Ye],ue.removeEventListener("message",At),B=null,M.clear(),Ge(),Qe())}ue.addEventListener("message",At),Me(De,Ye),fe[Ye]=At.bind(null,{data:{callback:Ye}})}),B},ue.reset=function(){ue.postMessage({reset:!0});for(var De in fe)fe[De](),delete fe[De]}}return function(){if(R)return R;if(!h&&x){var ue=["var CONFETTI, SIZE = {}, module = {};","("+d.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{R=new Worker(URL.createObjectURL(new Blob([ue])))}catch(Me){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",Me),null}xe(R)}return R}}(),F={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(R,B){return B?B(R):R}function Q(R){return R!=null}function V(R,B,fe){return j(R&&Q(R[B])?R[B]:F[B],fe)}function K(R){return R<0?0:Math.floor(R)}function ie(R,B){return Math.floor(Math.random()*(B-R))+R}function ae(R){return parseInt(R,16)}function Ce(R){return R.map(Te)}function Te(R){var B=String(R).replace(/[^0-9a-f]/gi,"");return B.length<6&&(B=B[0]+B[0]+B[1]+B[1]+B[2]+B[2]),{r:ae(B.substring(0,2)),g:ae(B.substring(2,4)),b:ae(B.substring(4,6))}}function we(R){var B=V(R,"origin",Object);return B.x=V(B,"x",Number),B.y=V(B,"y",Number),B}function le(R){R.width=document.documentElement.clientWidth,R.height=document.documentElement.clientHeight}function Oe(R){var B=R.getBoundingClientRect();R.width=B.width,R.height=B.height}function q(R){var B=document.createElement("canvas");return B.style.position="fixed",B.style.top="0px",B.style.left="0px",B.style.pointerEvents="none",B.style.zIndex=R,B}function Re(R,B,fe,xe,ue,Me,oe,De,Ne){R.save(),R.translate(B,fe),R.rotate(Me),R.scale(xe,ue),R.arc(0,0,1,oe,De,Ne),R.restore()}function je(R){var B=R.angle*(Math.PI/180),fe=R.spread*(Math.PI/180);return{x:R.x,y:R.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:R.startVelocity*.5+Math.random()*R.startVelocity,angle2D:-B+(.5*fe-Math.random()*fe),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:R.color,shape:R.shape,tick:0,totalTicks:R.ticks,decay:R.decay,drift:R.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:R.gravity*3,ovalScalar:.6,scalar:R.scalar,flat:R.flat}}function ve(R,B){B.x+=Math.cos(B.angle2D)*B.velocity+B.drift,B.y+=Math.sin(B.angle2D)*B.velocity+B.gravity,B.velocity*=B.decay,B.flat?(B.wobble=0,B.wobbleX=B.x+10*B.scalar,B.wobbleY=B.y+10*B.scalar,B.tiltSin=0,B.tiltCos=0,B.random=1):(B.wobble+=B.wobbleSpeed,B.wobbleX=B.x+10*B.scalar*Math.cos(B.wobble),B.wobbleY=B.y+10*B.scalar*Math.sin(B.wobble),B.tiltAngle+=.1,B.tiltSin=Math.sin(B.tiltAngle),B.tiltCos=Math.cos(B.tiltAngle),B.random=Math.random()+2);var fe=B.tick++/B.totalTicks,xe=B.x+B.random*B.tiltCos,ue=B.y+B.random*B.tiltSin,Me=B.wobbleX+B.random*B.tiltCos,oe=B.wobbleY+B.random*B.tiltSin;if(R.fillStyle="rgba("+B.color.r+", "+B.color.g+", "+B.color.b+", "+(1-fe)+")",R.beginPath(),b&&B.shape.type==="path"&&typeof B.shape.path=="string"&&Array.isArray(B.shape.matrix))R.fill(me(B.shape.path,B.shape.matrix,B.x,B.y,Math.abs(Me-xe)*.1,Math.abs(oe-ue)*.1,Math.PI/10*B.wobble));else if(B.shape.type==="bitmap"){var De=Math.PI/10*B.wobble,Ne=Math.abs(Me-xe)*.1,Ge=Math.abs(oe-ue)*.1,Ye=B.shape.bitmap.width*B.scalar,Qe=B.shape.bitmap.height*B.scalar,At=new DOMMatrix([Math.cos(De)*Ne,Math.sin(De)*Ne,-Math.sin(De)*Ge,Math.cos(De)*Ge,B.x,B.y]);At.multiplySelf(new DOMMatrix(B.shape.matrix));var ze=R.createPattern(M.transform(B.shape.bitmap),"no-repeat");ze.setTransform(At),R.globalAlpha=1-fe,R.fillStyle=ze,R.fillRect(B.x-Ye/2,B.y-Qe/2,Ye,Qe),R.globalAlpha=1}else if(B.shape==="circle")R.ellipse?R.ellipse(B.x,B.y,Math.abs(Me-xe)*B.ovalScalar,Math.abs(oe-ue)*B.ovalScalar,Math.PI/10*B.wobble,0,2*Math.PI):Re(R,B.x,B.y,Math.abs(Me-xe)*B.ovalScalar,Math.abs(oe-ue)*B.ovalScalar,Math.PI/10*B.wobble,0,2*Math.PI);else if(B.shape==="star")for(var Je=Math.PI/2*3,Tt=4*B.scalar,Yt=8*B.scalar,wt=B.x,nt=B.y,$e=5,pn=Math.PI/$e;$e--;)wt=B.x+Math.cos(Je)*Yt,nt=B.y+Math.sin(Je)*Yt,R.lineTo(wt,nt),Je+=pn,wt=B.x+Math.cos(Je)*Tt,nt=B.y+Math.sin(Je)*Tt,R.lineTo(wt,nt),Je+=pn;else R.moveTo(Math.floor(B.x),Math.floor(B.y)),R.lineTo(Math.floor(B.wobbleX),Math.floor(ue)),R.lineTo(Math.floor(Me),Math.floor(oe)),R.lineTo(Math.floor(xe),Math.floor(B.wobbleY));return R.closePath(),R.fill(),B.tick<B.totalTicks}function Pe(R,B,fe,xe,ue){var Me=B.slice(),oe=R.getContext("2d"),De,Ne,Ge=w(function(Ye){function Qe(){De=Ne=null,oe.clearRect(0,0,xe.width,xe.height),M.clear(),ue(),Ye()}function At(){h&&!(xe.width===p.width&&xe.height===p.height)&&(xe.width=R.width=p.width,xe.height=R.height=p.height),!xe.width&&!xe.height&&(fe(R),xe.width=R.width,xe.height=R.height),oe.clearRect(0,0,xe.width,xe.height),Me=Me.filter(function(ze){return ve(oe,ze)}),Me.length?De=_.frame(At):Qe()}De=_.frame(At),Ne=Qe});return{addFettis:function(Ye){return Me=Me.concat(Ye),Ge},canvas:R,promise:Ge,reset:function(){De&&_.cancel(De),Ne&&Ne()}}}function st(R,B){var fe=!R,xe=!!V(B||{},"resize"),ue=!1,Me=V(B,"disableForReducedMotion",Boolean),oe=x&&!!V(B||{},"useWorker"),De=oe?U():null,Ne=fe?le:Oe,Ge=R&&De?!!R.__confetti_initialized:!1,Ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Qe;function At(Je,Tt,Yt){for(var wt=V(Je,"particleCount",K),nt=V(Je,"angle",Number),$e=V(Je,"spread",Number),pn=V(Je,"startVelocity",Number),_e=V(Je,"decay",Number),Ni=V(Je,"gravity",Number),Wr=V(Je,"drift",Number),qt=V(Je,"colors",Ce),xr=V(Je,"ticks",Number),On=V(Je,"shapes"),yr=V(Je,"scalar"),Hn=!!V(Je,"flat"),cn=we(Je),Oi=wt,_a=[],js=R.width*cn.x,_t=R.height*cn.y;Oi--;)_a.push(je({x:js,y:_t,angle:nt,spread:$e,startVelocity:pn,color:qt[Oi%qt.length],shape:On[ie(0,On.length)],ticks:xr,decay:_e,gravity:Ni,drift:Wr,scalar:yr,flat:Hn}));return Qe?Qe.addFettis(_a):(Qe=Pe(R,_a,Ne,Tt,Yt),Qe.promise)}function ze(Je){var Tt=Me||V(Je,"disableForReducedMotion",Boolean),Yt=V(Je,"zIndex",Number);if(Tt&&Ye)return w(function(pn){pn()});fe&&Qe?R=Qe.canvas:fe&&!R&&(R=q(Yt),document.body.appendChild(R)),xe&&!Ge&&Ne(R);var wt={width:R.width,height:R.height};De&&!Ge&&De.init(R),Ge=!0,De&&(R.__confetti_initialized=!0);function nt(){if(De){var pn={getBoundingClientRect:function(){if(!fe)return R.getBoundingClientRect()}};Ne(pn),De.postMessage({resize:{width:pn.width,height:pn.height}});return}wt.width=wt.height=null}function $e(){Qe=null,xe&&(ue=!1,l.removeEventListener("resize",nt)),fe&&R&&(document.body.contains(R)&&document.body.removeChild(R),R=null,Ge=!1)}return xe&&!ue&&(ue=!0,l.addEventListener("resize",nt,!1)),De?De.fire(Je,wt,$e):At(Je,wt,$e)}return ze.reset=function(){De&&De.reset(),Qe&&Qe.reset()},ze}var $;function ge(){return $||($=st(null,{useWorker:!0,resize:!0})),$}function me(R,B,fe,xe,ue,Me,oe){var De=new Path2D(R),Ne=new Path2D;Ne.addPath(De,new DOMMatrix(B));var Ge=new Path2D;return Ge.addPath(Ne,new DOMMatrix([Math.cos(oe)*ue,Math.sin(oe)*ue,-Math.sin(oe)*Me,Math.cos(oe)*Me,fe,xe])),Ge}function ke(R){if(!b)throw new Error("path confetti are not supported in this browser");var B,fe;typeof R=="string"?B=R:(B=R.path,fe=R.matrix);var xe=new Path2D(B),ue=document.createElement("canvas"),Me=ue.getContext("2d");if(!fe){for(var oe=1e3,De=oe,Ne=oe,Ge=0,Ye=0,Qe,At,ze=0;ze<oe;ze+=2)for(var Je=0;Je<oe;Je+=2)Me.isPointInPath(xe,ze,Je,"nonzero")&&(De=Math.min(De,ze),Ne=Math.min(Ne,Je),Ge=Math.max(Ge,ze),Ye=Math.max(Ye,Je));Qe=Ge-De,At=Ye-Ne;var Tt=10,Yt=Math.min(Tt/Qe,Tt/At);fe=[Yt,0,0,Yt,-Math.round(Qe/2+De)*Yt,-Math.round(At/2+Ne)*Yt]}return{type:"path",path:B,matrix:fe}}function rt(R){var B,fe=1,xe="#000000",ue='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof R=="string"?B=R:(B=R.text,fe="scalar"in R?R.scalar:fe,ue="fontFamily"in R?R.fontFamily:ue,xe="color"in R?R.color:xe);var Me=10*fe,oe=""+Me+"px "+ue,De=new OffscreenCanvas(Me,Me),Ne=De.getContext("2d");Ne.font=oe;var Ge=Ne.measureText(B),Ye=Math.ceil(Ge.actualBoundingBoxRight+Ge.actualBoundingBoxLeft),Qe=Math.ceil(Ge.actualBoundingBoxAscent+Ge.actualBoundingBoxDescent),At=2,ze=Ge.actualBoundingBoxLeft+At,Je=Ge.actualBoundingBoxAscent+At;Ye+=At+At,Qe+=At+At,De=new OffscreenCanvas(Ye,Qe),Ne=De.getContext("2d"),Ne.font=oe,Ne.fillStyle=xe,Ne.fillText(B,ze,Je);var Tt=1/fe;return{type:"bitmap",bitmap:De.transferToImageBitmap(),matrix:[Tt,0,0,Tt,-Ye*Tt/2,-Qe*Tt/2]}}c.exports=function(){return ge().apply(this,arguments)},c.exports.reset=function(){ge().reset()},c.exports.create=st,c.exports.shapeFromPath=ke,c.exports.shapeFromText=rt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),zf,!1);const sg=zf.exports;zf.exports.create;const Ke=d=>typeof d=="string",Fo=()=>{let d,l;const c=new Promise((h,p)=>{d=h,l=p});return c.resolve=d,c.reject=l,c},lh=d=>d==null?"":""+d,Rx=(d,l,c)=>{d.forEach(h=>{l[h]&&(c[h]=l[h])})},Dx=/###/g,uh=d=>d&&d.indexOf("###")>-1?d.replace(Dx,"."):d,ch=d=>!d||Ke(d),jo=(d,l,c)=>{const h=Ke(l)?l.split("."):l;let p=0;for(;p<h.length-1;){if(ch(d))return{};const x=uh(h[p]);!d[x]&&c&&(d[x]=new c),Object.prototype.hasOwnProperty.call(d,x)?d=d[x]:d={},++p}return ch(d)?{}:{obj:d,k:uh(h[p])}},fh=(d,l,c)=>{const{obj:h,k:p}=jo(d,l,Object);if(h!==void 0||l.length===1){h[p]=c;return}let x=l[l.length-1],b=l.slice(0,l.length-1),v=jo(d,b,Object);for(;v.obj===void 0&&b.length;)x=`${b[b.length-1]}.${x}`,b=b.slice(0,b.length-1),v=jo(d,b,Object),v!=null&&v.obj&&typeof v.obj[`${v.k}.${x}`]<"u"&&(v.obj=void 0);v.obj[`${v.k}.${x}`]=c},_x=(d,l,c,h)=>{const{obj:p,k:x}=jo(d,l,Object);p[x]=p[x]||[],p[x].push(c)},lu=(d,l)=>{const{obj:c,k:h}=jo(d,l);if(c&&Object.prototype.hasOwnProperty.call(c,h))return c[h]},Lx=(d,l,c)=>{const h=lu(d,c);return h!==void 0?h:lu(l,c)},og=(d,l,c)=>{for(const h in l)h!=="__proto__"&&h!=="constructor"&&(h in d?Ke(d[h])||d[h]instanceof String||Ke(l[h])||l[h]instanceof String?c&&(d[h]=l[h]):og(d[h],l[h],c):d[h]=l[h]);return d},_s=d=>d.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Bx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const kx=d=>Ke(d)?d.replace(/[&<>"'\/]/g,l=>Bx[l]):d;class Ux{constructor(l){this.capacity=l,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(l){const c=this.regExpMap.get(l);if(c!==void 0)return c;const h=new RegExp(l);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(l,h),this.regExpQueue.push(l),h}}const Px=[" ",",","?","!",";"],Fx=new Ux(20),zx=(d,l,c)=>{l=l||"",c=c||"";const h=Px.filter(b=>l.indexOf(b)<0&&c.indexOf(b)<0);if(h.length===0)return!0;const p=Fx.getRegExp(`(${h.map(b=>b==="?"?"\\?":b).join("|")})`);let x=!p.test(d);if(!x){const b=d.indexOf(c);b>0&&!p.test(d.substring(0,b))&&(x=!0)}return x},If=function(d,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!d)return;if(d[l])return Object.prototype.hasOwnProperty.call(d,l)?d[l]:void 0;const h=l.split(c);let p=d;for(let x=0;x<h.length;){if(!p||typeof p!="object")return;let b,v="";for(let S=x;S<h.length;++S)if(S!==x&&(v+=c),v+=h[S],b=p[v],b!==void 0){if(["string","number","boolean"].indexOf(typeof b)>-1&&S<h.length-1)continue;x+=S-x+1;break}p=b}return p},uu=d=>d==null?void 0:d.replace("_","-"),jx={type:"logger",log(d){this.output("log",d)},warn(d){this.output("warn",d)},error(d){this.output("error",d)},output(d,l){var c,h;(h=(c=console==null?void 0:console[d])==null?void 0:c.apply)==null||h.call(c,console,l)}};class cu{constructor(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(l,c)}init(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=c.prefix||"i18next:",this.logger=l||jx,this.options=c,this.debug=c.debug}log(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];return this.forward(c,"log","",!0)}warn(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];return this.forward(c,"warn","",!0)}error(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];return this.forward(c,"error","")}deprecate(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];return this.forward(c,"warn","WARNING DEPRECATED: ",!0)}forward(l,c,h,p){return p&&!this.debug?null:(Ke(l[0])&&(l[0]=`${h}${this.prefix} ${l[0]}`),this.logger[c](l))}create(l){return new cu(this.logger,{prefix:`${this.prefix}:${l}:`,...this.options})}clone(l){return l=l||this.options,l.prefix=l.prefix||this.prefix,new cu(this.logger,l)}}var Ka=new cu;class pu{constructor(){this.observers={}}on(l,c){return l.split(" ").forEach(h=>{this.observers[h]||(this.observers[h]=new Map);const p=this.observers[h].get(c)||0;this.observers[h].set(c,p+1)}),this}off(l,c){if(this.observers[l]){if(!c){delete this.observers[l];return}this.observers[l].delete(c)}}emit(l){for(var c=arguments.length,h=new Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];this.observers[l]&&Array.from(this.observers[l].entries()).forEach(b=>{let[v,S]=b;for(let w=0;w<S;w++)v(...h)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(b=>{let[v,S]=b;for(let w=0;w<S;w++)v.apply(v,[l,...h])})}}class dh extends pu{constructor(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=l||{},this.options=c,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(l){this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}removeNamespaces(l){const c=this.options.ns.indexOf(l);c>-1&&this.options.ns.splice(c,1)}getResource(l,c,h){var w,M;let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const x=p.keySeparator!==void 0?p.keySeparator:this.options.keySeparator,b=p.ignoreJSONStructure!==void 0?p.ignoreJSONStructure:this.options.ignoreJSONStructure;let v;l.indexOf(".")>-1?v=l.split("."):(v=[l,c],h&&(Array.isArray(h)?v.push(...h):Ke(h)&&x?v.push(...h.split(x)):v.push(h)));const S=lu(this.data,v);return!S&&!c&&!h&&l.indexOf(".")>-1&&(l=v[0],c=v[1],h=v.slice(2).join(".")),S||!b||!Ke(h)?S:If((M=(w=this.data)==null?void 0:w[l])==null?void 0:M[c],h,x)}addResource(l,c,h,p){let x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const b=x.keySeparator!==void 0?x.keySeparator:this.options.keySeparator;let v=[l,c];h&&(v=v.concat(b?h.split(b):h)),l.indexOf(".")>-1&&(v=l.split("."),p=c,c=v[1]),this.addNamespaces(c),fh(this.data,v,p),x.silent||this.emit("added",l,c,h,p)}addResources(l,c,h){let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const x in h)(Ke(h[x])||Array.isArray(h[x]))&&this.addResource(l,c,x,h[x],{silent:!0});p.silent||this.emit("added",l,c,h)}addResourceBundle(l,c,h,p,x){let b=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},v=[l,c];l.indexOf(".")>-1&&(v=l.split("."),p=h,h=c,c=v[1]),this.addNamespaces(c);let S=lu(this.data,v)||{};b.skipCopy||(h=JSON.parse(JSON.stringify(h))),p?og(S,h,x):S={...S,...h},fh(this.data,v,S),b.silent||this.emit("added",l,c,h)}removeResourceBundle(l,c){this.hasResourceBundle(l,c)&&delete this.data[l][c],this.removeNamespaces(c),this.emit("removed",l,c)}hasResourceBundle(l,c){return this.getResource(l,c)!==void 0}getResourceBundle(l,c){return c||(c=this.options.defaultNS),this.getResource(l,c)}getDataByLanguage(l){return this.data[l]}hasLanguageSomeTranslations(l){const c=this.getDataByLanguage(l);return!!(c&&Object.keys(c)||[]).find(p=>c[p]&&Object.keys(c[p]).length>0)}toJSON(){return this.data}}var lg={processors:{},addPostProcessor(d){this.processors[d.name]=d},handle(d,l,c,h,p){return d.forEach(x=>{var b;l=((b=this.processors[x])==null?void 0:b.process(l,c,h,p))??l}),l}};const hh={},gh=d=>!Ke(d)&&typeof d!="boolean"&&typeof d!="number";class fu extends pu{constructor(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Rx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],l,this),this.options=c,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ka.create("translator")}changeLanguage(l){l&&(this.language=l)}exists(l){const h={...arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}};if(l==null)return!1;const p=this.resolve(l,h);return(p==null?void 0:p.res)!==void 0}extractFromKey(l,c){let h=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const p=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let x=c.ns||this.options.defaultNS||[];const b=h&&l.indexOf(h)>-1,v=!this.options.userDefinedKeySeparator&&!c.keySeparator&&!this.options.userDefinedNsSeparator&&!c.nsSeparator&&!zx(l,h,p);if(b&&!v){const S=l.match(this.interpolator.nestingRegexp);if(S&&S.length>0)return{key:l,namespaces:Ke(x)?[x]:x};const w=l.split(h);(h!==p||h===p&&this.options.ns.indexOf(w[0])>-1)&&(x=w.shift()),l=w.join(p)}return{key:l,namespaces:Ke(x)?[x]:x}}translate(l,c,h){let p=typeof c=="object"?{...c}:c;if(typeof p!="object"&&this.options.overloadTranslationOptionHandler&&(p=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(p={...p}),p||(p={}),l==null)return"";Array.isArray(l)||(l=[String(l)]);const x=p.returnDetails!==void 0?p.returnDetails:this.options.returnDetails,b=p.keySeparator!==void 0?p.keySeparator:this.options.keySeparator,{key:v,namespaces:S}=this.extractFromKey(l[l.length-1],p),w=S[S.length-1],M=p.lng||this.language,_=p.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((M==null?void 0:M.toLowerCase())==="cimode"){if(_){const ve=p.nsSeparator||this.options.nsSeparator;return x?{res:`${w}${ve}${v}`,usedKey:v,exactUsedKey:v,usedLng:M,usedNS:w,usedParams:this.getUsedParamsDetails(p)}:`${w}${ve}${v}`}return x?{res:v,usedKey:v,exactUsedKey:v,usedLng:M,usedNS:w,usedParams:this.getUsedParamsDetails(p)}:v}const U=this.resolve(l,p);let F=U==null?void 0:U.res;const j=(U==null?void 0:U.usedKey)||v,Q=(U==null?void 0:U.exactUsedKey)||v,V=["[object Number]","[object Function]","[object RegExp]"],K=p.joinArrays!==void 0?p.joinArrays:this.options.joinArrays,ie=!this.i18nFormat||this.i18nFormat.handleAsObject,ae=p.count!==void 0&&!Ke(p.count),Ce=fu.hasDefaultValue(p),Te=ae?this.pluralResolver.getSuffix(M,p.count,p):"",we=p.ordinal&&ae?this.pluralResolver.getSuffix(M,p.count,{ordinal:!1}):"",le=ae&&!p.ordinal&&p.count===0,Oe=le&&p[`defaultValue${this.options.pluralSeparator}zero`]||p[`defaultValue${Te}`]||p[`defaultValue${we}`]||p.defaultValue;let q=F;ie&&!F&&Ce&&(q=Oe);const Re=gh(q),je=Object.prototype.toString.apply(q);if(ie&&q&&Re&&V.indexOf(je)<0&&!(Ke(K)&&Array.isArray(q))){if(!p.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ve=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,q,{...p,ns:S}):`key '${v} (${this.language})' returned an object instead of string.`;return x?(U.res=ve,U.usedParams=this.getUsedParamsDetails(p),U):ve}if(b){const ve=Array.isArray(q),Pe=ve?[]:{},st=ve?Q:j;for(const $ in q)if(Object.prototype.hasOwnProperty.call(q,$)){const ge=`${st}${b}${$}`;Ce&&!F?Pe[$]=this.translate(ge,{...p,defaultValue:gh(Oe)?Oe[$]:void 0,joinArrays:!1,ns:S}):Pe[$]=this.translate(ge,{...p,joinArrays:!1,ns:S}),Pe[$]===ge&&(Pe[$]=q[$])}F=Pe}}else if(ie&&Ke(K)&&Array.isArray(F))F=F.join(K),F&&(F=this.extendTranslation(F,l,p,h));else{let ve=!1,Pe=!1;!this.isValidLookup(F)&&Ce&&(ve=!0,F=Oe),this.isValidLookup(F)||(Pe=!0,F=v);const $=(p.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Pe?void 0:F,ge=Ce&&Oe!==F&&this.options.updateMissing;if(Pe||ve||ge){if(this.logger.log(ge?"updateKey":"missingKey",M,w,v,ge?Oe:F),b){const R=this.resolve(v,{...p,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let me=[];const ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,p.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(let R=0;R<ke.length;R++)me.push(ke[R]);else this.options.saveMissingTo==="all"?me=this.languageUtils.toResolveHierarchy(p.lng||this.language):me.push(p.lng||this.language);const rt=(R,B,fe)=>{var ue;const xe=Ce&&fe!==F?fe:$;this.options.missingKeyHandler?this.options.missingKeyHandler(R,w,B,xe,ge,p):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(R,w,B,xe,ge,p),this.emit("missingKey",R,w,B,F)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ae?me.forEach(R=>{const B=this.pluralResolver.getSuffixes(R,p);le&&p[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(fe=>{rt([R],v+fe,p[`defaultValue${fe}`]||Oe)})}):rt(me,v,Oe))}F=this.extendTranslation(F,l,p,U,h),Pe&&F===v&&this.options.appendNamespaceToMissingKey&&(F=`${w}:${v}`),(Pe||ve)&&this.options.parseMissingKeyHandler&&(F=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${w}:${v}`:v,ve?F:void 0,p))}return x?(U.res=F,U.usedParams=this.getUsedParamsDetails(p),U):F}extendTranslation(l,c,h,p,x){var w,M;var b=this;if((w=this.i18nFormat)!=null&&w.parse)l=this.i18nFormat.parse(l,{...this.options.interpolation.defaultVariables,...h},h.lng||this.language||p.usedLng,p.usedNS,p.usedKey,{resolved:p});else if(!h.skipInterpolation){h.interpolation&&this.interpolator.init({...h,interpolation:{...this.options.interpolation,...h.interpolation}});const _=Ke(l)&&(((M=h==null?void 0:h.interpolation)==null?void 0:M.skipOnVariables)!==void 0?h.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let U;if(_){const j=l.match(this.interpolator.nestingRegexp);U=j&&j.length}let F=h.replace&&!Ke(h.replace)?h.replace:h;if(this.options.interpolation.defaultVariables&&(F={...this.options.interpolation.defaultVariables,...F}),l=this.interpolator.interpolate(l,F,h.lng||this.language||p.usedLng,h),_){const j=l.match(this.interpolator.nestingRegexp),Q=j&&j.length;U<Q&&(h.nest=!1)}!h.lng&&p&&p.res&&(h.lng=this.language||p.usedLng),h.nest!==!1&&(l=this.interpolator.nest(l,function(){for(var j=arguments.length,Q=new Array(j),V=0;V<j;V++)Q[V]=arguments[V];return(x==null?void 0:x[0])===Q[0]&&!h.context?(b.logger.warn(`It seems you are nesting recursively key: ${Q[0]} in key: ${c[0]}`),null):b.translate(...Q,c)},h)),h.interpolation&&this.interpolator.reset()}const v=h.postProcess||this.options.postProcess,S=Ke(v)?[v]:v;return l!=null&&(S!=null&&S.length)&&h.applyPostProcessor!==!1&&(l=lg.handle(S,l,c,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...p,usedParams:this.getUsedParamsDetails(h)},...h}:h,this)),l}resolve(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h,p,x,b,v;return Ke(l)&&(l=[l]),l.forEach(S=>{if(this.isValidLookup(h))return;const w=this.extractFromKey(S,c),M=w.key;p=M;let _=w.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const U=c.count!==void 0&&!Ke(c.count),F=U&&!c.ordinal&&c.count===0,j=c.context!==void 0&&(Ke(c.context)||typeof c.context=="number")&&c.context!=="",Q=c.lngs?c.lngs:this.languageUtils.toResolveHierarchy(c.lng||this.language,c.fallbackLng);_.forEach(V=>{var K,ie;this.isValidLookup(h)||(v=V,!hh[`${Q[0]}-${V}`]&&((K=this.utils)!=null&&K.hasLoadedNamespace)&&!((ie=this.utils)!=null&&ie.hasLoadedNamespace(v))&&(hh[`${Q[0]}-${V}`]=!0,this.logger.warn(`key "${p}" for languages "${Q.join(", ")}" won't get resolved as namespace "${v}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Q.forEach(ae=>{var we;if(this.isValidLookup(h))return;b=ae;const Ce=[M];if((we=this.i18nFormat)!=null&&we.addLookupKeys)this.i18nFormat.addLookupKeys(Ce,M,ae,V,c);else{let le;U&&(le=this.pluralResolver.getSuffix(ae,c.count,c));const Oe=`${this.options.pluralSeparator}zero`,q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(U&&(Ce.push(M+le),c.ordinal&&le.indexOf(q)===0&&Ce.push(M+le.replace(q,this.options.pluralSeparator)),F&&Ce.push(M+Oe)),j){const Re=`${M}${this.options.contextSeparator}${c.context}`;Ce.push(Re),U&&(Ce.push(Re+le),c.ordinal&&le.indexOf(q)===0&&Ce.push(Re+le.replace(q,this.options.pluralSeparator)),F&&Ce.push(Re+Oe))}}let Te;for(;Te=Ce.pop();)this.isValidLookup(h)||(x=Te,h=this.getResource(ae,V,Te,c))}))})}),{res:h,usedKey:p,exactUsedKey:x,usedLng:b,usedNS:v}}isValidLookup(l){return l!==void 0&&!(!this.options.returnNull&&l===null)&&!(!this.options.returnEmptyString&&l==="")}getResource(l,c,h){var x;let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(x=this.i18nFormat)!=null&&x.getResource?this.i18nFormat.getResource(l,c,h,p):this.resourceStore.getResource(l,c,h,p)}getUsedParamsDetails(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],h=l.replace&&!Ke(l.replace);let p=h?l.replace:l;if(h&&typeof l.count<"u"&&(p.count=l.count),this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),!h){p={...p};for(const x of c)delete p[x]}return p}static hasDefaultValue(l){const c="defaultValue";for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)&&c===h.substring(0,c.length)&&l[h]!==void 0)return!0;return!1}}class mh{constructor(l){this.options=l,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ka.create("languageUtils")}getScriptPartFromCode(l){if(l=uu(l),!l||l.indexOf("-")<0)return null;const c=l.split("-");return c.length===2||(c.pop(),c[c.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(c.join("-"))}getLanguagePartFromCode(l){if(l=uu(l),!l||l.indexOf("-")<0)return l;const c=l.split("-");return this.formatLanguageCode(c[0])}formatLanguageCode(l){if(Ke(l)&&l.indexOf("-")>-1){let c;try{c=Intl.getCanonicalLocales(l)[0]}catch{}return c&&this.options.lowerCaseLng&&(c=c.toLowerCase()),c||(this.options.lowerCaseLng?l.toLowerCase():l)}return this.options.cleanCode||this.options.lowerCaseLng?l.toLowerCase():l}isSupportedCode(l){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(l=this.getLanguagePartFromCode(l)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(l)>-1}getBestMatchFromCodes(l){if(!l)return null;let c;return l.forEach(h=>{if(c)return;const p=this.formatLanguageCode(h);(!this.options.supportedLngs||this.isSupportedCode(p))&&(c=p)}),!c&&this.options.supportedLngs&&l.forEach(h=>{if(c)return;const p=this.getScriptPartFromCode(h);if(this.isSupportedCode(p))return c=p;const x=this.getLanguagePartFromCode(h);if(this.isSupportedCode(x))return c=x;c=this.options.supportedLngs.find(b=>{if(b===x)return b;if(!(b.indexOf("-")<0&&x.indexOf("-")<0)&&(b.indexOf("-")>0&&x.indexOf("-")<0&&b.substring(0,b.indexOf("-"))===x||b.indexOf(x)===0&&x.length>1))return b})}),c||(c=this.getFallbackCodes(this.options.fallbackLng)[0]),c}getFallbackCodes(l,c){if(!l)return[];if(typeof l=="function"&&(l=l(c)),Ke(l)&&(l=[l]),Array.isArray(l))return l;if(!c)return l.default||[];let h=l[c];return h||(h=l[this.getScriptPartFromCode(c)]),h||(h=l[this.formatLanguageCode(c)]),h||(h=l[this.getLanguagePartFromCode(c)]),h||(h=l.default),h||[]}toResolveHierarchy(l,c){const h=this.getFallbackCodes(c||this.options.fallbackLng||[],l),p=[],x=b=>{b&&(this.isSupportedCode(b)?p.push(b):this.logger.warn(`rejecting language code not found in supportedLngs: ${b}`))};return Ke(l)&&(l.indexOf("-")>-1||l.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&x(this.formatLanguageCode(l)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&x(this.getScriptPartFromCode(l)),this.options.load!=="currentOnly"&&x(this.getLanguagePartFromCode(l))):Ke(l)&&x(this.formatLanguageCode(l)),h.forEach(b=>{p.indexOf(b)<0&&x(this.formatLanguageCode(b))}),p}}const ph={zero:0,one:1,two:2,few:3,many:4,other:5},xh={select:d=>d===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Hx{constructor(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=l,this.options=c,this.logger=Ka.create("pluralResolver"),this.pluralRulesCache={}}addRule(l,c){this.rules[l]=c}clearCache(){this.pluralRulesCache={}}getRule(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=uu(l==="dev"?"en":l),p=c.ordinal?"ordinal":"cardinal",x=JSON.stringify({cleanedCode:h,type:p});if(x in this.pluralRulesCache)return this.pluralRulesCache[x];let b;try{b=new Intl.PluralRules(h,{type:p})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xh;if(!l.match(/-|_/))return xh;const S=this.languageUtils.getLanguagePartFromCode(l);b=this.getRule(S,c)}return this.pluralRulesCache[x]=b,b}needsPlural(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.getRule(l,c);return h||(h=this.getRule("dev",c)),(h==null?void 0:h.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(l,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(l,h).map(p=>`${c}${p}`)}getSuffixes(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.getRule(l,c);return h||(h=this.getRule("dev",c)),h?h.resolvedOptions().pluralCategories.sort((p,x)=>ph[p]-ph[x]).map(p=>`${this.options.prepend}${c.ordinal?`ordinal${this.options.prepend}`:""}${p}`):[]}getSuffix(l,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=this.getRule(l,h);return p?`${this.options.prepend}${h.ordinal?`ordinal${this.options.prepend}`:""}${p.select(c)}`:(this.logger.warn(`no plural rule found for: ${l}`),this.getSuffix("dev",c,h))}}const yh=function(d,l,c){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,x=Lx(d,l,c);return!x&&p&&Ke(c)&&(x=If(d,c,h),x===void 0&&(x=If(l,c,h))),x},vf=d=>d.replace(/\$/g,"$$$$");class Vx{constructor(){var c;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ka.create("interpolator"),this.options=l,this.format=((c=l==null?void 0:l.interpolation)==null?void 0:c.format)||(h=>h),this.init(l)}init(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l.interpolation||(l.interpolation={escapeValue:!0});const{escape:c,escapeValue:h,useRawValueToEscape:p,prefix:x,prefixEscaped:b,suffix:v,suffixEscaped:S,formatSeparator:w,unescapeSuffix:M,unescapePrefix:_,nestingPrefix:U,nestingPrefixEscaped:F,nestingSuffix:j,nestingSuffixEscaped:Q,nestingOptionsSeparator:V,maxReplaces:K,alwaysFormat:ie}=l.interpolation;this.escape=c!==void 0?c:kx,this.escapeValue=h!==void 0?h:!0,this.useRawValueToEscape=p!==void 0?p:!1,this.prefix=x?_s(x):b||"{{",this.suffix=v?_s(v):S||"}}",this.formatSeparator=w||",",this.unescapePrefix=M?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":M||"",this.nestingPrefix=U?_s(U):F||_s("$t("),this.nestingSuffix=j?_s(j):Q||_s(")"),this.nestingOptionsSeparator=V||",",this.maxReplaces=K||1e3,this.alwaysFormat=ie!==void 0?ie:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const l=(c,h)=>(c==null?void 0:c.source)===h?(c.lastIndex=0,c):new RegExp(h,"g");this.regexp=l(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=l(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=l(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(l,c,h,p){var F;let x,b,v;const S=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},w=j=>{if(j.indexOf(this.formatSeparator)<0){const ie=yh(c,S,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(ie,void 0,h,{...p,...c,interpolationkey:j}):ie}const Q=j.split(this.formatSeparator),V=Q.shift().trim(),K=Q.join(this.formatSeparator).trim();return this.format(yh(c,S,V,this.options.keySeparator,this.options.ignoreJSONStructure),K,h,{...p,...c,interpolationkey:V})};this.resetRegExp();const M=(p==null?void 0:p.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((F=p==null?void 0:p.interpolation)==null?void 0:F.skipOnVariables)!==void 0?p.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>vf(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?vf(this.escape(j)):vf(j)}].forEach(j=>{for(v=0;x=j.regex.exec(l);){const Q=x[1].trim();if(b=w(Q),b===void 0)if(typeof M=="function"){const K=M(l,x,p);b=Ke(K)?K:""}else if(p&&Object.prototype.hasOwnProperty.call(p,Q))b="";else if(_){b=x[0];continue}else this.logger.warn(`missed to pass in variable ${Q} for interpolating ${l}`),b="";else!Ke(b)&&!this.useRawValueToEscape&&(b=lh(b));const V=j.safeValue(b);if(l=l.replace(x[0],V),_?(j.regex.lastIndex+=b.length,j.regex.lastIndex-=x[0].length):j.regex.lastIndex=0,v++,v>=this.maxReplaces)break}}),l}nest(l,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p,x,b;const v=(S,w)=>{const M=this.nestingOptionsSeparator;if(S.indexOf(M)<0)return S;const _=S.split(new RegExp(`${M}[ ]*{`));let U=`{${_[1]}`;S=_[0],U=this.interpolate(U,b);const F=U.match(/'/g),j=U.match(/"/g);(((F==null?void 0:F.length)??0)%2===0&&!j||j.length%2!==0)&&(U=U.replace(/'/g,'"'));try{b=JSON.parse(U),w&&(b={...w,...b})}catch(Q){return this.logger.warn(`failed parsing options string in nesting for key ${S}`,Q),`${S}${M}${U}`}return b.defaultValue&&b.defaultValue.indexOf(this.prefix)>-1&&delete b.defaultValue,S};for(;p=this.nestingRegexp.exec(l);){let S=[];b={...h},b=b.replace&&!Ke(b.replace)?b.replace:b,b.applyPostProcessor=!1,delete b.defaultValue;let w=!1;if(p[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(p[1])){const M=p[1].split(this.formatSeparator).map(_=>_.trim());p[1]=M.shift(),S=M,w=!0}if(x=c(v.call(this,p[1].trim(),b),b),x&&p[0]===l&&!Ke(x))return x;Ke(x)||(x=lh(x)),x||(this.logger.warn(`missed to resolve ${p[1]} for nesting ${l}`),x=""),w&&(x=S.reduce((M,_)=>this.format(M,_,h.lng,{...h,interpolationkey:p[1].trim()}),x.trim())),l=l.replace(p[0],x),this.regexp.lastIndex=0}return l}}const Gx=d=>{let l=d.toLowerCase().trim();const c={};if(d.indexOf("(")>-1){const h=d.split("(");l=h[0].toLowerCase().trim();const p=h[1].substring(0,h[1].length-1);l==="currency"&&p.indexOf(":")<0?c.currency||(c.currency=p.trim()):l==="relativetime"&&p.indexOf(":")<0?c.range||(c.range=p.trim()):p.split(";").forEach(b=>{if(b){const[v,...S]=b.split(":"),w=S.join(":").trim().replace(/^'+|'+$/g,""),M=v.trim();c[M]||(c[M]=w),w==="false"&&(c[M]=!1),w==="true"&&(c[M]=!0),isNaN(w)||(c[M]=parseInt(w,10))}})}return{formatName:l,formatOptions:c}},Ls=d=>{const l={};return(c,h,p)=>{let x=p;p&&p.interpolationkey&&p.formatParams&&p.formatParams[p.interpolationkey]&&p[p.interpolationkey]&&(x={...x,[p.interpolationkey]:void 0});const b=h+JSON.stringify(x);let v=l[b];return v||(v=d(uu(h),p),l[b]=v),v(c)}};class Yx{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ka.create("formatter"),this.options=l,this.formats={number:Ls((c,h)=>{const p=new Intl.NumberFormat(c,{...h});return x=>p.format(x)}),currency:Ls((c,h)=>{const p=new Intl.NumberFormat(c,{...h,style:"currency"});return x=>p.format(x)}),datetime:Ls((c,h)=>{const p=new Intl.DateTimeFormat(c,{...h});return x=>p.format(x)}),relativetime:Ls((c,h)=>{const p=new Intl.RelativeTimeFormat(c,{...h});return x=>p.format(x,h.range||"day")}),list:Ls((c,h)=>{const p=new Intl.ListFormat(c,{...h});return x=>p.format(x)})},this.init(l)}init(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=c.interpolation.formatSeparator||","}add(l,c){this.formats[l.toLowerCase().trim()]=c}addCached(l,c){this.formats[l.toLowerCase().trim()]=Ls(c)}format(l,c,h){let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const x=c.split(this.formatSeparator);if(x.length>1&&x[0].indexOf("(")>1&&x[0].indexOf(")")<0&&x.find(v=>v.indexOf(")")>-1)){const v=x.findIndex(S=>S.indexOf(")")>-1);x[0]=[x[0],...x.splice(1,v)].join(this.formatSeparator)}return x.reduce((v,S)=>{var _;const{formatName:w,formatOptions:M}=Gx(S);if(this.formats[w]){let U=v;try{const F=((_=p==null?void 0:p.formatParams)==null?void 0:_[p.interpolationkey])||{},j=F.locale||F.lng||p.locale||p.lng||h;U=this.formats[w](v,j,{...M,...p,...F})}catch(F){this.logger.warn(F)}return U}else this.logger.warn(`there was no format function for ${w}`);return v},l)}}const Xx=(d,l)=>{d.pending[l]!==void 0&&(delete d.pending[l],d.pendingCount--)};class qx extends pu{constructor(l,c,h){var x,b;let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=l,this.store=c,this.services=h,this.languageUtils=h.languageUtils,this.options=p,this.logger=Ka.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=p.maxParallelReads||10,this.readingCalls=0,this.maxRetries=p.maxRetries>=0?p.maxRetries:5,this.retryTimeout=p.retryTimeout>=1?p.retryTimeout:350,this.state={},this.queue=[],(b=(x=this.backend)==null?void 0:x.init)==null||b.call(x,h,p.backend,p)}queueLoad(l,c,h,p){const x={},b={},v={},S={};return l.forEach(w=>{let M=!0;c.forEach(_=>{const U=`${w}|${_}`;!h.reload&&this.store.hasResourceBundle(w,_)?this.state[U]=2:this.state[U]<0||(this.state[U]===1?b[U]===void 0&&(b[U]=!0):(this.state[U]=1,M=!1,b[U]===void 0&&(b[U]=!0),x[U]===void 0&&(x[U]=!0),S[_]===void 0&&(S[_]=!0)))}),M||(v[w]=!0)}),(Object.keys(x).length||Object.keys(b).length)&&this.queue.push({pending:b,pendingCount:Object.keys(b).length,loaded:{},errors:[],callback:p}),{toLoad:Object.keys(x),pending:Object.keys(b),toLoadLanguages:Object.keys(v),toLoadNamespaces:Object.keys(S)}}loaded(l,c,h){const p=l.split("|"),x=p[0],b=p[1];c&&this.emit("failedLoading",x,b,c),!c&&h&&this.store.addResourceBundle(x,b,h,void 0,void 0,{skipCopy:!0}),this.state[l]=c?-1:2,c&&h&&(this.state[l]=0);const v={};this.queue.forEach(S=>{_x(S.loaded,[x],b),Xx(S,l),c&&S.errors.push(c),S.pendingCount===0&&!S.done&&(Object.keys(S.loaded).forEach(w=>{v[w]||(v[w]={});const M=S.loaded[w];M.length&&M.forEach(_=>{v[w][_]===void 0&&(v[w][_]=!0)})}),S.done=!0,S.errors.length?S.callback(S.errors):S.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(S=>!S.done)}read(l,c,h){let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,b=arguments.length>5?arguments[5]:void 0;if(!l.length)return b(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:l,ns:c,fcName:h,tried:p,wait:x,callback:b});return}this.readingCalls++;const v=(w,M)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(w&&M&&p<this.maxRetries){setTimeout(()=>{this.read.call(this,l,c,h,p+1,x*2,b)},x);return}b(w,M)},S=this.backend[h].bind(this.backend);if(S.length===2){try{const w=S(l,c);w&&typeof w.then=="function"?w.then(M=>v(null,M)).catch(v):v(null,w)}catch(w){v(w)}return}return S(l,c,v)}prepareLoading(l,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),p&&p();Ke(l)&&(l=this.languageUtils.toResolveHierarchy(l)),Ke(c)&&(c=[c]);const x=this.queueLoad(l,c,h,p);if(!x.toLoad.length)return x.pending.length||p(),null;x.toLoad.forEach(b=>{this.loadOne(b)})}load(l,c,h){this.prepareLoading(l,c,{},h)}reload(l,c,h){this.prepareLoading(l,c,{reload:!0},h)}loadOne(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const h=l.split("|"),p=h[0],x=h[1];this.read(p,x,"read",void 0,void 0,(b,v)=>{b&&this.logger.warn(`${c}loading namespace ${x} for language ${p} failed`,b),!b&&v&&this.logger.log(`${c}loaded namespace ${x} for language ${p}`,v),this.loaded(l,b,v)})}saveMissing(l,c,h,p,x){var S,w,M,_,U;let b=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((w=(S=this.services)==null?void 0:S.utils)!=null&&w.hasLoadedNamespace&&!((_=(M=this.services)==null?void 0:M.utils)!=null&&_.hasLoadedNamespace(c))){this.logger.warn(`did not save key "${h}" as the namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(h==null||h==="")){if((U=this.backend)!=null&&U.create){const F={...b,isUpdate:x},j=this.backend.create.bind(this.backend);if(j.length<6)try{let Q;j.length===5?Q=j(l,c,h,p,F):Q=j(l,c,h,p),Q&&typeof Q.then=="function"?Q.then(V=>v(null,V)).catch(v):v(null,Q)}catch(Q){v(Q)}else j(l,c,h,p,v,F)}!l||!l[0]||this.store.addResource(l[0],c,h,p)}}}const Eh=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:d=>{let l={};if(typeof d[1]=="object"&&(l=d[1]),Ke(d[1])&&(l.defaultValue=d[1]),Ke(d[2])&&(l.tDescription=d[2]),typeof d[2]=="object"||typeof d[3]=="object"){const c=d[3]||d[2];Object.keys(c).forEach(h=>{l[h]=c[h]})}return l},interpolation:{escapeValue:!0,format:d=>d,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ah=d=>{var l,c;return Ke(d.ns)&&(d.ns=[d.ns]),Ke(d.fallbackLng)&&(d.fallbackLng=[d.fallbackLng]),Ke(d.fallbackNS)&&(d.fallbackNS=[d.fallbackNS]),((c=(l=d.supportedLngs)==null?void 0:l.indexOf)==null?void 0:c.call(l,"cimode"))<0&&(d.supportedLngs=d.supportedLngs.concat(["cimode"])),typeof d.initImmediate=="boolean"&&(d.initAsync=d.initImmediate),d},$l=()=>{},Qx=d=>{Object.getOwnPropertyNames(Object.getPrototypeOf(d)).forEach(c=>{typeof d[c]=="function"&&(d[c]=d[c].bind(d))})};class Vo extends pu{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ah(l),this.services={},this.logger=Ka,this.modules={external:[]},Qx(this),c&&!this.isInitialized&&!l.isClone){if(!this.options.initAsync)return this.init(l,c),this;setTimeout(()=>{this.init(l,c)},0)}}init(){var l=this;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof c=="function"&&(h=c,c={}),c.defaultNS==null&&c.ns&&(Ke(c.ns)?c.defaultNS=c.ns:c.ns.indexOf("translation")<0&&(c.defaultNS=c.ns[0]));const p=Eh();this.options={...p,...this.options,...Ah(c)},this.options.interpolation={...p.interpolation,...this.options.interpolation},c.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=c.keySeparator),c.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=c.nsSeparator);const x=M=>M?typeof M=="function"?new M:M:null;if(!this.options.isClone){this.modules.logger?Ka.init(x(this.modules.logger),this.options):Ka.init(null,this.options);let M;this.modules.formatter?M=this.modules.formatter:M=Yx;const _=new mh(this.options);this.store=new dh(this.options.resources,this.options);const U=this.services;U.logger=Ka,U.resourceStore=this.store,U.languageUtils=_,U.pluralResolver=new Hx(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),M&&(!this.options.interpolation.format||this.options.interpolation.format===p.interpolation.format)&&(U.formatter=x(M),U.formatter.init(U,this.options),this.options.interpolation.format=U.formatter.format.bind(U.formatter)),U.interpolator=new Vx(this.options),U.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},U.backendConnector=new qx(x(this.modules.backend),U.resourceStore,U,this.options),U.backendConnector.on("*",function(F){for(var j=arguments.length,Q=new Array(j>1?j-1:0),V=1;V<j;V++)Q[V-1]=arguments[V];l.emit(F,...Q)}),this.modules.languageDetector&&(U.languageDetector=x(this.modules.languageDetector),U.languageDetector.init&&U.languageDetector.init(U,this.options.detection,this.options)),this.modules.i18nFormat&&(U.i18nFormat=x(this.modules.i18nFormat),U.i18nFormat.init&&U.i18nFormat.init(this)),this.translator=new fu(this.services,this.options),this.translator.on("*",function(F){for(var j=arguments.length,Q=new Array(j>1?j-1:0),V=1;V<j;V++)Q[V-1]=arguments[V];l.emit(F,...Q)}),this.modules.external.forEach(F=>{F.init&&F.init(this)})}if(this.format=this.options.interpolation.format,h||(h=$l),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const M=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);M.length>0&&M[0]!=="dev"&&(this.options.lng=M[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(M=>{this[M]=function(){return l.store[M](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(M=>{this[M]=function(){return l.store[M](...arguments),l}});const S=Fo(),w=()=>{const M=(_,U)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),S.resolve(U),h(_,U)};if(this.languages&&!this.isInitialized)return M(null,this.t.bind(this));this.changeLanguage(this.options.lng,M)};return this.options.resources||!this.options.initAsync?w():setTimeout(w,0),S}loadResources(l){var x,b;let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$l;const p=Ke(l)?l:this.language;if(typeof l=="function"&&(h=l),!this.options.resources||this.options.partialBundledLanguages){if((p==null?void 0:p.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return h();const v=[],S=w=>{if(!w||w==="cimode")return;this.services.languageUtils.toResolveHierarchy(w).forEach(_=>{_!=="cimode"&&v.indexOf(_)<0&&v.push(_)})};p?S(p):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(M=>S(M)),(b=(x=this.options.preload)==null?void 0:x.forEach)==null||b.call(x,w=>S(w)),this.services.backendConnector.load(v,this.options.ns,w=>{!w&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),h(w)})}else h(null)}reloadResources(l,c,h){const p=Fo();return typeof l=="function"&&(h=l,l=void 0),typeof c=="function"&&(h=c,c=void 0),l||(l=this.languages),c||(c=this.options.ns),h||(h=$l),this.services.backendConnector.reload(l,c,x=>{p.resolve(),h(x)}),p}use(l){if(!l)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!l.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return l.type==="backend"&&(this.modules.backend=l),(l.type==="logger"||l.log&&l.warn&&l.error)&&(this.modules.logger=l),l.type==="languageDetector"&&(this.modules.languageDetector=l),l.type==="i18nFormat"&&(this.modules.i18nFormat=l),l.type==="postProcessor"&&lg.addPostProcessor(l),l.type==="formatter"&&(this.modules.formatter=l),l.type==="3rdParty"&&this.modules.external.push(l),this}setResolvedLanguage(l){if(!(!l||!this.languages)&&!(["cimode","dev"].indexOf(l)>-1)){for(let c=0;c<this.languages.length;c++){const h=this.languages[c];if(!(["cimode","dev"].indexOf(h)>-1)&&this.store.hasLanguageSomeTranslations(h)){this.resolvedLanguage=h;break}}!this.resolvedLanguage&&this.languages.indexOf(l)<0&&this.store.hasLanguageSomeTranslations(l)&&(this.resolvedLanguage=l,this.languages.unshift(l))}}changeLanguage(l,c){var h=this;this.isLanguageChangingTo=l;const p=Fo();this.emit("languageChanging",l);const x=S=>{this.language=S,this.languages=this.services.languageUtils.toResolveHierarchy(S),this.resolvedLanguage=void 0,this.setResolvedLanguage(S)},b=(S,w)=>{w?this.isLanguageChangingTo===l&&(x(w),this.translator.changeLanguage(w),this.isLanguageChangingTo=void 0,this.emit("languageChanged",w),this.logger.log("languageChanged",w)):this.isLanguageChangingTo=void 0,p.resolve(function(){return h.t(...arguments)}),c&&c(S,function(){return h.t(...arguments)})},v=S=>{var _,U;!l&&!S&&this.services.languageDetector&&(S=[]);const w=Ke(S)?S:S&&S[0],M=this.store.hasLanguageSomeTranslations(w)?w:this.services.languageUtils.getBestMatchFromCodes(Ke(S)?[S]:S);M&&(this.language||x(M),this.translator.language||this.translator.changeLanguage(M),(U=(_=this.services.languageDetector)==null?void 0:_.cacheUserLanguage)==null||U.call(_,M)),this.loadResources(M,F=>{b(F,M)})};return!l&&this.services.languageDetector&&!this.services.languageDetector.async?v(this.services.languageDetector.detect()):!l&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(v):this.services.languageDetector.detect(v):v(l),p}getFixedT(l,c,h){var p=this;const x=function(b,v){let S;if(typeof v!="object"){for(var w=arguments.length,M=new Array(w>2?w-2:0),_=2;_<w;_++)M[_-2]=arguments[_];S=p.options.overloadTranslationOptionHandler([b,v].concat(M))}else S={...v};S.lng=S.lng||x.lng,S.lngs=S.lngs||x.lngs,S.ns=S.ns||x.ns,S.keyPrefix!==""&&(S.keyPrefix=S.keyPrefix||h||x.keyPrefix);const U=p.options.keySeparator||".";let F;return S.keyPrefix&&Array.isArray(b)?F=b.map(j=>`${S.keyPrefix}${U}${j}`):F=S.keyPrefix?`${S.keyPrefix}${U}${b}`:b,p.t(F,S)};return Ke(l)?x.lng=l:x.lngs=l,x.ns=c,x.keyPrefix=h,x}t(){var p;for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];return(p=this.translator)==null?void 0:p.translate(...c)}exists(){var p;for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];return(p=this.translator)==null?void 0:p.exists(...c)}setDefaultNamespace(l){this.options.defaultNS=l}hasLoadedNamespace(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const h=c.lng||this.resolvedLanguage||this.languages[0],p=this.options?this.options.fallbackLng:!1,x=this.languages[this.languages.length-1];if(h.toLowerCase()==="cimode")return!0;const b=(v,S)=>{const w=this.services.backendConnector.state[`${v}|${S}`];return w===-1||w===0||w===2};if(c.precheck){const v=c.precheck(this,b);if(v!==void 0)return v}return!!(this.hasResourceBundle(h,l)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||b(h,l)&&(!p||b(x,l)))}loadNamespaces(l,c){const h=Fo();return this.options.ns?(Ke(l)&&(l=[l]),l.forEach(p=>{this.options.ns.indexOf(p)<0&&this.options.ns.push(p)}),this.loadResources(p=>{h.resolve(),c&&c(p)}),h):(c&&c(),Promise.resolve())}loadLanguages(l,c){const h=Fo();Ke(l)&&(l=[l]);const p=this.options.preload||[],x=l.filter(b=>p.indexOf(b)<0&&this.services.languageUtils.isSupportedCode(b));return x.length?(this.options.preload=p.concat(x),this.loadResources(b=>{h.resolve(),c&&c(b)}),h):(c&&c(),Promise.resolve())}dir(l){var p,x;if(l||(l=this.resolvedLanguage||(((p=this.languages)==null?void 0:p.length)>0?this.languages[0]:this.language)),!l)return"rtl";const c=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],h=((x=this.services)==null?void 0:x.languageUtils)||new mh(Eh());return c.indexOf(h.getLanguagePartFromCode(l))>-1||l.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;return new Vo(l,c)}cloneInstance(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$l;const h=l.forkResourceStore;h&&delete l.forkResourceStore;const p={...this.options,...l,isClone:!0},x=new Vo(p);if((l.debug!==void 0||l.prefix!==void 0)&&(x.logger=x.logger.clone(l)),["store","services","language"].forEach(v=>{x[v]=this[v]}),x.services={...this.services},x.services.utils={hasLoadedNamespace:x.hasLoadedNamespace.bind(x)},h){const v=Object.keys(this.store.data).reduce((S,w)=>(S[w]={...this.store.data[w]},S[w]=Object.keys(S[w]).reduce((M,_)=>(M[_]={...S[w][_]},M),S[w]),S),{});x.store=new dh(v,p),x.services.resourceStore=x.store}return x.translator=new fu(x.services,p),x.translator.on("*",function(v){for(var S=arguments.length,w=new Array(S>1?S-1:0),M=1;M<S;M++)w[M-1]=arguments[M];x.emit(v,...w)}),x.init(p,c),x.translator.options=p,x.translator.backendConnector.services.utils={hasLoadedNamespace:x.hasLoadedNamespace.bind(x)},x}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Nn=Vo.createInstance();Nn.createInstance=Vo.createInstance;Nn.createInstance;Nn.dir;Nn.init;Nn.loadResources;Nn.reloadResources;Nn.use;Nn.changeLanguage;Nn.getFixedT;Nn.t;Nn.exists;Nn.setDefaultNamespace;Nn.hasLoadedNamespace;Nn.loadNamespaces;Nn.loadLanguages;const{slice:Zx,forEach:Wx}=[];function Kx(d){return Wx.call(Zx.call(arguments,1),l=>{if(l)for(const c in l)d[c]===void 0&&(d[c]=l[c])}),d}function Jx(d){return typeof d!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(c=>c.test(d))}const wh=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,$x=function(d,l){const h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},p=encodeURIComponent(l);let x=`${d}=${p}`;if(h.maxAge>0){const b=h.maxAge-0;if(Number.isNaN(b))throw new Error("maxAge should be a Number");x+=`; Max-Age=${Math.floor(b)}`}if(h.domain){if(!wh.test(h.domain))throw new TypeError("option domain is invalid");x+=`; Domain=${h.domain}`}if(h.path){if(!wh.test(h.path))throw new TypeError("option path is invalid");x+=`; Path=${h.path}`}if(h.expires){if(typeof h.expires.toUTCString!="function")throw new TypeError("option expires is invalid");x+=`; Expires=${h.expires.toUTCString()}`}if(h.httpOnly&&(x+="; HttpOnly"),h.secure&&(x+="; Secure"),h.sameSite)switch(typeof h.sameSite=="string"?h.sameSite.toLowerCase():h.sameSite){case!0:x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"strict":x+="; SameSite=Strict";break;case"none":x+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return h.partitioned&&(x+="; Partitioned"),x},bh={create(d,l,c,h){let p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};c&&(p.expires=new Date,p.expires.setTime(p.expires.getTime()+c*60*1e3)),h&&(p.domain=h),document.cookie=$x(d,encodeURIComponent(l),p)},read(d){const l=`${d}=`,c=document.cookie.split(";");for(let h=0;h<c.length;h++){let p=c[h];for(;p.charAt(0)===" ";)p=p.substring(1,p.length);if(p.indexOf(l)===0)return p.substring(l.length,p.length)}return null},remove(d){this.create(d,"",-1)}};var ey={name:"cookie",lookup(d){let{lookupCookie:l}=d;if(l&&typeof document<"u")return bh.read(l)||void 0},cacheUserLanguage(d,l){let{lookupCookie:c,cookieMinutes:h,cookieDomain:p,cookieOptions:x}=l;c&&typeof document<"u"&&bh.create(c,d,h,p,x)}},ty={name:"querystring",lookup(d){var h;let{lookupQuerystring:l}=d,c;if(typeof window<"u"){let{search:p}=window.location;!window.location.search&&((h=window.location.hash)==null?void 0:h.indexOf("?"))>-1&&(p=window.location.hash.substring(window.location.hash.indexOf("?")));const b=p.substring(1).split("&");for(let v=0;v<b.length;v++){const S=b[v].indexOf("=");S>0&&b[v].substring(0,S)===l&&(c=b[v].substring(S+1))}}return c}};let Bs=null;const Ch=()=>{if(Bs!==null)return Bs;try{if(Bs=typeof window<"u"&&window.localStorage!==null,!Bs)return!1;const d="i18next.translate.boo";window.localStorage.setItem(d,"foo"),window.localStorage.removeItem(d)}catch{Bs=!1}return Bs};var ny={name:"localStorage",lookup(d){let{lookupLocalStorage:l}=d;if(l&&Ch())return window.localStorage.getItem(l)||void 0},cacheUserLanguage(d,l){let{lookupLocalStorage:c}=l;c&&Ch()&&window.localStorage.setItem(c,d)}};let ks=null;const Sh=()=>{if(ks!==null)return ks;try{if(ks=typeof window<"u"&&window.sessionStorage!==null,!ks)return!1;const d="i18next.translate.boo";window.sessionStorage.setItem(d,"foo"),window.sessionStorage.removeItem(d)}catch{ks=!1}return ks};var ay={name:"sessionStorage",lookup(d){let{lookupSessionStorage:l}=d;if(l&&Sh())return window.sessionStorage.getItem(l)||void 0},cacheUserLanguage(d,l){let{lookupSessionStorage:c}=l;c&&Sh()&&window.sessionStorage.setItem(c,d)}},iy={name:"navigator",lookup(d){const l=[];if(typeof navigator<"u"){const{languages:c,userLanguage:h,language:p}=navigator;if(c)for(let x=0;x<c.length;x++)l.push(c[x]);h&&l.push(h),p&&l.push(p)}return l.length>0?l:void 0}},ry={name:"htmlTag",lookup(d){let{htmlTag:l}=d,c;const h=l||(typeof document<"u"?document.documentElement:null);return h&&typeof h.getAttribute=="function"&&(c=h.getAttribute("lang")),c}},sy={name:"path",lookup(d){var p;let{lookupFromPathIndex:l}=d;if(typeof window>"u")return;const c=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?(p=c[typeof l=="number"?l:0])==null?void 0:p.replace("/",""):void 0}},oy={name:"subdomain",lookup(d){var p,x;let{lookupFromSubdomainIndex:l}=d;const c=typeof l=="number"?l+1:1,h=typeof window<"u"&&((x=(p=window.location)==null?void 0:p.hostname)==null?void 0:x.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(h)return h[c]}};let ug=!1;try{document.cookie,ug=!0}catch{}const cg=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ug||cg.splice(1,1);const ly=()=>({order:cg,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:d=>d});class fg{constructor(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(l,c)}init(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=l,this.options=Kx(c,this.options||{},ly()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=p=>p.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=h,this.addDetector(ey),this.addDetector(ty),this.addDetector(ny),this.addDetector(ay),this.addDetector(iy),this.addDetector(ry),this.addDetector(sy),this.addDetector(oy)}addDetector(l){return this.detectors[l.name]=l,this}detect(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,c=[];return l.forEach(h=>{if(this.detectors[h]){let p=this.detectors[h].lookup(this.options);p&&typeof p=="string"&&(p=[p]),p&&(c=c.concat(p))}}),c=c.filter(h=>h!=null&&!Jx(h)).map(h=>this.options.convertDetectedLanguage(h)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?c:c.length>0?c[0]:null}cacheUserLanguage(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;c&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(l)>-1||c.forEach(h=>{this.detectors[h]&&this.detectors[h].cacheUserLanguage(l,this.options)}))}}fg.type="languageDetector";const uy={siguienteQR:"Ir al siguiente QR"},cy={proyecto:"🌍 Proyecto educativo para el Parque de la Prehistoria",desarrolladoPor:"🧠 Desarrollado por <1>Engranajes Ciencia</1> & Equipo FCT 💻",derechos:"© {{year}} Todos los derechos reservados"},fy={actividad:uy,footer:cy},dy={titulo:"Elige tu estilo de juego",subtitulo:"¿Exploras solo o acompañado?",modoIndividual:"Modo individual",modoEquipo:"Modo equipo",proximamente:"Próximamente"},hy={titulo:"Aventura Prehistórica",descripcion:"¡Bienvenido a la Aventura Prehistórica! Acabas de embarcarte en un viaje en el tiempo donde descubrirás los secretos mejor guardados de la historia de la humanidad y de la Tierra. Guiado por tu fiel compañero o compañera (¡tú eliges!), recorrerás 10 lugares sagrados, fósiles milenarios, civilizaciones ancestrales y monumentos asombrosos. En cada parada encontrarás un código QR que activará una misión: una actividad interactiva que te hará pensar, aprender y superar retos. ¿Estás preparado para convertirte en un auténtico explorador del tiempo? 🧭 ¡Tu aventura comienza ya!",empezar:"Empezar Aventura"},gy={nombre:"Nombre de explorador/a:",placeholderNombre:"Escribe tu nombre...",guia:"Elige a tu guía:",botonAventura:"Empezar Aventura",alertaNombreInvalido:"El nombre solo puede contener letras, números y espacios.",alertaFaltanDatos:"Por favor, escribe tu nombre y elige un avatar."},my={saludo:"¡Saludos {{nombre}}!",dialogo:"Yo ser guía {{guia}}. Tú seguir {{guia}}.<0></0><0></0>{{nombre}} tener prendas raras.<0></0><0></0>¿{{nombre}} no ser de aquí?<0></0><0></0>No importar,<0></0><0></0>¡{{nombre}} y {{guia}} explorar tierras!",instruccion:"Escanea un código QR o selecciona una actividad para comenzar.",botonQR:"Escanear Código QR",botonVolver:"Volver"},py={titulo:"Escanea el código QR",escaneando:"Escaneando... apunta con la cámara al QR",qrInvalido:"QR no válido. Asegúrate de que el QR contiene una URL con /actividad/número"},xy={mapa:"Mapa del recorrido",guiaTexto:"¡Buen trabajo {{nombre}}! Has completado {{ultimaCompletada}} de 20 paradas.",escanear:"Escanear siguiente parada",pantallaFinal:"Ver pantalla final",medallas:"Ver medallas"},yy={enhorabuena:"¡Enhorabuena!",completado:"100% completado",paradasCompletadas:"Has completado todas las paradas de la Aventura Prehistórica",diplomaInfantil:"Diploma infantil",diplomaAdulto:"Diploma Adulto",descarga:"Descargar Diploma",reiniciar:"Reiniciar juego",galeria:"Ver Galeria de Medallas",alertaSelecciona:"Selecciona un tipo de diploma",alertaNoCargaImagen:"No se pudo cargar la imagen del diploma"},Ey={accesoDenegado:"Acceso denegado. Escanea el código QR.",error:"Ha ocurrido un error al cargar la actividad.",saludo:"¡Hola {{nombre}}!",pausarAudio:"⏸️ Pausar audio",reproducirAudio:"▶️ Reproducir audio",pausarAudioENG:"⏸️ Pause audio",reproducirAudioENG:"▶️ Play audio",sabiasQue:"¿Sabías que...?"},Ay={galeriaVirtual:"Galería Virtual Medallas Prehistóricas"},wy={1:{titulo:"Primeras plantas",curiosidad:"Colonizaron la tierra hace más de 450 millones de años."}},by={1:{titulo:"Bienvenido. Comienza la aventura",avatarDialogo:{dialogo:"¡Hola aventureros! Yo seré vuestro guía en este recorrido por la historia de la humanidad.",mensaje:"Bienvenidos y bienvenidas al Parque de las Ciencias de la Prehistoria. Soy X y os invito a acompañarme en este viaje a través del tiempo, desde los orígenes de la vida en la Tierra hasta las primeras civilizaciones humanas. Aquí aprenderemos cómo evolucionaron las plantas, los animales y también nosotros, los seres humanos. Recordad: no toquéis las maquetas, cuidad el entorno y sobre todo… ¡disfrutad aprendiendo!",sabiasQue:"¿Sabías que la vida en la Tierra comenzó hace más de 3.500 millones de años?"}},2:{titulo:"El origen de la vida",avatarDialogo:{dialogo:" Estás en la parada 2. Mira a tu alrededor… aquí comenzó todo.",mensaje:"La Tierra se formó hace unos 4.500 millones de años. Al principio era un lugar sin vida con volcanes, océanos hirvientes y una atmósfera irrespirable. Pero con el tiempo, aparecieron las primeras formas de vida en el agua: bacterias y algas microscópicas. Aunque parezcan simples, estos seres diminutos fueron el primer paso en una larga cadena evolutiva… que nos lleva hasta hoy.",sabiasQue:"¿Sabías que las primeras formas de vida eran capaces de vivir sin oxígeno?"}},3:{titulo:"Las primeras plantas",avatarDialogo:{dialogo:"Parada 3. ¡Mira estos vegetales! Son los primeros habitantes verdes del planeta.",mensaje:" Hace unos 500 millones de años, la vida dio un salto muy importante: ¡salió del agua y conquistó la tierra firme! Las primeras plantas en hacerlo fueron los musgos, que no tenían tallo ni raíces y absorbían el agua directamente del suelo. Fueron los primeros pobladores verdes del planeta… y gracias a ellas, después pudieron llegar los animales.",sabiasQue:"¿Sabías que sin estas plantas, los animales nunca podrían haber vivido en tierra?"}},4:{titulo:"Prototaxiles y Meganeuras",avatarDialogo:{dialogo:"Parada 4. ¡Colosos fúngicos y libélulas gigantes, todo en un solo vistazo!",mensaje:"En esta zona vemos dos seres muy distintos, pero igual de sorprendentes. Los Prototaxites eran hongos gigantes que podían alcanzar los 8 metros de altura. A su lado, una criatura que parece una libélula enorme: la Meganeura, un insecto que vivió en el periodo carbonífero y que podía cazar pequeños reptiles. Antes de los dinosaurios, estos eran los reyes de la Tierra.",sabiasQue:"¿Sabías que hace más de 300 millones de años existieron hongos de 8 metros y libélulas gigantes que cazaban reptiles? ¡Eran los reyes antes de los dinosaurios!"}},5:{titulo:"Los primeros árboles",avatarDialogo:{dialogo:"Parada 5.¡Contempla los primeros bosques que estrenaron la sombra del planeta!",mensaje:"Con el paso del tiempo, las plantas se hicieron más complejas. Aparecieron los primeros árboles como los pinos, los ginkgos o las araucarias. Algunos desarrollaron frutos, lo que permitía que los animales ayudaran a esparcir sus semillas por nuevos territorios. Estos árboles dieron forma a los grandes bosques prehistóricos que cubrirían el planeta.",sabiasQue:"¿Sabías que los primeros árboles podían crecer hasta 30 metros, ¡mucho antes de que existieran los dinosaurios!"}},6:{titulo:"Las primeras flores",avatarDialogo:{dialogo:"Parada 6. Hace 150 millones de años, las flores y sus polinizadores pintaron de vida el mundo que hoy reconocemos.",mensaje:"Durante millones de años, las plantas no tuvieron flores. Pero hace unos 150 millones de años aparecieron las angiospermas, es decir, las plantas con flor. Gracias a las flores y a los polinizadores, como las abejas, las plantas pudieron reproducirse más fácilmente y expandirse con rapidez. El mundo vegetal ya empezaba a parecerse al que conocemos hoy.",sabiasQue:"¿Sabías que las primeras flores surgieron hace 150 millones de años y transformaron la reproducción de las plantas?"}},7:{titulo:"Los primeros dinosaurios",avatarDialogo:{dialogo:"Parada 7.¡Aquí comenzó la era de los gigantes que dominaron la Tierra!",mensaje:"Ahora entramos en el Jurásico, la era de los grandes dinosaurios. Aquí encontramos al Triceratops, que comía plantas bajas como los helechos, y al Brontosaurio, que podía alcanzar las copas de los árboles. Todos estos gigantes eran herbívoros, y su tamaño asombroso estaba adaptado a un mundo donde las plantas crecían en abundancia.",sabiasQue:"¿Sabías que los primeros dinosaurios aparecieron hace más de 230 millones de años y dominaron la Tierra durante casi 170 millones de años?"}},8:{titulo:"La deriva continental",avatarDialogo:{dialogo:"Parada 8. La deriva continental creó nuevos caminos para que los primeros dinosaurios conquistaran la Tierra",mensaje:"Hace millones de años, todos los continentes estaban unidos en una gran masa de tierra llamada Pangea. Con el tiempo, esta gran “isla” se fue fragmentando por el movimiento de las placas tectónicas. ¿Cómo lo sabemos? Gracias a los fósiles, que nos muestran restos idénticos en lugares hoy separados por océanos. La deriva continental aún continúa hoy.",sabiasQue:"¿Sabías que la deriva continental sigue moviendo a Europa y Norteamérica unos 2 cm al año?"}},9:{titulo:"Los segundos dinosaurios",avatarDialogo:{dialogo:"Parada 9. Estás en la parada 9: Dinosaurios gigantes. Prepárate para descubrir algo fascinante.",mensaje:"En esta zona encontramos dinosaurios carnívoros, como los alosaurios y los dromeosaurios, que cazaban sobre dos patas. Algunos, como los velociraptores, tenían plumas y compartían rasgos con las aves actuales. Estos dinosaurios nos muestran que la evolución no siempre desaparece, a veces... ¡se transforma!",sabiasQue:"¿Sabías que el triceratops tenía tres cuernos para defenderse?"}},10:{titulo:"Galápagos y Darwin",avatarDialogo:{dialogo:"Parada 10. Galápagos: el laboratorio natural donde Darwin reveló los secretos de la evolución",mensaje:"Charles Darwin viajó a las islas Galápagos en el siglo XIX y descubrió allí algo fascinante: animales muy parecidos entre sí, pero con pequeñas diferencias que les ayudaban a sobrevivir en cada isla. Esto le llevó a formular la teoría de la evolución por selección natural: sólo sobrevive quien mejor se adapta al entorno. Una idea que cambió la ciencia para siempre.",sabiasQue:"¿Sabías que Darwin tardó más de 20 años en publicar su teoría, motivado en gran parte por lo que aprendió en Galápagos?"}},11:{titulo:"Las huellas de Laetoli",avatarDialogo:{dialogo:"¡Parada 11! Vamos tras las huellas del pasado. ¿Listo para caminar con nuestros antecesores?",mensaje:"En Tanzania, África, se encontraron unas huellas muy especiales: las huellas de Laetoli, con más de 3 millones de años. Pertenecen a un Australopithecus, un antepasado lejano del ser humano. Estas huellas demuestran que ya caminaban erguidos sobre dos piernas, como nosotros. Un gran paso en la evolución hacia el Homo sapiens.",sabiasQue:"¿Sabías que fueron descubiertas en Tanzania en 1978?"}},12:{titulo:"Atapuerca",avatarDialogo:{dialogo:"Parada 12. Atapuerca, donde el legado de los dinosaurios dio paso a los primeros humanos",mensaje:"En España, en el yacimiento arqueológico de Atapuerca, se han encontrado restos de varios tipos de homínidos. Es uno de los lugares más importantes del mundo para comprender nuestra evolución. Allí, los científicos descubrieron especies como el Homo antecessor, lo que nos ayuda a reconstruir el árbol genealógico de la humanidad.",sabiasQue:"¿Sabías que en Atapuerca se encontraron restos humanos tan antiguos que ayudaron a reescribir la historia de cómo llegó el hombre a Europa?"}},13:{titulo:"El hombre de Neandertal",avatarDialogo:{dialogo:"Parada 13. El hombre de Neandertal, un antepasado fuerte que caminó junto a los primeros humanos",mensaje:"Durante mucho tiempo convivimos con otra especie humana: el Hombre de Neandertal. Fueron grandes cazadores, vivieron en climas fríos, y también usaban herramientas. Hoy sabemos que no se extinguieron del todo: muchas personas todavía conservan un pequeño porcentaje de ADN neandertal.",sabiasQue:"¿Sabías que el hombre de Neandertal tenía un cerebro tan grande o incluso más que el nuestro?"}},14:{titulo:"Cráneos y evolución humana",avatarDialogo:{dialogo:"Parada 14. Cada cráneo cuenta la historia de cómo evolucionó nuestra especie",mensaje:"En este museo verás cráneos de distintas especies humanas y de otros primates. Fíjate en cómo ha cambiado la forma del cráneo para dejar espacio al cerebro, que en los humanos modernos es mucho más grande. Ese cerebro nos permitió comunicarnos, crear herramientas, formar grupos… y dar paso a la cultura y la sociedad.",sabiasQue:"¿Sabías que estudiar cráneos antiguos nos permite entender cómo cambiaron nuestras habilidades y comportamiento con la evolución?"}},15:{titulo:"Cuevas y arte rupestre",avatarDialogo:{dialogo:"Parada 15. ¿Ves esas pinturas? Son mensajes silenciosos de una humanidad muy antigua.",mensaje:"Las pinturas que encontrarás aquí son copias de las que se hicieron en cuevas como Lascaux, Chauvet o Nerja. Con pigmentos naturales y candiles, nuestros antepasados decoraban las paredes con animales, figuras humanas… y hasta manos sopladas. Estas pinturas no eran solo arte: también eran enseñanza, ritual y memoria colectiva.",sabiasQue:"¿Sabías que usaban pigmentos naturales de rocas y carbón?"}},16:{titulo:"Los poblados nómadas",avatarDialogo:{dialogo:"Llegamos a la parada 16. ¡Los nómadas eran exploradores como nosotros!",mensaje:"Antes de construir casas, nuestros antepasados eran nómadas: se movían buscando comida y refugio. Vivían en tiendas como los tipis, fáciles de desmontar y transportar. Cazaban, recolectaban y decoraban sus cuerpos con plumas y collares. Lejos de ser primitivos, eran expertos en adaptarse al entorno.",sabiasQue:"¿Sabías que no tenían casas fijas y vivían en chozas?"}},17:{titulo:"Primeros poblados sedentarios",avatarDialogo:{dialogo:"¡Parada 17! Dejar de moverse y empezar a construir... ¡eso sí que fue un gran cambio!",mensaje:"Con el cambio climático y el descubrimiento de la agricultura, algunas tribus dejaron de moverse y comenzaron a construir los primeros asentamientos fijos. Sembraban, criaban animales y almacenaban comida. Así surgieron los primeros pueblos, los templos, los líderes… y una nueva forma de vida: el sedentarismo.",sabiasQue:"¿Sabías que comenzaron a construir aldeas permanentes?"}},18:{titulo:"Pinturas del Sáhara y de Laja Alta",avatarDialogo:{dialogo:"Parada 18. Estas pinturas revelan cómo en la Prehistoria ya cuidaban su ganado y surcaban los mares",mensaje:"En este mural vemos escenas de la vida cotidiana en la Prehistoria. Destacan unas pinturas del Sáhara, en las que aparece un grupo cuidando del ganado, un reflejo realista de las primeras sociedades organizadas. Junto a la casa de Çatalhöyük se representa otra escena sorprendente: barcos de vela encontrados en Laja Alta, Cádiz. Aunque se pensó que eran fenicios, hoy sabemos que son mucho más antiguos, de la Edad del Cobre, y nos muestran que ya entonces… ¡navegaban los mares!",sabiasQue:"¿Sabías que las pinturas del Sahara y La Laja Alta son algunas de las primeras evidencias de sociedades organizadas y navegación antigua?"}},19:{titulo:"Çatalhöyük",avatarDialogo:{dialogo:"Parada 19. Esta es una de las primeras ciudades donde comenzó la vida en comunidad",mensaje:"Çatalhöyük, en Turquía, fue una de las primeras ciudades del mundo. Las casas no tenían puertas a ras del suelo, se entraba por el tejado. Allí ya había hornos, vasijas y hasta figuras religiosas, como la Diosa Madre, que protegía la fertilidad y la caza. Esta ciudad nos habla de espiritualidad, organización social… y del comienzo de las grandes civilizaciones.",sabiasQue:"¿Sabías que en Çatalhöyük, las casas se construían unas junto a otras sin calles, y la gente entraba por el techo?"}},20:{titulo:"Stonehenge",avatarDialogo:{dialogo:"¡Mira estas piedras gigantes en la ultima parada! ¿Quién las puso ahí? ¡Vamos a investigarlo!",mensaje:"Ante vosotros tenéis una réplica de Stonehenge, un conjunto de piedras gigantes alineadas con la salida del sol en el solsticio de verano. Fue construido hace más de 4.000 años en Inglaterra y aún hoy no sabemos con certeza para qué servía. ¿Templo, calendario, lugar de reunión? Sea cual sea su función, nos recuerda que desde hace milenios, el ser humano observa el cielo, piensa en el tiempo… y construye en común.",sabiasQue:"¿Sabías que algunas alineaciones indican los solsticios?"}},modojuego:dy,portada:hy,form:gy,mapa:my,escaner:py,entreActividades:xy,final:yy,actividad:Ey,vitrinaVirtual:Ay,medallas:wy},Cy={siguienteQR:"Scanner QR"},Sy={proyecto:"🌍 Educational project for the Prehistoric Park",desarrolladoPor:"🧠 Developed by <1>Engranajes Ciencia</1> & FCT Team 💻",derechos:"© {{year}} All rights reserved"},vy={actividad:Cy,footer:Sy},Ty={titulo:"Choose your game style",subtitulo:"Do you explore solo or with others?",modoIndividual:"Single mode",modoEquipo:"Team mode",proximamente:"Coming soon"},Ny={titulo:"Prehistoric Adventure",descripcion:"Welcome to the Prehistoric Adventure! You have just embarked on a journey through time where you will uncover the best-kept secrets of human history and Earth. Guided by your faithful companion (you choose!), you will visit 10 sacred places, ancient fossils, ancestral civilizations, and amazing monuments. At each stop, you will find a QR code that activates a mission: an interactive activity that will make you think, learn, and overcome challenges. Are you ready to become a true time explorer? 🧭 Your adventure starts now!",empezar:"Start Adventure"},Oy={nombre:"Explorer name:",placeholderNombre:"Enter your name...",guia:"Choose your guide:",botonAventura:"Start Adventure",alertaNombreInvalido:"The name can only contain letters, numbers, and spaces.",alertaFaltanDatos:"Please enter your name and choose an avatar."},My={saludo:"Greetings {{nombre}}!",dialogo:"I am guide {{guia}}. You follow {{guia}}.<0></0><0></0>{{nombre}} wear strange clothes.<0></0><0></0>{{nombre}} not from here?<0></0><0></0>No problem,<0></0><0></0>{{nombre}} and {{guia}} explore lands!",instruccion:"Scan a QR code or select an activity to begin.",botonQR:"Scan QR Code",botonVolver:"Back"},Iy={titulo:"Scan the QR code",escaneando:"Scanning... point the camera at the QR code",qrInvalido:"Invalid QR. Make sure it contains a URL with /actividad/number"},Ry={mapa:"Map of the route",guiaTexto:"Good job {{nombre}}! You have completed {{ultimaCompletada}} of 20 stops.",escanear:"Scan next stop",pantallaFinal:"See final screen",medallas:"See medals"},Dy={enhorabuena:"Congratulations!",completado:"100% completed",paradasCompletadas:"You have completed all the stops of Prehistoric Adventure",diplomaInfantil:"Children's diploma",diplomaAdulto:"Adult diploma",descarga:"Download diploma",reiniciar:"Restart game",galeria:"See Medal Gallery",alertaSelecciona:"Select a type of diploma",alertaNoCargaImagen:"the image of the diploma could not be uploaded"},_y={accesoDenegado:"Unauthorized access. Please scan a valid QR code.",error:"Activity not found or access not allowed.",saludo:"Hi {{nombre}}!",pausarAudio:"⏸️ Pausar audio",reproducirAudio:"▶️ Reproducir audio",botonAudioENG:"🎧 Listen in English",pausarAudioENG:"⏸️ Pause audio",reproducirAudioENG:"▶️ Play audio",sabiasQue:"Did you know...?"},Ly={galeriaVirtual:"Virtual gallery of prehistoric medals"},By={1:{titulo:"First plants",curiosidad:"They colonized the Earth more than 150 million years ago."},2:{}},ky={1:{titulo:"Welcome – The adventure begins",avatarDialogo:{dialogo:"Hello adventurers! I will be your guide on this journey through the history of humankind.",mensaje:"Welcome to the Prehistoric Science Park. I'm X, and I invite you to join me on this journey through time, from the origins of life on Earth to the first human civilizations. Here, we’ll learn how plants, animals, and humans evolved. Remember: don’t touch the models, take care of the environment, and above all… enjoy learning!",sabiasQue:"Did you know that life on Earth began more than 3.5 billion years ago?"}},2:{titulo:"The origin of life",avatarDialogo:{dialogo:"You are at stop 2. Look around… this is where it all started.",mensaje:"Earth formed about 4.5 billion years ago. At first, it was lifeless, with volcanoes, boiling oceans, and an unbreathable atmosphere. But over time, the first forms of life appeared in the water: bacteria and microscopic algae. Though simple, these tiny beings were the first step in a long evolutionary chain… that leads us to today.",sabiasQue:"Did you know that the first life forms were capable of living without oxygen?"}},3:{titulo:"The first plants",avatarDialogo:{dialogo:"Stop 3. Look at these vegetables! They are the first green inhabitants of the planet.",mensaje:"About 500 million years ago, life took a giant leap: it left the water and conquered dry land! The first plants to do so were mosses, which had no stems or roots and absorbed water directly from the ground. They were the first green settlers of the planet… and thanks to them, animals could follow.",sabiasQue:"Did you know that without these plants, animals could never have lived on land?"}},4:{titulo:"Prototaxiles and Meganeuras",avatarDialogo:{dialogo:"Stop 4. Fungal colossi and giant dragonflies, all in one view!",mensaje:"In this area, we see two very different yet equally amazing creatures. Prototaxites were giant fungi that could reach up to 8 meters in height. Next to them, a creature that looks like a huge dragonfly: the Meganeura, an insect from the Carboniferous period that could hunt small reptiles. Before the dinosaurs, these were the rulers of the Earth.",sabiasQue:"Did you know that over 300 million years ago, there were 8-meter-high mushrooms and giant dragonflies that hunted reptiles? They were kings before the dinosaurs!"}},5:{titulo:"The first trees",avatarDialogo:{dialogo:"Stop 5. See the first forests that debuted in the shadow of the planet!",mensaje:"Over time, plants became more complex. The first trees appeared, like pines, ginkgos, and araucarias. Some developed fruits, allowing animals to help spread their seeds to new territories. These trees gave rise to the great prehistoric forests that covered the planet.",sabiasQue:"Did you know that the first trees could grow up to 30 meters, long before the dinosaurs existed!"}},6:{titulo:"The first flowers",avatarDialogo:{dialogo:"Stop 6. 150 million years ago, flowers and their pollinators brought life to the world we recognize today.",mensaje:"For millions of years, plants had no flowers. But around 150 million years ago, flowering plants—called angiosperms—appeared. Thanks to flowers and pollinators like bees, plants could reproduce more easily and spread quickly. The plant world was beginning to resemble the one we know today.",sabiasQue:"Did you know that the first flowers emerged 150 million years ago and transformed plant reproduction?"}},7:{titulo:"The first dinosaurs",avatarDialogo:{dialogo:"Stop 7. Here began the era of the giants who ruled the Earth!",mensaje:"Now we enter the Jurassic, the era of the great dinosaurs. Here we find the Triceratops, which ate low plants like ferns, and the Brontosaurus, which could reach the treetops. All these giants were herbivores, and their amazing size was suited to a world where plants grew in abundance.",sabiasQue:"Did you know that the first dinosaurs appeared more than 230 million years ago and ruled the Earth for almost 170 million years?"}},8:{titulo:"The continental drift",avatarDialogo:{dialogo:"Stop 8. Continental drift created new paths for the first dinosaurs to conquer the Earth.",mensaje:"Millions of years ago, all the continents were united in a single landmass called Pangaea. Over time, this giant “island” broke apart due to the movement of tectonic plates. How do we know? Thanks to fossils that show identical remains in places now separated by oceans. Continental drift is still happening today.",sabiasQue:"Did you know that continental drift continues to move Europe and North America by about 2 cm per year?"}},9:{titulo:"The second dinosaurs",avatarDialogo:{dialogo:"You are at stop 9: Giant Dinosaurs. Get ready to discover something fascinating.",mensaje:"In this area, we find carnivorous dinosaurs, like Allosaurus and Dromaeosaurs, which hunted on two legs. Some, like Velociraptors, had feathers and shared traits with modern birds. These dinosaurs show us that evolution doesn’t always disappear—sometimes, it transforms!",sabiasQue:"Did you know that the triceratops had three horns to defend itself?"}},10:{titulo:"Galapagos and Darwin",avatarDialogo:{dialogo:"Stop 10. Galapagos: the natural laboratory where Darwin revealed the secrets of evolution",mensaje:"Charles Darwin traveled to the Galápagos Islands in the 19th century and discovered something fascinating: animals that looked similar but had small differences that helped them survive on each island. This led him to formulate the theory of evolution by natural selection: only those best adapted to their environment survive. An idea that changed science forever.",sabiasQue:"Did you know that Darwin took more than 20 years to publish his theory, motivated in large part by what he learned in the Galapagos?"}},11:{titulo:"The footprints of Laetoli",avatarDialogo:{dialogo:"Stop 11! We are following in the footsteps of the past. Ready to walk with our ancestors?",mensaje:"In Tanzania, Africa, some very special footprints were found: the Laetoli footprints, over 3 million years old. They belong to an Australopithecus, a distant human ancestor. These footprints show that they were already walking upright on two legs, like us. A big step in the evolution toward Homo sapiens.",sabiasQue:"Did you know that they were discovered in Tanzania in 1978?"}},12:{titulo:"Atapuerca",avatarDialogo:{dialogo:"Stop 12. Atapuerca, where the legacy of the dinosaurs gave way to the first humans",mensaje:"In Spain, at the Atapuerca archaeological site, remains of various types of hominids have been found. It’s one of the most important places in the world for understanding our evolution. There, scientists discovered species like Homo antecessor, which helps us reconstruct humanity’s family tree.",sabiasQue:"Did you know that human remains so ancient that they helped rewrite the history of how humans came to Europe were found in Atapuerca?"}},13:{titulo:"The Neandertal man",avatarDialogo:{dialogo:"Stop 13. Neanderthal man, a strong ancestor who walked alongside early humans",mensaje:"For a long time, we coexisted with another human species: the Neanderthals. They were great hunters, lived in cold climates, and also used tools. Today we know they didn’t completely disappear: many people still carry a small percentage of Neanderthal DNA.",sabiasQue:"Did you know that Neanderthals had a brain as big as, or even bigger than, ours?"}},14:{titulo:"Skulls and human evolution",avatarDialogo:{dialogo:"Stop 14. Each skull tells the story of how our species evolved.",mensaje:"In this museum, you’ll see skulls from different human species and other primates. Notice how the skull’s shape has changed to make room for the brain, which is much larger in modern humans. That brain allowed us to communicate, create tools, form groups… and give rise to culture and society.",sabiasQue:"Did you know that studying ancient skulls allows us to understand how our abilities and behavior changed with evolution?"}},15:{titulo:"Caves and rock art",avatarDialogo:{dialogo:"Stop 15. See those paintings? They are silent messages from a very ancient humanity.",mensaje:"The paintings you see here are copies of those made in caves like Lascaux, Chauvet, or Nerja. Using natural pigments and oil lamps, our ancestors decorated the walls with animals, human figures… and even blown handprints. These paintings weren’t just art: they were also teaching, ritual, and collective memory.",sabiasQue:"Did you know they used natural pigments from rocks and charcoal?"}},16:{titulo:"The nomadic villages",avatarDialogo:{dialogo:"We arrived at stop 16. The nomads were explorers like us!",mensaje:"Before building houses, our ancestors were nomads: they moved in search of food and shelter. They lived in tents like tipis, which were easy to take down and transport. They hunted, gathered, and decorated their bodies with feathers and necklaces. Far from primitive, they were experts at adapting to their environment.",sabiasQue:"Did you know that they did not have permanent homes and lived in huts?"}},17:{titulo:"Firts sedentary settlements",avatarDialogo:{dialogo:"Stop 17! Stop moving and start building...now that was a big change!",mensaje:"With climate change and the discovery of agriculture, some tribes stopped moving and began building permanent settlements. They planted crops, raised animals, and stored food. That’s how the first villages, temples, leaders… and a new way of life—sedentarism—emerged.",sabiasQue:"Did you know that they began to build permanent villages?"}},18:{titulo:"Painting of the Sahara and Laja Alta",avatarDialogo:{dialogo:"Stop 18. These paintings reveal how in prehistoric times they already tended their livestock and sailed the seas.",mensaje:"This mural shows scenes from everyday life in Prehistoric times. Look at the Saharan paintings depicting a group caring for livestock, a realistic glimpse of early organized societies. Next to Çatalhöyük’s house, another surprising scene: sailboats found in Laja Alta, Cádiz. Once thought to be Phoenician, we now know they are much older—from the Copper Age—and show that even back then… they were already sailing the seas!",sabiasQue:"Did you know that the paintings of the Sahara and La Laja Alta are some of the earliest evidence of organized societies and ancient navigation?"}},19:{titulo:"Çatalhöyük",avatarDialogo:{dialogo:"Stop 19. This is one of the first cities where community life began",mensaje:"Çatalhöyük, in Turkey, was one of the world’s first cities. The houses had no ground-level doors—you entered through the roof. There were ovens, pottery, and even religious figures like the Mother Goddess, who protected fertility and hunting. This city speaks to us of spirituality, social organization… and the beginnings of great civilizations.",sabiasQue:"Did you know that in Çatalhöyük, houses were built next to each other without streets, and people entered through the roof?"}},20:{titulo:"Stonehenge",avatarDialogo:{dialogo:"Check out these giant stones at the last stop! Who put them there? Let's investigate it!",mensaje:"Before you stands a replica of Stonehenge, a group of giant stones aligned with the sunrise on the summer solstice. It was built over 4,000 years ago in England, and we still don’t know exactly what it was for. A temple? A calendar? A gathering place? Whatever its purpose, it reminds us that for millennia, humans have looked at the sky, thought about time… and built together.",sabiasQue:"Did you know that some alignments indicate the solstices? Did you know that some alignments indicate the solstices?"}},modojuego:Ty,portada:Ny,form:Oy,mapa:My,escaner:Iy,entreActividades:Ry,final:Dy,actividad:_y,vitrinaVirtual:Ly,medallas:By};Nn.use(fg).use(_2).init({resources:{es:{general:fy,pages:by},en:{general:vy,pages:ky}},fallbackLng:"es",ns:["general","pages"],defaultNS:"general",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});function Uy(){const{t:d}=pr("pages"),l=ei(),[c,h]=X.useState(!0);return X.useEffect(()=>{const p="qr-reader",x=new Ix(p,{fps:10,qrbox:250,rememberLastUsedCamera:!0});x.render(v=>{console.log(" QR detectado:",v),h(!1);const S=v.trim();let w;if(S.includes("/actividad/")){const M=S.indexOf("/actividad/");w=S.substring(M)}else{alert(d("escaner.qrInvalido"));return}sg({particleCount:100,spread:90,origin:{y:.6},colors:["#79a981","#fdd835","#66bb6a","#9b9b9b"]}),localStorage.setItem("accesoQR","true"),setTimeout(()=>{x.clear().then(()=>{l(w)})},100)},v=>{console.warn("Escaneo fallido:",v)});let b;if(Nn.language==="es"){const v={"Scan QR Code":"Escanea el código QR","Request Camera Permissions":"Solicitar permisos de cámara","Scan an Image File":"Escanear desde imagen","Stop Scanning":"Detener escaneo","Camera permissions denied. Please reset permission and refresh the page.":"Permiso de cámara denegado. Por favor, revisa los ajustes y recarga la página.","No camera found.":"No se encontró ninguna cámara.","Choose image - No image choosen":"Cargar imagen"},S=M=>{var _;if(M.nodeType===3){const U=M.textContent.trim();v[U]&&(M.textContent=v[U])}(_=M.childNodes)==null||_.forEach(S)},w=()=>{const M=document.getElementById(p);M&&S(M)};b=new MutationObserver(()=>{w()}),setTimeout(()=>{const M=document.getElementById(p);M&&(b.observe(M,{childList:!0,subtree:!0}),w())},200)}return()=>{x.clear().catch(v=>console.error(" Error al limpiar scanner",v)),b&&b.disconnect()}},[l,Nn.language]),te.jsxs("div",{className:"scanner-container",children:[te.jsx("h2",{className:"scanner-title",children:d("escaner.titulo")}),te.jsx("div",{id:"qr-reader",className:"qr-reader-box"}),c&&te.jsxs("div",{className:"spinner-container",children:[te.jsx("div",{className:"spinner"}),te.jsx("p",{className:"texto-escaneo",children:d("escaner.escaneando")})]})]})}function dg(){const d=localStorage.getItem("actividadesCompletadas");return d?JSON.parse(d):[]}function Py(d){const l=dg();l.includes(d)||(l.push(d),localStorage.setItem("actividadesCompletadas",JSON.stringify(l)))}function t3(){localStorage.removeItem("actividadesCompletadas")}const Fy=JSON.parse('[{"id":1,"titulo":"Bienvenida – Comienza la aventura","ubicacion":"Entrada principal del parque","posX":510,"posY":1130,"audio":"/sounds/paradasaudio/ESP/Adultos/parada1.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada1ENG.mp3","geniallyURL":"#","imagenAlternativa":"/assets/images/nogenially/bienvenida.jpeg","completada":false},{"id":2,"titulo":"El origen de la vida","ubicacion":"Zona de fósiles marinos","posX":770,"posY":1050,"audio":"/sounds/paradasaudio/ESP/Adultos/parada2.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada2ENG.mp3","geniallyURL":"#","imagenAlternativa":"/assets/images/nogenially/origen.png","completada":false},{"id":3,"titulo":"Las primeras plantas","ubicacion":"Área de musgos y helechos antiguos","posX":570,"posY":1035,"audio":"/sounds/paradasaudio/ESP/Adultos/parada3.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada3ENG.mp3","geniallyURL":"#","completada":false},{"id":4,"titulo":"Prototaxiles y Meganeuras","ubicacion":"#","posX":520,"posY":590,"audio":"/sounds/paradasaudio/ESP/Adultos/parada4.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada4ENG.mp3","geniallyURL":"#","imagenAlternativa":"/assets/images/nogenially/meganeura.png","completada":false},{"id":5,"titulo":"Los primeros árboles","ubicacion":"#","posX":480,"posY":540,"audio":"/sounds/paradasaudio/ESP/Adultos/parada5.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada5ENG.mp3","geniallyURL":"#","completada":false},{"id":6,"titulo":"Las primeras flores","ubicacion":"#","posX":780,"posY":800,"audio":"/sounds/paradasaudio/ESP/Adultos/parada6.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada6ENG.mp3","geniallyURL":"https://view.genially.com/681b03dfdbac94f0fdc3927a/interactive-content-actividad6","completada":false},{"id":7,"titulo":"Los primeros dinosaurios","ubicacion":"  # ","posX":490,"posY":870,"audio":"/sounds/paradasaudio/ESP/Adultos/parada7.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada7ENG.mp3","geniallyURL":"#","imagenAlternativa":"/assets/images/nogenially/dinos.png","completada":false},{"id":8,"titulo":"La deriva continental","ubicacion":"#","posX":710,"posY":720,"audio":"/sounds/paradasaudio/ESP/Adultos/parada8.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada8ENG.mp3","geniallyURL":"#","imagenAlternativa":"/assets/images/nogenially/pangea.png","completada":false},{"id":9,"titulo":"Los segundos dinosaurios","ubicacion":"#","posX":520,"posY":700,"audio":"/sounds/paradasaudio/ESP/Adultos/parada9.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada9ENG.mp3","geniallyURL":"https://view.genially.com/68231bb7256d2888593fbd73/interactive-content-actividad2","completada":false},{"id":10,"titulo":"Galápagos y Darwin","ubicacion":"#","posX":700,"posY":540,"audio":"/sounds/paradasaudio/ESP/Adultos/parada10.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada10ENG.mp3","geniallyURL":"https://view.genially.com/6822fb3a4fee7f24275c0354/interactive-content-actividad10","completada":false},{"id":11,"titulo":"Huellas de Laetoli","ubicacion":"Descubrimiento de pisadas humanas fósiles","posX":560,"posY":490,"audio":"/sounds/paradasaudio/ESP/Adultos/parada11.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada11ENG.mp3","geniallyURL":"https://view.genially.com/67f8fa02c2e20bb7b0ca82c6/interactive-content-actividad-4","imagenAlternativa":"/assets/images/nogenially/laetoli.png","completada":false},{"id":12,"titulo":"Atapuerca","ubicacion":"#","posX":500,"posY":420,"audio":"/sounds/paradasaudio/ESP/Adultos/parada12.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada12ENG.mp3","geniallyURL":"#","completada":false},{"id":13,"titulo":"El hombre de Neandertal","ubicacion":"#","posX":460,"posY":390,"audio":"/sounds/paradasaudio/ESP/Adultos/parada13.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada13ENG.mp3","geniallyURL":"https://view.genially.com/67e283be994f4e3b61c714e9/interactive-content-actividad13","completada":false},{"id":14,"titulo":"Cráneos y evolución humana","ubicacion":"#","posX":430,"posY":350,"audio":"/sounds/paradasaudio/ESP/Adultos/parada14.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada14ENG.mp3","geniallyURL":"#","imagenAlternativa":"/assets/images/nogenially/craneos.png","completada":false},{"id":15,"titulo":"Cuevas y arte rupestre","ubicacion":"Arte prehistórico","posX":350,"posY":230,"audio":"/sounds/paradasaudio/ESP/Adultos/parada15.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada15ENG.mp3","geniallyURL":"https://view.genially.com/67e3cc8058a3eb22e678b730/interactive-content-actividad15","completada":false},{"id":16,"titulo":"Los poblados nómadas","ubicacion":"Estilo de vida de los nómadas","posX":340,"posY":150,"audio":"/sounds/paradasaudio/ESP/Adultos/parada16.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada16ENG.mp3","geniallyURL":"https://view.genially.com/67f8edffb7b2a9c007101174/interactive-content-actividad6","completada":false},{"id":17,"titulo":"Primeros poblados sedentarios","ubicacion":"Primeros asentamientos","posX":360,"posY":180,"audio":"/sounds/paradasaudio/ESP/Adultos/parada17.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada17ENG.mp3","geniallyURL":"https://view.genially.com/67f8f638c08c8840c0b4fe3c/interactive-content-actividad7","imagenAlternativa":"/assets/images/nogenially/sedentario.png","completada":false},{"id":18,"titulo":"Pinturas del Sáhara y de Laja Alta","ubicacion":"#","posX":400,"posY":310,"audio":"/sounds/paradasaudio/ESP/Adultos/parada18.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada18ENG.mp3","geniallyURL":"#","imagenAlternativa":"/assets/images/nogenially/sahara.png","completada":false},{"id":19,"titulo":"Çatalhöyük","ubicacion":"#","posX":370,"posY":270,"audio":"/sounds/paradasaudio/ESP/Adultos/parada19.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada19ENG.mp3","geniallyURL":"https://view.genially.com/67f8f638c08c8840c0b4fe3c/interactive-content-actividad19","completada":false},{"id":20,"titulo":"Stonehenge","ubicacion":"Monumento megalítico","posX":420,"posY":580,"audio":"/sounds/paradasaudio/ESP/Adultos/parada20.mp3","audioENG":"/sounds/paradasaudio/ENG/Adultos/parada20ENG.mp3","geniallyURL":"https://view.genially.com/67f65b9660c12a0045379037/interactive-content-actividad9","completada":false},{"id":111,"titulo":"Fósiles prehistóricos","ubicacion":"Fósil de trilobite y helecho","audio":"/sounds/soundsParadas/Parada1Trilobitesv2,5.mp3","avatarDialogo":{"explorador":{"dialogo":" Estás en la parada 1: Fósiles prehistóricos. Prepárate para descubrir algo fascinante.","mensaje":"Bienvenido a tu primera parada. Aquí descubrirás datos asombrosos sobre cómo vivieron los trilobites. Fueron animales marinos que habitaron los océanos hace unos 500 millones de años.","sabiasQue":"¿Sabías que los trilobites existieron antes que los dinosaurios?"},"exploradora":{"dialogo":"¡Estas en la parada 1 sobre fósiles prehistóricos! Te encantará lo que verás.","mensaje":"Bienvenido a tu primera parada. Aquí descubrirás datos asombrosos sobre cómo vivieron los trilobites. Fueron animales marinos que habitaron los océanos hace unos 500 millones de años.","sabiasQue":"¿Sabías que las plantas fósiles ayudaron a formar el carbón que usamos hoy?"}},"geniallyURL":"https://view.genially.com/67e134e5a75d54115e15f3f0/interactive-content-actividad-1","completada":false},{"id":113,"titulo":"Tortuga de las Galápagos","ubicacion":"Zona de reptiles fósiles","posX":200,"posY":130,"audio":"/sounds/soundsParadas/Parada3Tortugasv2,5.mp3","avatarDialogo":{"explorador":{"dialogo":"¡ Estás en la parada 3: Tortuga de las Galápagos. Prepárate para descubrir algo fascinante.","mensaje":"Bienvenido a tu tercera parada. Aquí descubrirás a las increíbles tortugas de las Galápagos, famosas por su longevidad y tamaño impresionante. Estas majestuosas criaturas han sobrevivido por siglos en un ecosistema único, adaptándose a las condiciones extremas de las islas. Observa cómo se mueven lentamente, pero con gran determinación, recorriendo su hogar volcánico.","sabiasQue":"¿Sabías que pueden pesar más de 200 kilos?"},"exploradora":{"dialogo":"¡Estas en la parada 3 sobre la tortuga de las Galápagos! Te encantará lo que verás.","mensaje":"Bienvenido a tu tercera parada. Aquí descubrirás a las increíbles tortugas de las Galápagos, famosas por su longevidad y tamaño impresionante. Estas majestuosas criaturas han sobrevivido por siglos en un ecosistema único, adaptándose a las condiciones extremas de las islas. Observa cómo se mueven lentamente, pero con gran determinación, recorriendo su hogar volcánico.","sabiasQue":"¿Sabías que su caparazón puede cambiar según la isla?"}},"geniallyURL":"https://view.genially.com/67f8f2f8b5b5ac75ac152d4e/interactive-content-actividad-3","completada":false},{"id":118,"titulo":"Pozo","ubicacion":"Acceso al agua en la antigüedad","posX":200,"posY":130,"audio":"/sounds/soundsParadas/Parada8Pozov2,5.mp3","avatarDialogo":{"explorador":{"dialogo":"Parada 8: El agua era más valiosa que el oro. Sin pozos, no había futuro.","mensaje":"Bienvenido a tu octava parada. Aquí descubrirás el pozo prehistórico, una estructura clave para la supervivencia de las antiguas comunidades. Estos pozos eran utilizados para almacenar agua, un recurso vital en tiempos donde su acceso no siempre era fácil. Observa cómo fueron construidos y cómo jugaron un papel fundamental en la evolución de los asentamientos humanos.","sabiasQue":"¿Sabías que algunos tenían poleas para sacar el agua más fácil?"},"exploradora":{"dialogo":"Parada 8 activada. Cada gota contaba. Vamos a descubrir cómo sacaban el agua.","mensaje":"Bienvenido a tu octava parada. Aquí descubrirás el pozo prehistórico, una estructura clave para la supervivencia de las antiguas comunidades. Estos pozos eran utilizados para almacenar agua, un recurso vital en tiempos donde su acceso no siempre era fácil. Observa cómo fueron construidos y cómo jugaron un papel fundamental en la evolución de los asentamientos humanos.","sabiasQue":"¿Sabías que los primeros pozos datan del Neolítico?"}},"geniallyURL":"https://view.genially.com/67f8fda123c430f481ddb5e6/interactive-content-actividad-8","completada":false},{"id":120,"titulo":"Templo de Karnak","ubicacion":"Antiguo Egipto","audio":"/sounds/soundsParadas/Parada10Karnakv2,5.mp3","avatarDialogo":{"explorador":{"dialogo":"¡Última parada! El Templo de Karnak es testigo de siglos de historia. Vamos a explorarlo juntos.","mensaje":"Bienvenido a tu última parada. Has llegado al Templo de Karnak, uno de los complejos religiosos más impresionantes del antiguo Egipto. Construido a lo largo de más de dos mil años, este templo era un lugar de adoración dedicado a los dioses y faraones. Sus enormes columnas y relieves cuentan historias de batallas, rituales y ofrendas. Observa su grandiosidad y siente el poder de una civilización que dejó una huella imborrable en la historia.","sabiasQue":"¿Sabías que cada faraón dejaba su huella en Karnak?"},"exploradora":{"dialogo":"Llegamos a la parada 10. Un lugar sagrado lleno de símbolos y leyendas del antiguo Egipto.","mensaje":"Bienvenido a tu última parada. Has llegado al Templo de Karnak, uno de los complejos religiosos más impresionantes del antiguo Egipto. Construido a lo largo de más de dos mil años, este templo era un lugar de adoración dedicado a los dioses y faraones. Sus enormes columnas y relieves cuentan historias de batallas, rituales y ofrendas. Observa su grandiosidad y siente el poder de una civilización que dejó una huella imborrable en la historia.","sabiasQue":"¿Sabías que era el centro religioso más importante del antiguo Egipto?"}},"geniallyURL":"https://view.genially.com/67e283be994f4e3b61c714e9/interactive-content-actividad10","completada":false}]');function zy(){const{t:d}=pr("pages"),l=dg(),c=ei(),h=l[l.length-1],p=l.length+1,x=localStorage.getItem("avatar")||"explorador",b=localStorage.getItem("nombre")||"explorador/a";return te.jsxs("div",{className:"mapa-check-container",children:[te.jsx("h2",{children:d("entreActividades.mapa")}),te.jsx("img",{src:`/04-WebApp-Prehistoria/assets/avatars/${x}.png`,alt:"avatar",className:"guia-avatar"}),te.jsx("p",{className:"guia-texto",children:d("entreActividades.guiaTexto",{nombre:b,ultimaCompletada:h})}),te.jsx("div",{className:"barra-progreso",children:te.jsx("div",{className:"relleno",style:{width:`${l.length/20*100}%`}})}),te.jsxs("div",{className:"mapa-contenedor",children:[te.jsx("img",{src:"/04-WebApp-Prehistoria/assets/images/fondo-mapa.png",alt:"Mapa",className:"mapa-real"}),Fy.map(v=>{if(typeof v.posX!="number"||typeof v.posY!="number")return null;const S=l.includes(v.id),w=v.id===h,M=v.id===p;return te.jsxs("div",{className:`marcador 
                                ${S?"completada":""}
                                ${M?"siguiente":""}
                            `,style:{top:`${v.posY}px`,left:`${v.posX}px`,animationDelay:`${v.id*.05}s`},title:`Parada ${v.id}: ${v.titulo}`,children:[v.id," ",w&&te.jsx("img",{src:`/04-WebApp-Prehistoria/assets/avatars/${x}.png`,alt:"posición actual",className:"marcador-avatar"})]},v.id)})]}),te.jsxs("div",{className:"botones-container",children:[l.length>=10?te.jsx("button",{className:"btn-final",onClick:()=>c("/final"),children:d("entreActividades.pantallaFinal")}):te.jsxs("button",{className:"btn-scan",onClick:()=>c("/EscanerQR"),children:[d("entreActividades.escanear")," (",p,")"]}),te.jsx("button",{className:"btn-medallas",onClick:()=>c("/vitrina-virtual"),children:d("entreActividades.medallas")})]})]})}function jy(){const[d,l]=X.useState(!0),[c,h]=X.useState(60),p=ei();return X.useEffect(()=>{Py("secreto")},[]),X.useEffect(()=>{d&&sg.create(document.getElementById("confetti-canvas"),{resize:!0,useWorker:!0})({particleCount:200,spread:70,origin:{y:.6}})},[d]),X.useEffect(()=>{let x;return!d&&c>0&&(x=setInterval(()=>{h(b=>b-1)},1e3)),()=>clearInterval(x)},[d,c]),X.useEffect(()=>{const x=setTimeout(()=>l(!1),4e3);return()=>clearTimeout(x)},[]),te.jsxs("div",{className:"modo-secreto-container",children:[te.jsx("canvas",{id:"confetti-canvas",className:"canvas-confetti"}),d?te.jsxs("div",{className:"modal-secreto",children:[te.jsx("img",{src:"/assets/images/cofreCerrado.png",alt:"Cofre cerrado",className:"cofre-img"}),te.jsx("h2",{children:"🎉 ¡Enhorabuena!"}),te.jsx("p",{children:"Has encontrado el código secreto del parque."}),te.jsx("p",{children:"Una actividad especial te espera..."})]}):te.jsxs("div",{className:"contenido-secreto",children:[te.jsx("img",{src:"/assets/images/cofreAbierto.png",alt:"Cofre abierto",className:"cofre-img"}),te.jsx("h1",{children:"🔓 ¡Modo Secreto Desbloqueado!"}),te.jsxs("p",{children:["Tienes ",te.jsx("strong",{children:c})," segundos para completar la actividad especial:"]}),te.jsx("div",{className:"genially-container",children:te.jsx("iframe",{title:"actividad-secreta",src:"https://view.genially.com/xxxx",width:"100%",height:"600",allowFullScreen:!0,frameBorder:"0"})}),c<=0&&te.jsx("button",{onClick:()=>p("/"),className:"btn-volver",children:"⏳ Tiempo agotado — Volver al inicio"})]})]})}function eu(){return te.jsx("div",{className:"spinner-container",children:te.jsx("div",{className:"spinner"})})}const Hy=X.lazy(()=>mu(()=>import("./Final-BZvCI7yK.js").then(d=>d.F),__vite__mapDeps([0,1]))),Vy=X.lazy(()=>mu(()=>import("./Actividad-BTTxjvog.js"),__vite__mapDeps([2,3]))),Gy=X.lazy(()=>mu(()=>import("./Vitrina-BYAGFOQ9.js"),__vite__mapDeps([4,5]))),Yy=X.lazy(()=>mu(()=>import("./VitrinaVirtual-ChdCmIHM.js"),__vite__mapDeps([6,7])));function Xy(){return te.jsxs(Op,{children:[te.jsx(ba,{path:Ia.MODOJUEGO,element:te.jsx(U2,{})}),te.jsx(ba,{path:Ia.PORTADA,element:te.jsx(P2,{})}),te.jsx(ba,{path:Ia.FORM,element:te.jsx(j2,{})}),te.jsx(ba,{path:Ia.MAPA,element:te.jsx(G2,{})}),te.jsx(ba,{path:Ia.ENTREACTIVIDADES,element:te.jsx(zy,{})}),te.jsx(ba,{path:Ia.ESCANERQR,element:te.jsx(Uy,{})}),te.jsx(ba,{path:Ia.MODO_SECRETO,element:te.jsx(jy,{})}),te.jsx(ba,{path:Ia.ACTIVIDAD,element:te.jsx(X.Suspense,{fallback:te.jsx(eu,{}),children:te.jsx(Vy,{})})}),te.jsx(ba,{path:Ia.FINAL,element:te.jsx(X.Suspense,{fallback:te.jsx(eu,{}),children:te.jsx(Hy,{})})}),te.jsx(ba,{path:Ia.VITRINA,element:te.jsx(X.Suspense,{fallback:te.jsx(eu,{}),children:te.jsx(Gy,{})})}),te.jsx(ba,{path:Ia.VITRINA_VIRTUAL,element:te.jsx(X.Suspense,{fallback:te.jsx(eu,{}),children:te.jsx(Yy,{})})})]})}function qy(){const d=ei(),[l,c]=X.useState(!1),{i18n:h,t:p}=pr(),[x,b]=X.useState(!1),v=X.useRef(null),[S,w]=X.useState(""),M=Q=>{w(Q),setTimeout(()=>w(""),3e3)};X.useEffect(()=>{const V=localStorage.getItem("modoOscuro")==="true";c(V),V&&document.documentElement.classList.add("dark")},[]);const _=()=>{const Q=!l;c(Q),document.documentElement.classList.toggle("dark",Q),localStorage.setItem("modoOscuro",Q),M(nuevo?"Modo Oscuro":"Modo Claro")},U=()=>{b(!x),v.current&&(v.current.muted=!x,M(x?"Música Activada":"Música Silenciada"))},F=()=>{const Q=h.language==="es"?"en":"es";h.changeLanguage(Q),M(nuevo==="es"?"Español":"English")},j=()=>{const Q=document.documentElement;Q.requestFullscreen?Q.requestFullscreen():Q.webkitRequestFullscreen?Q.webkitRequestFullscreen():Q.msRequestFullscreen&&Q.msRequestFullscreen(),M("Modo Kiosco")};return X.useEffect(()=>{v.current&&(v.current.volume=.1)},[]),te.jsxs("header",{className:"header",children:[S&&te.jsx("div",{className:"tooltip-touch",children:S}),te.jsx("div",{className:"header-top",children:te.jsx("div",{className:"branding",children:te.jsx("img",{src:"/04-WebApp-Prehistoria/assets/images/Logo-principal.png",alt:"Logo empresa",className:"logo"})})}),te.jsxs("h1",{className:"titulo-header",children:["Parque ",te.jsx("br",{}),"Prehistórico"]}),te.jsxs("div",{className:"botones-header",children:[te.jsx("button",{className:"icon-btn","data-tooltip":"Inicio",onClick:()=>d("/"),children:"🏠"}),te.jsx("button",{className:"icon-btn","data-tooltip":l?"Modo Claro":"Modo Oscuro",onClick:_,children:l?"☀️":"🌙"}),te.jsx("button",{className:"icon-btn","data-tooltip":"Música",onClick:U,children:x?"🔇":"🎵"}),te.jsx("button",{className:"icon-btn","data-tooltip":"Kiosco",onClick:j,children:"🖥️"}),te.jsx("button",{className:"icon-btn","data-tooltip":"Idioma",onClick:F,children:h.language==="es"?"🇪🇸":"🇬🇧"}),te.jsx("audio",{ref:v,src:"/sounds/musica.mp3",loop:!0,autoPlay:!0,muted:x})]})]})}function Qy(){const{t:d}=pr();return te.jsxs("footer",{className:"footer",children:[te.jsx("p",{children:d("footer.proyecto")}),te.jsx("p",{children:te.jsx(Kh,{i18nKey:"footer.desarrolladoPor",components:{1:te.jsx("strong",{})}})}),te.jsx("p",{children:d("footer.derechos",{year:new Date().getFullYear()})})]})}function Zy(){const[d,l]=X.useState(navigator.onLine);return X.useEffect(()=>{const c=()=>l(!0),h=()=>l(!1);return window.addEventListener("online",c),window.addEventListener("offline",h),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",h)}},[]),te.jsx(te.Fragment,{children:!d&&te.jsx("div",{className:"connection-alert",children:"⚠️ ¡Estás desconectado de Internet!"})})}const Wy=({timeout:d=9e5,onTimeout:l})=>{const c=X.useRef(null),h=()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l()},d)};return X.useEffect(()=>{const p=["touchstart","touchmove","keydown","scroll"],x=()=>{h()};return p.forEach(b=>window.addEventListener(b,x)),h(),()=>{p.forEach(b=>window.removeEventListener(b,x)),c.current&&clearTimeout(c.current)}},[d,l]),null},Ky=({children:d})=>{const l=ei(),c=mr(),h=document.documentElement.classList.contains("dark"),p=()=>{alert("Inactividad detectada. Cerrando sesión..."),l("/")},x=c.pathname==="/";return te.jsxs("div",{className:`layout ${h?"modo-oscuro":""}`,children:[!x&&te.jsx(Wy,{timeout:9e5,onTimeout:p}),te.jsx(qy,{}),te.jsx("main",{children:d}),te.jsx(Zy,{}),te.jsx(Qy,{})]})};function Jy(){const d=l2(),[l,c]=X.useState(!0);return X.useEffect(()=>{const p=setTimeout(()=>{c(!1)},1e3);return()=>clearTimeout(p)},[]),l?te.jsxs("div",{className:"preloader",children:[te.jsx("div",{className:"spinner",children:" "}),te.jsxs("p",{className:"cargando",children:["Cargando ",te.jsx("span",{className:"dots"})," "]})]}):te.jsx(Kp,{basename:"/04-WebApp-Prehistoria/",children:te.jsxs("div",{children:[d==="portrait"&&te.jsx("div",{className:"orientacion-alerta",children:"⚠️ Para una mejor experiencia recomendamos utilizar el dispositivo en modo horizontal"}),te.jsx(Ky,{children:te.jsx(Xy,{})})]})})}Fm.createRoot(document.getElementById("root")).render(te.jsx(Rm.StrictMode,{children:te.jsx(Jp,{children:te.jsx(Jy,{})})}));export{mu as _,ei as a,t3 as b,sg as c,$y as d,Fy as e,e3 as f,Kl as g,du as h,te as j,Py as m,X as r,pr as u,F2 as v};
