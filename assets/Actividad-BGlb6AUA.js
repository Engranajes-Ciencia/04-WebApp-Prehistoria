import{b as p,u as g,d as h,r as n,v as f,e as x,m as j,j as a}from"./index-qS6aMOPB.js";function N(){const{id:o}=p(),d=g(),s=h.find(c=>c.id===parseInt(o)),r=localStorage.getItem("avatar"),t=localStorage.getItem("nombre"),l=localStorage.getItem("accesoQR"),i=n.useRef(null),[u,m]=n.useState(!1);if(n.useEffect(()=>{if(l!=="true"||!f(t)||!x(r)){alert("Acceso no autorizado. Por favor, escanea un QR válido."),d("/EscanerQR");return}j(Number(o))},[o,d,r,t,l]),!s||!r||!t)return a.jsx("p",{className:"error-msg",children:"Actividad no encontrada o acceso no permitido."});const e=s.avatarDialogo[r],v=`/04-WebApp-Prehistoria/assets/avatars/${r}.png`;return a.jsxs("div",{className:"actividad-container",children:[a.jsxs("div",{className:"actividad-header",children:[a.jsx("img",{src:v,alt:"avatar",className:"avatar-actividad"}),a.jsxs("h2",{children:["¡Hola ",t,"! Soy tu guía en esta parada"]})]}),a.jsx("h3",{children:s.titulo}),(e==null?void 0:e.mensaje)&&a.jsx("p",{children:e.mensaje}),s.audio&&a.jsxs("div",{className:"audio-button-container",children:[a.jsx("button",{onClick:()=>{i.current&&(u?(i.current.pause(),m(!1)):(i.current.muted=!1,i.current.play().catch(c=>{console.warn("Error al reproducir el audio:",c)}),m(!0)))},className:"audio-button",children:u?"⏸️ Pausar audio":"▶️ Reproducir audio"}),a.jsx("audio",{ref:i,src:`/04-WebApp-Prehistoria/${s.audio.replace(/^\/+/,"")}`,preload:"auto"})]}),(e==null?void 0:e.sabiasQue)&&a.jsxs("p",{className:"sabiasque",children:[a.jsx("strong",{children:"¿Sabías que...?"})," ",e.sabiasQue]}),s.geniallyURL&&a.jsx("div",{className:"actividad-genially",children:a.jsx("iframe",{src:s.geniallyURL,width:"100%",height:"500px",frameBorder:"0",allowFullScreen:!0,title:"Genially actividad"})})]})}export{N as default};
