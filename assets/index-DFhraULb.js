const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Final-BoBhbflE.js","assets/Final-8VbbB14f.css","assets/Actividad-D14VtYQ7.js","assets/Actividad-CRxfVp7p.css","assets/Vitrina-BFDanZcQ.js","assets/Vitrina-CcsG1K3d.css","assets/VitrinaVirtual-d6FcrK18.js","assets/VitrinaVirtual-Bn4qRY1Z.css"])))=>i.map(i=>d[i]);
function g2(h,x){for(var d=0;d<x.length;d++){const A=x[d];if(typeof A!="string"&&!Array.isArray(A)){for(const E in A)if(E!=="default"&&!(E in h)){const y=Object.getOwnPropertyDescriptor(A,E);y&&Object.defineProperty(h,E,y.get?y:{enumerable:!0,get:()=>A[E]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))A(E);new MutationObserver(E=>{for(const y of E)if(y.type==="childList")for(const N of y.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&A(N)}).observe(document,{childList:!0,subtree:!0});function d(E){const y={};return E.integrity&&(y.integrity=E.integrity),E.referrerPolicy&&(y.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?y.credentials="include":E.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function A(E){if(E.ep)return;E.ep=!0;const y=d(E);fetch(E.href,y)}})();var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Vc={exports:{}},Cs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function x2(){if(W0)return Cs;W0=1;var h=Symbol.for("react.transitional.element"),x=Symbol.for("react.fragment");function d(A,E,y){var N=null;if(y!==void 0&&(N=""+y),E.key!==void 0&&(N=""+E.key),"key"in E){y={};for(var B in E)B!=="key"&&(y[B]=E[B])}else y=E;return E=y.ref,{$$typeof:h,type:A,key:N,ref:E!==void 0?E:null,props:y}}return Cs.Fragment=x,Cs.jsx=d,Cs.jsxs=d,Cs}var K0;function m2(){return K0||(K0=1,Vc.exports=x2()),Vc.exports}var ee=m2(),Yc={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function p2(){if(J0)return nt;J0=1;var h=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),k=Symbol.iterator;function J(M){return M===null||typeof M!="object"?null:(M=k&&M[k]||M["@@iterator"],typeof M=="function"?M:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,fe={};function $(M,D,se){this.props=M,this.context=D,this.refs=fe,this.updater=se||ne}$.prototype.isReactComponent={},$.prototype.setState=function(M,D){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,D,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ce(){}ce.prototype=$.prototype;function we(M,D,se){this.props=M,this.context=D,this.refs=fe,this.updater=se||ne}var oe=we.prototype=new ce;oe.constructor=we,ae(oe,$.prototype),oe.isPureReactComponent=!0;var Ie=Array.isArray,Le={H:null,A:null,T:null,S:null},je=Object.prototype.hasOwnProperty;function me(M,D,se,de,re,be){return se=be.ref,{$$typeof:h,type:M,key:D,ref:se!==void 0?se:null,props:be}}function Ze(M,D){return me(M.type,D,void 0,void 0,void 0,M.props)}function X(M){return typeof M=="object"&&M!==null&&M.$$typeof===h}function qe(M){var D={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return D[se]})}var Et=/\/+/g;function De(M,D){return typeof M=="object"&&M!==null&&M.key!=null?qe(""+M.key):D.toString(36)}function $e(){}function bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then($e,$e):(M.status="pending",M.then(function(D){M.status==="pending"&&(M.status="fulfilled",M.value=D)},function(D){M.status==="pending"&&(M.status="rejected",M.reason=D)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,D,se,de,re){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var te=!1;if(M===null)te=!0;else switch(be){case"bigint":case"string":case"number":te=!0;break;case"object":switch(M.$$typeof){case h:case x:te=!0;break;case L:return te=M._init,K(te(M._payload),D,se,de,re)}}if(te)return re=re(M),te=de===""?"."+De(M,0):de,Ie(re)?(se="",te!=null&&(se=te.replace(Et,"$&/")+"/"),K(re,D,se,"",function(Fe){return Fe})):re!=null&&(X(re)&&(re=Ze(re,se+(re.key==null||M&&M.key===re.key?"":(""+re.key).replace(Et,"$&/")+"/")+te)),D.push(re)),1;te=0;var ve=de===""?".":de+":";if(Ie(M))for(var Ce=0;Ce<M.length;Ce++)de=M[Ce],be=ve+De(de,Ce),te+=K(de,D,se,be,re);else if(Ce=J(M),typeof Ce=="function")for(M=Ce.call(M),Ce=0;!(de=M.next()).done;)de=de.value,be=ve+De(de,Ce++),te+=K(de,D,se,be,re);else if(be==="object"){if(typeof M.then=="function")return K(bt(M),D,se,de,re);throw D=String(M),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return te}function ye(M,D,se){if(M==null)return M;var de=[],re=0;return K(M,de,"","",function(be){return D.call(se,be,re++)}),de}function Se(M){if(M._status===-1){var D=M._result;D=D(),D.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=D)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function st(){}return nt.Children={map:ye,forEach:function(M,D,se){ye(M,function(){D.apply(this,arguments)},se)},count:function(M){var D=0;return ye(M,function(){D++}),D},toArray:function(M){return ye(M,function(D){return D})||[]},only:function(M){if(!X(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},nt.Component=$,nt.Fragment=d,nt.Profiler=E,nt.PureComponent=we,nt.StrictMode=A,nt.Suspense=O,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Le,nt.act=function(){throw Error("act(...) is not supported in production builds of React.")},nt.cache=function(M){return function(){return M.apply(null,arguments)}},nt.cloneElement=function(M,D,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=ae({},M.props),re=M.key,be=void 0;if(D!=null)for(te in D.ref!==void 0&&(be=void 0),D.key!==void 0&&(re=""+D.key),D)!je.call(D,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&D.ref===void 0||(de[te]=D[te]);var te=arguments.length-2;if(te===1)de.children=se;else if(1<te){for(var ve=Array(te),Ce=0;Ce<te;Ce++)ve[Ce]=arguments[Ce+2];de.children=ve}return me(M.type,re,void 0,void 0,be,de)},nt.createContext=function(M){return M={$$typeof:N,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:y,_context:M},M},nt.createElement=function(M,D,se){var de,re={},be=null;if(D!=null)for(de in D.key!==void 0&&(be=""+D.key),D)je.call(D,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(re[de]=D[de]);var te=arguments.length-2;if(te===1)re.children=se;else if(1<te){for(var ve=Array(te),Ce=0;Ce<te;Ce++)ve[Ce]=arguments[Ce+2];re.children=ve}if(M&&M.defaultProps)for(de in te=M.defaultProps,te)re[de]===void 0&&(re[de]=te[de]);return me(M,be,void 0,void 0,null,re)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(M){return{$$typeof:B,render:M}},nt.isValidElement=X,nt.lazy=function(M){return{$$typeof:L,_payload:{_status:-1,_result:M},_init:Se}},nt.memo=function(M,D){return{$$typeof:w,type:M,compare:D===void 0?null:D}},nt.startTransition=function(M){var D=Le.T,se={};Le.T=se;try{var de=M(),re=Le.S;re!==null&&re(se,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(st,Ue)}catch(be){Ue(be)}finally{Le.T=D}},nt.unstable_useCacheRefresh=function(){return Le.H.useCacheRefresh()},nt.use=function(M){return Le.H.use(M)},nt.useActionState=function(M,D,se){return Le.H.useActionState(M,D,se)},nt.useCallback=function(M,D){return Le.H.useCallback(M,D)},nt.useContext=function(M){return Le.H.useContext(M)},nt.useDebugValue=function(){},nt.useDeferredValue=function(M,D){return Le.H.useDeferredValue(M,D)},nt.useEffect=function(M,D){return Le.H.useEffect(M,D)},nt.useId=function(){return Le.H.useId()},nt.useImperativeHandle=function(M,D,se){return Le.H.useImperativeHandle(M,D,se)},nt.useInsertionEffect=function(M,D){return Le.H.useInsertionEffect(M,D)},nt.useLayoutEffect=function(M,D){return Le.H.useLayoutEffect(M,D)},nt.useMemo=function(M,D){return Le.H.useMemo(M,D)},nt.useOptimistic=function(M,D){return Le.H.useOptimistic(M,D)},nt.useReducer=function(M,D,se){return Le.H.useReducer(M,D,se)},nt.useRef=function(M){return Le.H.useRef(M)},nt.useState=function(M){return Le.H.useState(M)},nt.useSyncExternalStore=function(M,D,se){return Le.H.useSyncExternalStore(M,D,se)},nt.useTransition=function(){return Le.H.useTransition()},nt.version="19.0.0",nt}var $0;function nf(){return $0||($0=1,Yc.exports=p2()),Yc.exports}var Z=nf();const A2=tf(Z);var Gc={exports:{}},Ss={},Xc={exports:{}},qc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function y2(){return eh||(eh=1,function(h){function x(ye,Se){var Ue=ye.length;ye.push(Se);e:for(;0<Ue;){var st=Ue-1>>>1,M=ye[st];if(0<E(M,Se))ye[st]=Se,ye[Ue]=M,Ue=st;else break e}}function d(ye){return ye.length===0?null:ye[0]}function A(ye){if(ye.length===0)return null;var Se=ye[0],Ue=ye.pop();if(Ue!==Se){ye[0]=Ue;e:for(var st=0,M=ye.length,D=M>>>1;st<D;){var se=2*(st+1)-1,de=ye[se],re=se+1,be=ye[re];if(0>E(de,Ue))re<M&&0>E(be,de)?(ye[st]=be,ye[re]=Ue,st=re):(ye[st]=de,ye[se]=Ue,st=se);else if(re<M&&0>E(be,Ue))ye[st]=be,ye[re]=Ue,st=re;else break e}}return Se}function E(ye,Se){var Ue=ye.sortIndex-Se.sortIndex;return Ue!==0?Ue:ye.id-Se.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;h.unstable_now=function(){return y.now()}}else{var N=Date,B=N.now();h.unstable_now=function(){return N.now()-B}}var O=[],w=[],L=1,k=null,J=3,ne=!1,ae=!1,fe=!1,$=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,we=typeof setImmediate<"u"?setImmediate:null;function oe(ye){for(var Se=d(w);Se!==null;){if(Se.callback===null)A(w);else if(Se.startTime<=ye)A(w),Se.sortIndex=Se.expirationTime,x(O,Se);else break;Se=d(w)}}function Ie(ye){if(fe=!1,oe(ye),!ae)if(d(O)!==null)ae=!0,bt();else{var Se=d(w);Se!==null&&K(Ie,Se.startTime-ye)}}var Le=!1,je=-1,me=5,Ze=-1;function X(){return!(h.unstable_now()-Ze<me)}function qe(){if(Le){var ye=h.unstable_now();Ze=ye;var Se=!0;try{e:{ae=!1,fe&&(fe=!1,ce(je),je=-1),ne=!0;var Ue=J;try{t:{for(oe(ye),k=d(O);k!==null&&!(k.expirationTime>ye&&X());){var st=k.callback;if(typeof st=="function"){k.callback=null,J=k.priorityLevel;var M=st(k.expirationTime<=ye);if(ye=h.unstable_now(),typeof M=="function"){k.callback=M,oe(ye),Se=!0;break t}k===d(O)&&A(O),oe(ye)}else A(O);k=d(O)}if(k!==null)Se=!0;else{var D=d(w);D!==null&&K(Ie,D.startTime-ye),Se=!1}}break e}finally{k=null,J=Ue,ne=!1}Se=void 0}}finally{Se?Et():Le=!1}}}var Et;if(typeof we=="function")Et=function(){we(qe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,$e=De.port2;De.port1.onmessage=qe,Et=function(){$e.postMessage(null)}}else Et=function(){$(qe,0)};function bt(){Le||(Le=!0,Et())}function K(ye,Se){je=$(function(){ye(h.unstable_now())},Se)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(ye){ye.callback=null},h.unstable_continueExecution=function(){ae||ne||(ae=!0,bt())},h.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<ye?Math.floor(1e3/ye):5},h.unstable_getCurrentPriorityLevel=function(){return J},h.unstable_getFirstCallbackNode=function(){return d(O)},h.unstable_next=function(ye){switch(J){case 1:case 2:case 3:var Se=3;break;default:Se=J}var Ue=J;J=Se;try{return ye()}finally{J=Ue}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(ye,Se){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var Ue=J;J=ye;try{return Se()}finally{J=Ue}},h.unstable_scheduleCallback=function(ye,Se,Ue){var st=h.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?st+Ue:st):Ue=st,ye){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Ue+M,ye={id:L++,callback:Se,priorityLevel:ye,startTime:Ue,expirationTime:M,sortIndex:-1},Ue>st?(ye.sortIndex=Ue,x(w,ye),d(O)===null&&ye===d(w)&&(fe?(ce(je),je=-1):fe=!0,K(Ie,Ue-st))):(ye.sortIndex=M,x(O,ye),ae||ne||(ae=!0,bt())),ye},h.unstable_shouldYield=X,h.unstable_wrapCallback=function(ye){var Se=J;return function(){var Ue=J;J=Se;try{return ye.apply(this,arguments)}finally{J=Ue}}}}(qc)),qc}var th;function E2(){return th||(th=1,Xc.exports=y2()),Xc.exports}var Zc={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function w2(){if(nh)return Fn;nh=1;var h=nf();function x(O){var w="https://react.dev/errors/"+O;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var L=2;L<arguments.length;L++)w+="&args[]="+encodeURIComponent(arguments[L])}return"Minified React error #"+O+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var A={d:{f:d,r:function(){throw Error(x(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},E=Symbol.for("react.portal");function y(O,w,L){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:k==null?null:""+k,children:O,containerInfo:w,implementation:L}}var N=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function B(O,w){if(O==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Fn.createPortal=function(O,w){var L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(x(299));return y(O,w,null,L)},Fn.flushSync=function(O){var w=N.T,L=A.p;try{if(N.T=null,A.p=2,O)return O()}finally{N.T=w,A.p=L,A.d.f()}},Fn.preconnect=function(O,w){typeof O=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,A.d.C(O,w))},Fn.prefetchDNS=function(O){typeof O=="string"&&A.d.D(O)},Fn.preinit=function(O,w){if(typeof O=="string"&&w&&typeof w.as=="string"){var L=w.as,k=B(L,w.crossOrigin),J=typeof w.integrity=="string"?w.integrity:void 0,ne=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;L==="style"?A.d.S(O,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:k,integrity:J,fetchPriority:ne}):L==="script"&&A.d.X(O,{crossOrigin:k,integrity:J,fetchPriority:ne,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Fn.preinitModule=function(O,w){if(typeof O=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var L=B(w.as,w.crossOrigin);A.d.M(O,{crossOrigin:L,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&A.d.M(O)},Fn.preload=function(O,w){if(typeof O=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var L=w.as,k=B(L,w.crossOrigin);A.d.L(O,L,{crossOrigin:k,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Fn.preloadModule=function(O,w){if(typeof O=="string")if(w){var L=B(w.as,w.crossOrigin);A.d.m(O,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:L,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else A.d.m(O)},Fn.requestFormReset=function(O){A.d.r(O)},Fn.unstable_batchedUpdates=function(O,w){return O(w)},Fn.useFormState=function(O,w,L){return N.H.useFormState(O,w,L)},Fn.useFormStatus=function(){return N.H.useHostTransitionStatus()},Fn.version="19.0.0",Fn}var ih;function C2(){if(ih)return Zc.exports;ih=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(x){console.error(x)}}return h(),Zc.exports=w2(),Zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function S2(){if(ah)return Ss;ah=1;var h=E2(),x=nf(),d=C2();function A(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var y=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Ie=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function je(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var me=Symbol.for("react.client.reference");function Ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case B:return"Portal";case L:return"Profiler";case w:return"StrictMode";case fe:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ne:return(e.displayName||"Context")+".Provider";case J:return(e._context.displayName||"Context")+".Consumer";case ae:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return n=e.displayName||null,n!==null?n:Ze(e.type)||"Memo";case we:n=e._payload,e=e._init;try{return Ze(e(n))}catch{}}return null}var X=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qe=Object.assign,Et,De;function $e(e){if(Et===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Et=n&&n[1]||"",De=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+e+De}var bt=!1;function K(e,n){if(!e||bt)return"";bt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ie){var q=ie}Reflect.construct(e,[],xe)}else{try{xe.call()}catch(ie){q=ie}e.call(xe.prototype)}}else{try{throw Error()}catch(ie){q=ie}(xe=e())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ie){if(ie&&q&&typeof ie.stack=="string")return[ie.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),S=m[0],I=m[1];if(S&&I){var U=S.split(`
`),H=I.split(`
`);for(f=o=0;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===U.length||f===H.length)for(o=U.length-1,f=H.length-1;1<=o&&0<=f&&U[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(U[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||U[o]!==H[f]){var le=`
`+U[o].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=o&&0<=f);break}}}finally{bt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?$e(r):""}function ye(e){switch(e.tag){case 26:case 27:case 5:return $e(e.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return e=K(e.type,!1),e;case 11:return e=K(e.type.render,!1),e;case 1:return e=K(e.type,!0),e;default:return""}}function Se(e){try{var n="";do n+=ye(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ue(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function st(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function M(e){if(Ue(e)!==e)throw Error(A(188))}function D(e){var n=e.alternate;if(!n){if(n=Ue(e),n===null)throw Error(A(188));return n!==e?null:e}for(var r=e,o=n;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return M(f),e;if(m===o)return M(f),n;m=m.sibling}throw Error(A(188))}if(r.return!==o.return)r=f,o=m;else{for(var S=!1,I=f.child;I;){if(I===r){S=!0,r=f,o=m;break}if(I===o){S=!0,o=f,r=m;break}I=I.sibling}if(!S){for(I=m.child;I;){if(I===r){S=!0,r=m,o=f;break}if(I===o){S=!0,o=m,r=f;break}I=I.sibling}if(!S)throw Error(A(189))}}if(r.alternate!==o)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:n}function se(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=se(e),n!==null)return n;e=e.sibling}return null}var de=Array.isArray,re=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},te=[],ve=-1;function Ce(e){return{current:e}}function Fe(e){0>ve||(e.current=te[ve],te[ve]=null,ve--)}function Pe(e,n){ve++,te[ve]=e.current,e.current=n}var Ye=Ce(null),pt=Ce(null),Be=Ce(null),Qe=Ce(null);function Tt(e,n){switch(Pe(Be,n),Pe(pt,e),Pe(Ye,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?T0(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=T0(e),n=v0(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Fe(Ye),Pe(Ye,n)}function Yt(){Fe(Ye),Fe(pt),Fe(Be)}function At(e){e.memoizedState!==null&&Pe(Qe,e);var n=Ye.current,r=v0(n,e.type);n!==r&&(Pe(pt,e),Pe(Ye,r))}function et(e){pt.current===e&&(Fe(Ye),Fe(pt)),Qe.current===e&&(Fe(Qe),ps._currentValue=be)}var We=Object.prototype.hasOwnProperty,xn=h.unstable_scheduleCallback,Ne=h.unstable_cancelCallback,Sa=h.unstable_shouldYield,Yr=h.unstable_requestPaint,Xt=h.unstable_now,hr=h.unstable_getCurrentPriorityLevel,vn=h.unstable_ImmediatePriority,dr=h.unstable_UserBlockingPriority,Pn=h.unstable_NormalPriority,un=h.unstable_LowPriority,ba=h.unstable_IdlePriority,Ii=h.log,Il=h.unstable_setDisableYieldValue,_t=null,Ee=null;function an(e){if(Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(_t,e,void 0,(e.current.flags&128)===128)}catch{}}function ct(e){if(typeof Ii=="function"&&Il(e),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(_t,e)}catch{}}var ft=Math.clz32?Math.clz32:Rs,gr=Math.log,Ol=Math.LN2;function Rs(e){return e>>>=0,e===0?32:31-(gr(e)/Ol|0)|0}var ht=128,si=4194304;function Oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xr(e,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,f=e.suspendedLanes,m=e.pingedLanes,S=e.warmLanes;e=e.finishedLanes!==0;var I=r&134217727;return I!==0?(r=I&~f,r!==0?o=Oi(r):(m&=I,m!==0?o=Oi(m):e||(S=I&~S,S!==0&&(o=Oi(S))))):(I=r&~f,I!==0?o=Oi(I):m!==0?o=Oi(m):e||(S=r&~S,S!==0&&(o=Oi(S)))),o===0?0:n!==0&&n!==o&&(n&f)===0&&(f=o&-o,S=n&-n,f>=S||f===32&&(S&4194176)!==0)?n:o}function Nn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rl(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mn(){var e=ht;return ht<<=1,(ht&4194176)===0&&(ht=128),e}function Wi(){var e=si;return si<<=1,(si&62914560)===0&&(si=4194304),e}function Ta(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Bn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qo(e,n,r,o,f,m){var S=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var I=e.entanglements,U=e.expirationTimes,H=e.hiddenUpdates;for(r=S&~r;0<r;){var le=31-ft(r),xe=1<<le;I[le]=0,U[le]=-1;var q=H[le];if(q!==null)for(H[le]=null,le=0;le<q.length;le++){var ie=q[le];ie!==null&&(ie.lane&=-536870913)}r&=~xe}o!==0&&Ri(e,o,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function Ri(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ft(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194218}function Gr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ft(r),f=1<<o;f&n|e[o]&n&&(e[o]|=n),r&=~f}}function Mn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _i(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:Y0(e.type))}function qn(e,n){var r=re.p;try{return re.p=e,n()}finally{re.p=r}}var Te=Math.random().toString(36).slice(2),qt="__reactFiber$"+Te,wn="__reactProps$"+Te,rn="__reactContainer$"+Te,Di="__reactEvents$"+Te,Xr="__reactListeners$"+Te,qr="__reactHandles$"+Te,Kn="__reactResources$"+Te,mr="__reactMarker$"+Te;function _l(e){delete e[qt],delete e[wn],delete e[Di],delete e[Xr],delete e[qr]}function Cn(e){var n=e[qt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[rn]||r[qt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=I0(e);e!==null;){if(r=e[qt])return r;e=I0(e)}return n}e=r,r=e.parentNode}return null}function Jt(e){if(e=e[qt]||e[rn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function vt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(A(33))}function Ki(e){var n=e[Kn];return n||(n=e[Kn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(e){e[mr]=!0}var Zr=new Set,he={};function Ji(e,n){Mt(e,n),Mt(e+"Capture",n)}function Mt(e,n){for(he[e]=n,e=0;e<n.length;e++)Zr.add(n[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yt={},xt={};function ot(e){return We.call(xt,e)?!0:We.call(yt,e)?!1:Zo.test(e)?xt[e]=!0:(yt[e]=!0,!1)}function va(e,n,r){if(ot(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Na(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Jn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ei(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qo(e){var n=Ei(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){o=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){e._valueTracker||(e._valueTracker=Qo(e))}function wi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Ei(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ma=/[\n"\\]/g;function it(e){return e.replace(Ma,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cn(e,n,r,o,f,m,S,I){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+wt(n)):e.value!==""+wt(n)&&(e.value=""+wt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?R(e,S,wt(n)):r!=null?R(e,S,wt(r)):o!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+wt(I):e.removeAttribute("name")}function Y(e,n,r,o,f,m,S,I){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;r=r!=null?""+wt(r):"",n=n!=null?""+wt(n):r,I||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=I?e.checked:!!o,e.defaultChecked=!!o,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function R(e,n,r){n==="number"&&Qr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Re(e,n,r,o){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&o&&(e[r].defaultSelected=!0)}else{for(r=""+wt(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function ln(e,n,r){if(n!=null&&(n=""+wt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+wt(r):""}function Hn(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(A(92));if(de(o)){if(1<o.length)throw Error(A(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=wt(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function Ia(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Dl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jn(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Dl.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function ke(e,n,r){if(n!=null&&typeof n!="object")throw Error(A(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&r[f]!==o&&jn(e,f,o)}else for(var m in n)n.hasOwnProperty(m)&&jn(e,m,n[m])}function Ut(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(e){return Wo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ra=null;function pr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _a=null,jt=null;function Da(e){var n=Jt(e);if(n&&(e=n.stateNode)){var r=e[wn]||null;e:switch(e=n.stateNode,n.type){case"input":if(cn(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+it(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var f=o[wn]||null;if(!f)throw Error(A(90));cn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&wi(o)}break e;case"textarea":ln(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Re(e,!!r.multiple,n,!1)}}}var oi=!1;function Ve(e,n,r){if(oi)return e(n,r);oi=!0;try{var o=e(n);return o}finally{if(oi=!1,(_a!==null||jt!==null)&&(mo(),_a&&(n=_a,e=jt,jt=_a=null,Da(n),e)))for(n=0;n<e.length;n++)Da(e[n])}}function Ar(e,n){var r=e.stateNode;if(r===null)return null;var o=r[wn]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,n,typeof r));return r}var Ke=!1;if(Ln)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Ke=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Ke=!1}var Bi=null,yr=null,Er=null;function Li(){if(Er)return Er;var e,n=yr,r=n.length,o,f="value"in Bi?Bi.value:Bi.textContent,m=f.length;for(e=0;e<r&&n[e]===f[e];e++);var S=r-e;for(o=1;o<=S&&n[r-o]===f[m-o];o++);return Er=f.slice(e,1<o?1-o:void 0)}function Wr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Ba(){return!1}function fn(e){function n(r,o,f,m,S){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(r=e[I],this[I]=r?r(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ui:Ba,this.isPropagationStopped=Ba,this}return qe(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=fn(ki),Ci=qe({},ki,{view:0,detail:0}),Un=fn(Ci),Kr,Jr,La,$r=qe({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==La&&(La&&e.type==="mousemove"?(Kr=e.screenX-La.screenX,Jr=e.screenY-La.screenY):Jr=Kr=0,La=e),Kr)},movementY:function(e){return"movementY"in e?e.movementY:Jr}}),Ds=fn($r),Ko=qe({},$r,{dataTransfer:0}),Nt=fn(Ko),Bs=qe({},Ci,{relatedTarget:0}),Ua=fn(Bs),Fi=qe({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=fn(Fi),Q=qe({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tt=fn(Q),pn=qe({},ki,{data:0}),wr=fn(pn),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=eu[e])?!!n[e]:!1}function Cr(){return tu}var sn=qe({},Ci,{key:function(e){if(e.key){var n=Ls[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$o[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return e.type==="keypress"?Wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bl=fn(sn),Gt=qe({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sr=fn(Gt),$i=qe({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),It=fn($i),He=qe({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=fn(He),kt=qe({},$r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=fn(kt),ka=qe({},ki,{newState:0,oldState:0}),iu=fn(ka),ui=[9,13,27,32],br=Ln&&"CompositionEvent"in window,za=null;Ln&&"documentMode"in document&&(za=document.documentMode);var Ll=Ln&&"TextEvent"in window&&!za,Ul=Ln&&(!br||za&&8<za&&11>=za),kl=" ",Us=!1;function ta(e,n){switch(e){case"keyup":return ui.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function Tr(e,n){switch(e){case"compositionend":return el(n);case"keypress":return n.which!==32?null:(Us=!0,kl);case"textInput":return e=n.data,e===kl&&Us?null:e;default:return null}}function au(e,n){if(Fa)return e==="compositionend"||!br&&ta(e,n)?(e=Li(),Er=yr=Bi=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ul&&n.locale!=="ko"?null:n.data;default:return null}}var Pi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Pi[e.type]:n==="textarea"}function Vn(e,n,r,o){_a?jt?jt.push(o):jt=[o]:_a=o,n=wo(n,"onChange"),0<n.length&&(r=new zi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Pa=null,kn=null;function ru(e){E0(e,0)}function Ha(e){var n=vt(e);if(wi(n))return e}function ks(e,n){if(e==="change")return n}var zl=!1;if(Ln){var Zn;if(Ln){var Fl="oninput"in document;if(!Fl){var tl=document.createElement("div");tl.setAttribute("oninput","return;"),Fl=typeof tl.oninput=="function"}Zn=Fl}else Zn=!1;zl=Zn&&(!document.documentMode||9<document.documentMode)}function ja(){Pa&&(Pa.detachEvent("onpropertychange",dt),kn=Pa=null)}function dt(e){if(e.propertyName==="value"&&Ha(kn)){var n=[];Vn(n,kn,e,pr(e)),Ve(ru,n)}}function nl(e,n,r){e==="focusin"?(ja(),Pa=n,kn=r,Pa.attachEvent("onpropertychange",dt)):e==="focusout"&&ja()}function b(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ha(kn)}function t(e,n){if(e==="click")return Ha(n)}function i(e,n){if(e==="input"||e==="change")return Ha(n)}function a(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var l=typeof Object.is=="function"?Object.is:a;function s(e,n){if(l(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!We.call(n,f)||!l(e[f],n[f]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,n){var r=u(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=u(r)}}function g(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?g(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function p(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Qr(e.document)}return n}function C(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function T(e,n){var r=p(n);n=e.focusedElem;var o=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&g(n.ownerDocument.documentElement,n)){if(o!==null&&C(n)){if(e=o.start,r=o.end,r===void 0&&(r=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(r,n.value.length);else if(r=(e=n.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var f=n.textContent.length,m=Math.min(o.start,f);o=o.end===void 0?m:Math.min(o.end,f),!r.extend&&m>o&&(f=o,o=m,m=f),f=c(n,m);var S=c(n,o);f&&S&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),r.removeAllRanges(),m>o?(r.addRange(e),r.extend(S.node,S.offset)):(e.setEnd(S.node,S.offset),r.addRange(e)))}}for(e=[],r=n;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)r=e[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var v=Ln&&"documentMode"in document&&11>=document.documentMode,_=null,z=null,F=null,V=!1;function W(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V||_==null||_!==Qr(o)||(o=_,"selectionStart"in o&&C(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),F&&s(F,o)||(F=o,o=wo(z,"onSelect"),0<o.length&&(n=new zi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=_)))}function pe(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ae={animationend:pe("Animation","AnimationEnd"),animationiteration:pe("Animation","AnimationIteration"),animationstart:pe("Animation","AnimationStart"),transitionrun:pe("Transition","TransitionRun"),transitionstart:pe("Transition","TransitionStart"),transitioncancel:pe("Transition","TransitionCancel"),transitionend:pe("Transition","TransitionEnd")},ge={},at={};Ln&&(at=document.createElement("div").style,"AnimationEvent"in window||(delete Ae.animationend.animation,delete Ae.animationiteration.animation,delete Ae.animationstart.animation),"TransitionEvent"in window||delete Ae.transitionend.transition);function Ge(e){if(ge[e])return ge[e];if(!Ae[e])return e;var n=Ae[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in at)return ge[e]=n[r];return e}var In=Ge("animationend"),Qn=Ge("animationiteration"),On=Ge("animationstart"),Ot=Ge("transitionrun"),An=Ge("transitionstart"),Yn=Ge("transitioncancel"),na=Ge("transitionend"),ia=new Map,zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(e,n){ia.set(e,n),Ji(n,[e])}var ci=[],il=0,lu=0;function Fs(){for(var e=il,n=lu=il=0;n<e;){var r=ci[n];ci[n++]=null;var o=ci[n];ci[n++]=null;var f=ci[n];ci[n++]=null;var m=ci[n];if(ci[n++]=null,o!==null&&f!==null){var S=o.pending;S===null?f.next=f:(f.next=S.next,S.next=f),o.pending=f}m!==0&&hf(r,f,m)}}function Ps(e,n,r,o){ci[il++]=e,ci[il++]=n,ci[il++]=r,ci[il++]=o,lu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function su(e,n,r,o){return Ps(e,n,r,o),Hs(e)}function Va(e,n){return Ps(e,null,null,n),Hs(e)}function hf(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var f=!1,m=e.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;f&&n!==null&&e.tag===3&&(m=e.stateNode,f=31-ft(r),m=m.hiddenUpdates,e=m[f],e===null?m[f]=[n]:e.push(n),n.lane=r|536870912)}function Hs(e){if(50<cs)throw cs=0,dc=null,Error(A(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var al={},df=new WeakMap;function fi(e,n){if(typeof e=="object"&&e!==null){var r=df.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Se(n)},df.set(e,n),n)}return{value:e,source:n,stack:Se(n)}}var rl=[],ll=0,js=null,Vs=0,hi=[],di=0,Nr=null,aa=1,ra="";function Mr(e,n){rl[ll++]=Vs,rl[ll++]=js,js=e,Vs=n}function gf(e,n,r){hi[di++]=aa,hi[di++]=ra,hi[di++]=Nr,Nr=e;var o=aa;e=ra;var f=32-ft(o)-1;o&=~(1<<f),r+=1;var m=32-ft(n)+f;if(30<m){var S=f-f%5;m=(o&(1<<S)-1).toString(32),o>>=S,f-=S,aa=1<<32-ft(n)+f|r<<f|o,ra=m+e}else aa=1<<m|r<<f|o,ra=e}function ou(e){e.return!==null&&(Mr(e,1),gf(e,1,0))}function uu(e){for(;e===js;)js=rl[--ll],rl[ll]=null,Vs=rl[--ll],rl[ll]=null;for(;e===Nr;)Nr=hi[--di],hi[di]=null,ra=hi[--di],hi[di]=null,aa=hi[--di],hi[di]=null}var Gn=null,Rn=null,Ct=!1,Si=null,Hi=!1,cu=Error(A(519));function Ir(e){var n=Error(A(418,""));throw jl(fi(n,e)),cu}function xf(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[qt]=e,n[wn]=o,r){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(r=0;r<hs.length;r++)gt(hs[r],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":gt("invalid",n),Y(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ft(n);break;case"select":gt("invalid",n);break;case"textarea":gt("invalid",n),Hn(n,o.value,o.defaultValue,o.children),Ft(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||b0(n.textContent,r)?(o.popover!=null&&(gt("beforetoggle",n),gt("toggle",n)),o.onScroll!=null&&gt("scroll",n),o.onScrollEnd!=null&&gt("scrollend",n),o.onClick!=null&&(n.onclick=Co),n=!0):n=!1,n||Ir(e)}function mf(e){for(Gn=e.return;Gn;)switch(Gn.tag){case 3:case 27:Hi=!0;return;case 5:case 13:Hi=!1;return;default:Gn=Gn.return}}function Pl(e){if(e!==Gn)return!1;if(!Ct)return mf(e),Ct=!0,!1;var n=!1,r;if((r=e.tag!==3&&e.tag!==27)&&((r=e.tag===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Oc(e.type,e.memoizedProps)),r=!r),r&&(n=!0),n&&Rn&&Ir(e),mf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){Rn=Ti(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}Rn=null}}else Rn=Gn?Ti(e.stateNode.nextSibling):null;return!0}function Hl(){Rn=Gn=null,Ct=!1}function jl(e){Si===null?Si=[e]:Si.push(e)}var Vl=Error(A(460)),pf=Error(A(474)),fu={then:function(){}};function Af(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ys(){}function yf(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Ys,Ys),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Vl?Error(A(483)):e;default:if(typeof n.status=="string")n.then(Ys,Ys);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Vl?Error(A(483)):e}throw Yl=n,Vl}}var Yl=null;function Ef(){if(Yl===null)throw Error(A(459));var e=Yl;return Yl=null,e}var sl=null,Gl=0;function Gs(e){var n=Gl;return Gl+=1,sl===null&&(sl=[]),yf(sl,e,n)}function Xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Xs(e,n){throw n.$$typeof===y?Error(A(525)):(e=Object.prototype.toString.call(n),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wf(e){var n=e._init;return n(e._payload)}function Cf(e){function n(j,P){if(e){var G=j.deletions;G===null?(j.deletions=[P],j.flags|=16):G.push(P)}}function r(j,P){if(!e)return null;for(;P!==null;)n(j,P),P=P.sibling;return null}function o(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=tr(j,P),j.index=0,j.sibling=null,j}function m(j,P,G){return j.index=G,e?(G=j.alternate,G!==null?(G=G.index,G<P?(j.flags|=33554434,P):G):(j.flags|=33554434,P)):(j.flags|=1048576,P)}function S(j){return e&&j.alternate===null&&(j.flags|=33554434),j}function I(j,P,G,ue){return P===null||P.tag!==6?(P=rc(G,j.mode,ue),P.return=j,P):(P=f(P,G),P.return=j,P)}function U(j,P,G,ue){var Oe=G.type;return Oe===O?le(j,P,G.props.children,ue,G.key):P!==null&&(P.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===we&&wf(Oe)===P.type)?(P=f(P,G.props),Xl(P,G),P.return=j,P):(P=co(G.type,G.key,G.props,null,j.mode,ue),Xl(P,G),P.return=j,P)}function H(j,P,G,ue){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=lc(G,j.mode,ue),P.return=j,P):(P=f(P,G.children||[]),P.return=j,P)}function le(j,P,G,ue,Oe){return P===null||P.tag!==7?(P=Fr(G,j.mode,ue,Oe),P.return=j,P):(P=f(P,G),P.return=j,P)}function xe(j,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=rc(""+P,j.mode,G),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return G=co(P.type,P.key,P.props,null,j.mode,G),Xl(G,P),G.return=j,G;case B:return P=lc(P,j.mode,G),P.return=j,P;case we:var ue=P._init;return P=ue(P._payload),xe(j,P,G)}if(de(P)||je(P))return P=Fr(P,j.mode,G,null),P.return=j,P;if(typeof P.then=="function")return xe(j,Gs(P),G);if(P.$$typeof===ne)return xe(j,so(j,P),G);Xs(j,P)}return null}function q(j,P,G,ue){var Oe=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Oe!==null?null:I(j,P,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return G.key===Oe?U(j,P,G,ue):null;case B:return G.key===Oe?H(j,P,G,ue):null;case we:return Oe=G._init,G=Oe(G._payload),q(j,P,G,ue)}if(de(G)||je(G))return Oe!==null?null:le(j,P,G,ue,null);if(typeof G.then=="function")return q(j,P,Gs(G),ue);if(G.$$typeof===ne)return q(j,P,so(j,G),ue);Xs(j,G)}return null}function ie(j,P,G,ue,Oe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return j=j.get(G)||null,I(P,j,""+ue,Oe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:return j=j.get(ue.key===null?G:ue.key)||null,U(P,j,ue,Oe);case B:return j=j.get(ue.key===null?G:ue.key)||null,H(P,j,ue,Oe);case we:var lt=ue._init;return ue=lt(ue._payload),ie(j,P,G,ue,Oe)}if(de(ue)||je(ue))return j=j.get(G)||null,le(P,j,ue,Oe,null);if(typeof ue.then=="function")return ie(j,P,G,Gs(ue),Oe);if(ue.$$typeof===ne)return ie(j,P,G,so(P,ue),Oe);Xs(P,ue)}return null}function _e(j,P,G,ue){for(var Oe=null,lt=null,ze=P,Xe=P=0,Tn=null;ze!==null&&Xe<G.length;Xe++){ze.index>Xe?(Tn=ze,ze=null):Tn=ze.sibling;var St=q(j,ze,G[Xe],ue);if(St===null){ze===null&&(ze=Tn);break}e&&ze&&St.alternate===null&&n(j,ze),P=m(St,P,Xe),lt===null?Oe=St:lt.sibling=St,lt=St,ze=Tn}if(Xe===G.length)return r(j,ze),Ct&&Mr(j,Xe),Oe;if(ze===null){for(;Xe<G.length;Xe++)ze=xe(j,G[Xe],ue),ze!==null&&(P=m(ze,P,Xe),lt===null?Oe=ze:lt.sibling=ze,lt=ze);return Ct&&Mr(j,Xe),Oe}for(ze=o(ze);Xe<G.length;Xe++)Tn=ie(ze,j,Xe,G[Xe],ue),Tn!==null&&(e&&Tn.alternate!==null&&ze.delete(Tn.key===null?Xe:Tn.key),P=m(Tn,P,Xe),lt===null?Oe=Tn:lt.sibling=Tn,lt=Tn);return e&&ze.forEach(function(or){return n(j,or)}),Ct&&Mr(j,Xe),Oe}function Je(j,P,G,ue){if(G==null)throw Error(A(151));for(var Oe=null,lt=null,ze=P,Xe=P=0,Tn=null,St=G.next();ze!==null&&!St.done;Xe++,St=G.next()){ze.index>Xe?(Tn=ze,ze=null):Tn=ze.sibling;var or=q(j,ze,St.value,ue);if(or===null){ze===null&&(ze=Tn);break}e&&ze&&or.alternate===null&&n(j,ze),P=m(or,P,Xe),lt===null?Oe=or:lt.sibling=or,lt=or,ze=Tn}if(St.done)return r(j,ze),Ct&&Mr(j,Xe),Oe;if(ze===null){for(;!St.done;Xe++,St=G.next())St=xe(j,St.value,ue),St!==null&&(P=m(St,P,Xe),lt===null?Oe=St:lt.sibling=St,lt=St);return Ct&&Mr(j,Xe),Oe}for(ze=o(ze);!St.done;Xe++,St=G.next())St=ie(ze,j,Xe,St.value,ue),St!==null&&(e&&St.alternate!==null&&ze.delete(St.key===null?Xe:St.key),P=m(St,P,Xe),lt===null?Oe=St:lt.sibling=St,lt=St);return e&&ze.forEach(function(d2){return n(j,d2)}),Ct&&Mr(j,Xe),Oe}function tn(j,P,G,ue){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case N:e:{for(var Oe=G.key;P!==null;){if(P.key===Oe){if(Oe=G.type,Oe===O){if(P.tag===7){r(j,P.sibling),ue=f(P,G.props.children),ue.return=j,j=ue;break e}}else if(P.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===we&&wf(Oe)===P.type){r(j,P.sibling),ue=f(P,G.props),Xl(ue,G),ue.return=j,j=ue;break e}r(j,P);break}else n(j,P);P=P.sibling}G.type===O?(ue=Fr(G.props.children,j.mode,ue,G.key),ue.return=j,j=ue):(ue=co(G.type,G.key,G.props,null,j.mode,ue),Xl(ue,G),ue.return=j,j=ue)}return S(j);case B:e:{for(Oe=G.key;P!==null;){if(P.key===Oe)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){r(j,P.sibling),ue=f(P,G.children||[]),ue.return=j,j=ue;break e}else{r(j,P);break}else n(j,P);P=P.sibling}ue=lc(G,j.mode,ue),ue.return=j,j=ue}return S(j);case we:return Oe=G._init,G=Oe(G._payload),tn(j,P,G,ue)}if(de(G))return _e(j,P,G,ue);if(je(G)){if(Oe=je(G),typeof Oe!="function")throw Error(A(150));return G=Oe.call(G),Je(j,P,G,ue)}if(typeof G.then=="function")return tn(j,P,Gs(G),ue);if(G.$$typeof===ne)return tn(j,P,so(j,G),ue);Xs(j,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(r(j,P.sibling),ue=f(P,G),ue.return=j,j=ue):(r(j,P),ue=rc(G,j.mode,ue),ue.return=j,j=ue),S(j)):r(j,P)}return function(j,P,G,ue){try{Gl=0;var Oe=tn(j,P,G,ue);return sl=null,Oe}catch(ze){if(ze===Vl)throw ze;var lt=pi(29,ze,null,j.mode);return lt.lanes=ue,lt.return=j,lt}finally{}}}var Or=Cf(!0),Sf=Cf(!1),ol=Ce(null),qs=Ce(0);function bf(e,n){e=ma,Pe(qs,e),Pe(ol,n),ma=e|n.baseLanes}function hu(){Pe(qs,ma),Pe(ol,ol.current)}function du(){ma=qs.current,Fe(ol),Fe(qs)}var gi=Ce(null),ji=null;function Ya(e){var n=e.alternate;Pe(yn,yn.current&1),Pe(gi,e),ji===null&&(n===null||ol.current!==null||n.memoizedState!==null)&&(ji=e)}function Tf(e){if(e.tag===22){if(Pe(yn,yn.current),Pe(gi,e),ji===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ji=e)}}else Ga()}function Ga(){Pe(yn,yn.current),Pe(gi,gi.current)}function la(e){Fe(gi),ji===e&&(ji=null),Fe(yn)}var yn=Ce(0);function Zs(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ed=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},td=h.unstable_scheduleCallback,nd=h.unstable_NormalPriority,En={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gu(){return{controller:new ed,data:new Map,refCount:0}}function ql(e){e.refCount--,e.refCount===0&&td(nd,function(){e.controller.abort()})}var Zl=null,xu=0,ul=0,cl=null;function id(e,n){if(Zl===null){var r=Zl=[];xu=0,ul=wc(),cl={status:"pending",value:void 0,then:function(o){r.push(o)}}}return xu++,n.then(vf,vf),n}function vf(){if(--xu===0&&Zl!==null){cl!==null&&(cl.status="fulfilled");var e=Zl;Zl=null,ul=0,cl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ad(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var Nf=X.S;X.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&id(e,n),Nf!==null&&Nf(e,n)};var Rr=Ce(null);function mu(){var e=Rr.current;return e!==null?e:Pt.pooledCache}function Qs(e,n){n===null?Pe(Rr,Rr.current):Pe(Rr,n.pool)}function Mf(){var e=mu();return e===null?null:{parent:En._currentValue,pool:e}}var Xa=0,rt=null,Dt=null,hn=null,Ws=!1,fl=!1,_r=!1,Ks=0,Ql=0,hl=null,rd=0;function on(){throw Error(A(321))}function pu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!l(e[r],n[r]))return!1;return!0}function Au(e,n,r,o,f,m){return Xa=m,rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?Dr:qa,_r=!1,m=r(o,f),_r=!1,fl&&(m=Of(n,r,o,f)),If(e),m}function If(e){X.H=Vi;var n=Dt!==null&&Dt.next!==null;if(Xa=0,hn=Dt=rt=null,Ws=!1,Ql=0,hl=null,n)throw Error(A(300));e===null||Sn||(e=e.dependencies,e!==null&&lo(e)&&(Sn=!0))}function Of(e,n,r,o){rt=e;var f=0;do{if(fl&&(hl=null),Ql=0,fl=!1,25<=f)throw Error(A(301));if(f+=1,hn=Dt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=Br,m=n(r,o)}while(fl);return m}function ld(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?Wl(n):n,e=e.useState()[0],(Dt!==null?Dt.memoizedState:null)!==e&&(rt.flags|=1024),n}function yu(){var e=Ks!==0;return Ks=0,e}function Eu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function wu(e){if(Ws){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ws=!1}Xa=0,hn=Dt=rt=null,fl=!1,Ql=Ks=0,hl=null}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?rt.memoizedState=hn=e:hn=hn.next=e,hn}function dn(){if(Dt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var n=hn===null?rt.memoizedState:hn.next;if(n!==null)hn=n,Dt=e;else{if(e===null)throw rt.alternate===null?Error(A(467)):Error(A(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},hn===null?rt.memoizedState=hn=e:hn=hn.next=e}return hn}var Js;Js=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Wl(e){var n=Ql;return Ql+=1,hl===null&&(hl=[]),e=yf(hl,e,n),n=rt,(hn===null?n.memoizedState:hn.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?Dr:qa),e}function $s(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wl(e);if(e.$$typeof===ne)return zn(e)}throw Error(A(438,String(e)))}function Cu(e){var n=null,r=rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Js(),rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=Ie;return n.index++,r}function sa(e,n){return typeof n=="function"?n(e):n}function eo(e){var n=dn();return Su(n,Dt,e)}function Su(e,n,r){var o=e.queue;if(o===null)throw Error(A(311));o.lastRenderedReducer=r;var f=e.baseQueue,m=o.pending;if(m!==null){if(f!==null){var S=f.next;f.next=m.next,m.next=S}n.baseQueue=f=m,o.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var I=S=null,U=null,H=n,le=!1;do{var xe=H.lane&-536870913;if(xe!==H.lane?(mt&xe)===xe:(Xa&xe)===xe){var q=H.revertLane;if(q===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),xe===ul&&(le=!0);else if((Xa&q)===q){H=H.next,q===ul&&(le=!0);continue}else xe={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},U===null?(I=U=xe,S=m):U=U.next=xe,rt.lanes|=q,nr|=q;xe=H.action,_r&&r(m,xe),m=H.hasEagerState?H.eagerState:r(m,xe)}else q={lane:xe,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},U===null?(I=U=q,S=m):U=U.next=q,rt.lanes|=xe,nr|=xe;H=H.next}while(H!==null&&H!==n);if(U===null?S=m:U.next=I,!l(m,e.memoizedState)&&(Sn=!0,le&&(r=cl,r!==null)))throw r;e.memoizedState=m,e.baseState=S,e.baseQueue=U,o.lastRenderedState=m}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bu(e){var n=dn(),r=n.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var o=r.dispatch,f=r.pending,m=n.memoizedState;if(f!==null){r.pending=null;var S=f=f.next;do m=e(m,S.action),S=S.next;while(S!==f);l(m,n.memoizedState)||(Sn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function Rf(e,n,r){var o=rt,f=dn(),m=Ct;if(m){if(r===void 0)throw Error(A(407));r=r()}else r=n();var S=!l((Dt||f).memoizedState,r);if(S&&(f.memoizedState=r,Sn=!0),f=f.queue,Nu(Bf.bind(null,o,f,e),[e]),f.getSnapshot!==n||S||hn!==null&&hn.memoizedState.tag&1){if(o.flags|=2048,dl(9,Df.bind(null,o,f,r,n),{destroy:void 0},null),Pt===null)throw Error(A(349));m||(Xa&60)!==0||_f(o,n,r)}return r}function _f(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=rt.updateQueue,n===null?(n=Js(),rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Df(e,n,r,o){n.value=r,n.getSnapshot=o,Lf(n)&&Uf(e)}function Bf(e,n,r){return r(function(){Lf(n)&&Uf(e)})}function Lf(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!l(e,r)}catch{return!0}}function Uf(e){var n=Va(e,2);n!==null&&Xn(n,e,2)}function Tu(e){var n=Wn();if(typeof e=="function"){var r=e;if(e=r(),_r){ct(!0);try{r()}finally{ct(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e},n}function kf(e,n,r,o){return e.baseState=r,Su(e,Dt,typeof o=="function"?o:sa)}function sd(e,n,r,o,f){if(io(e))throw Error(A(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};X.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,zf(n,m)):(m.next=r.next,n.pending=r.next=m)}}function zf(e,n){var r=n.action,o=n.payload,f=e.state;if(n.isTransition){var m=X.T,S={};X.T=S;try{var I=r(f,o),U=X.S;U!==null&&U(S,I),Ff(e,n,I)}catch(H){vu(e,n,H)}finally{X.T=m}}else try{m=r(f,o),Ff(e,n,m)}catch(H){vu(e,n,H)}}function Ff(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Pf(e,n,o)},function(o){return vu(e,n,o)}):Pf(e,n,r)}function Pf(e,n,r){n.status="fulfilled",n.value=r,Hf(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,zf(e,r)))}function vu(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Hf(n),n=n.next;while(n!==o)}e.action=null}function Hf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function jf(e,n){return n}function Vf(e,n){if(Ct){var r=Pt.formState;if(r!==null){e:{var o=rt;if(Ct){if(Rn){t:{for(var f=Rn,m=Hi;f.nodeType!==8;){if(!m){f=null;break t}if(f=Ti(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Rn=Ti(f.nextSibling),o=f.data==="F!";break e}}Ir(o)}o=!1}o&&(n=r[0])}}return r=Wn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:n},r.queue=o,r=s1.bind(null,rt,o),o.dispatch=r,o=Tu(!1),m=_u.bind(null,rt,!1,o.queue),o=Wn(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,r=sd.bind(null,rt,f,m,r),f.dispatch=r,o.memoizedState=e,[n,r,!1]}function Yf(e){var n=dn();return Gf(n,Dt,e)}function Gf(e,n,r){n=Su(e,n,jf)[0],e=eo(sa)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Wl(n):n;var o=dn(),f=o.queue,m=f.dispatch;return r!==o.memoizedState&&(rt.flags|=2048,dl(9,od.bind(null,f,r),{destroy:void 0},null)),[n,m,e]}function od(e,n){e.action=n}function Xf(e){var n=dn(),r=Dt;if(r!==null)return Gf(n,r,e);dn(),n=n.memoizedState,r=dn();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function dl(e,n,r,o){return e={tag:e,create:n,inst:r,deps:o,next:null},n=rt.updateQueue,n===null&&(n=Js(),rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function qf(){return dn().memoizedState}function to(e,n,r,o){var f=Wn();rt.flags|=e,f.memoizedState=dl(1|n,r,{destroy:void 0},o===void 0?null:o)}function no(e,n,r,o){var f=dn();o=o===void 0?null:o;var m=f.memoizedState.inst;Dt!==null&&o!==null&&pu(o,Dt.memoizedState.deps)?f.memoizedState=dl(n,r,m,o):(rt.flags|=e,f.memoizedState=dl(1|n,r,m,o))}function Zf(e,n){to(8390656,8,e,n)}function Nu(e,n){no(2048,8,e,n)}function Qf(e,n){return no(4,2,e,n)}function Wf(e,n){return no(4,4,e,n)}function Kf(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Jf(e,n,r){r=r!=null?r.concat([e]):null,no(4,4,Kf.bind(null,n,e),r)}function Mu(){}function $f(e,n){var r=dn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&pu(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function e1(e,n){var r=dn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&pu(n,o[1]))return o[0];if(o=e(),_r){ct(!0);try{e()}finally{ct(!1)}}return r.memoizedState=[o,n],o}function Iu(e,n,r){return r===void 0||(Xa&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=n0(),rt.lanes|=e,nr|=e,r)}function t1(e,n,r,o){return l(r,n)?r:ol.current!==null?(e=Iu(e,r,o),l(e,n)||(Sn=!0),e):(Xa&42)===0?(Sn=!0,e.memoizedState=r):(e=n0(),rt.lanes|=e,nr|=e,n)}function n1(e,n,r,o,f){var m=re.p;re.p=m!==0&&8>m?m:8;var S=X.T,I={};X.T=I,_u(e,!1,n,r);try{var U=f(),H=X.S;if(H!==null&&H(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var le=ad(U,o);Kl(e,n,le,ii(e))}else Kl(e,n,o,ii(e))}catch(xe){Kl(e,n,{then:function(){},status:"rejected",reason:xe},ii())}finally{re.p=m,X.T=S}}function ud(){}function Ou(e,n,r,o){if(e.tag!==5)throw Error(A(476));var f=i1(e).queue;n1(e,f,n,be,r===null?ud:function(){return a1(e),r(o)})}function i1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:be},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function a1(e){var n=i1(e).next.queue;Kl(e,n,{},ii())}function Ru(){return zn(ps)}function r1(){return dn().memoizedState}function l1(){return dn().memoizedState}function cd(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=ii();e=Wa(r);var o=Ka(n,e,r);o!==null&&(Xn(o,n,r),es(o,n,r)),n={cache:gu()},e.payload=n;return}n=n.return}}function fd(e,n,r){var o=ii();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},io(e)?o1(n,r):(r=su(e,n,r,o),r!==null&&(Xn(r,e,o),u1(r,n,o)))}function s1(e,n,r){var o=ii();Kl(e,n,r,o)}function Kl(e,n,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(io(e))o1(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,I=m(S,r);if(f.hasEagerState=!0,f.eagerState=I,l(I,S))return Ps(e,n,f,0),Pt===null&&Fs(),!1}catch{}finally{}if(r=su(e,n,f,o),r!==null)return Xn(r,e,o),u1(r,n,o),!0}return!1}function _u(e,n,r,o){if(o={lane:2,revertLane:wc(),action:o,hasEagerState:!1,eagerState:null,next:null},io(e)){if(n)throw Error(A(479))}else n=su(e,r,o,2),n!==null&&Xn(n,e,2)}function io(e){var n=e.alternate;return e===rt||n!==null&&n===rt}function o1(e,n){fl=Ws=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function u1(e,n,r){if((r&4194176)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Gr(e,r)}}var Vi={readContext:zn,use:$s,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on};Vi.useCacheRefresh=on,Vi.useMemoCache=on,Vi.useHostTransitionStatus=on,Vi.useFormState=on,Vi.useActionState=on,Vi.useOptimistic=on;var Dr={readContext:zn,use:$s,useCallback:function(e,n){return Wn().memoizedState=[e,n===void 0?null:n],e},useContext:zn,useEffect:Zf,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,to(4194308,4,Kf.bind(null,n,e),r)},useLayoutEffect:function(e,n){return to(4194308,4,e,n)},useInsertionEffect:function(e,n){to(4,2,e,n)},useMemo:function(e,n){var r=Wn();n=n===void 0?null:n;var o=e();if(_r){ct(!0);try{e()}finally{ct(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Wn();if(r!==void 0){var f=r(n);if(_r){ct(!0);try{r(n)}finally{ct(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=fd.bind(null,rt,e),[o.memoizedState,e]},useRef:function(e){var n=Wn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tu(e);var n=e.queue,r=s1.bind(null,rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Mu,useDeferredValue:function(e,n){var r=Wn();return Iu(r,e,n)},useTransition:function(){var e=Tu(!1);return e=n1.bind(null,rt,e.queue,!0,!1),Wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=rt,f=Wn();if(Ct){if(r===void 0)throw Error(A(407));r=r()}else{if(r=n(),Pt===null)throw Error(A(349));(mt&60)!==0||_f(o,n,r)}f.memoizedState=r;var m={value:r,getSnapshot:n};return f.queue=m,Zf(Bf.bind(null,o,m,e),[e]),o.flags|=2048,dl(9,Df.bind(null,o,m,r,n),{destroy:void 0},null),r},useId:function(){var e=Wn(),n=Pt.identifierPrefix;if(Ct){var r=ra,o=aa;r=(o&~(1<<32-ft(o)-1)).toString(32)+r,n=":"+n+"R"+r,r=Ks++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=rd++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return Wn().memoizedState=cd.bind(null,rt)}};Dr.useMemoCache=Cu,Dr.useHostTransitionStatus=Ru,Dr.useFormState=Vf,Dr.useActionState=Vf,Dr.useOptimistic=function(e){var n=Wn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=_u.bind(null,rt,!0,r),r.dispatch=n,[e,n]};var qa={readContext:zn,use:$s,useCallback:$f,useContext:zn,useEffect:Nu,useImperativeHandle:Jf,useInsertionEffect:Qf,useLayoutEffect:Wf,useMemo:e1,useReducer:eo,useRef:qf,useState:function(){return eo(sa)},useDebugValue:Mu,useDeferredValue:function(e,n){var r=dn();return t1(r,Dt.memoizedState,e,n)},useTransition:function(){var e=eo(sa)[0],n=dn().memoizedState;return[typeof e=="boolean"?e:Wl(e),n]},useSyncExternalStore:Rf,useId:r1};qa.useCacheRefresh=l1,qa.useMemoCache=Cu,qa.useHostTransitionStatus=Ru,qa.useFormState=Yf,qa.useActionState=Yf,qa.useOptimistic=function(e,n){var r=dn();return kf(r,Dt,e,n)};var Br={readContext:zn,use:$s,useCallback:$f,useContext:zn,useEffect:Nu,useImperativeHandle:Jf,useInsertionEffect:Qf,useLayoutEffect:Wf,useMemo:e1,useReducer:bu,useRef:qf,useState:function(){return bu(sa)},useDebugValue:Mu,useDeferredValue:function(e,n){var r=dn();return Dt===null?Iu(r,e,n):t1(r,Dt.memoizedState,e,n)},useTransition:function(){var e=bu(sa)[0],n=dn().memoizedState;return[typeof e=="boolean"?e:Wl(e),n]},useSyncExternalStore:Rf,useId:r1};Br.useCacheRefresh=l1,Br.useMemoCache=Cu,Br.useHostTransitionStatus=Ru,Br.useFormState=Xf,Br.useActionState=Xf,Br.useOptimistic=function(e,n){var r=dn();return Dt!==null?kf(r,Dt,e,n):(r.baseState=e,[e,r.queue.dispatch])};function Du(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:qe({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bu={isMounted:function(e){return(e=e._reactInternals)?Ue(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var o=ii(),f=Wa(o);f.payload=n,r!=null&&(f.callback=r),n=Ka(e,f,o),n!==null&&(Xn(n,e,o),es(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=ii(),f=Wa(o);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=Ka(e,f,o),n!==null&&(Xn(n,e,o),es(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=ii(),o=Wa(r);o.tag=2,n!=null&&(o.callback=n),n=Ka(e,o,r),n!==null&&(Xn(n,e,r),es(n,e,r))}};function c1(e,n,r,o,f,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,S):n.prototype&&n.prototype.isPureReactComponent?!s(r,o)||!s(f,m):!0}function f1(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Bu.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=qe({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}var ao=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function h1(e){ao(e)}function d1(e){console.error(e)}function g1(e){ao(e)}function ro(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function x1(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Lu(e,n,r){return r=Wa(r),r.tag=3,r.payload={element:null},r.callback=function(){ro(e,n)},r}function m1(e){return e=Wa(e),e.tag=3,e}function p1(e,n,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;e.payload=function(){return f(m)},e.callback=function(){x1(n,r,o)}}var S=r.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){x1(n,r,o),typeof f!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})})}function hd(e,n,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&$l(n,r,f,!0),r=gi.current,r!==null){switch(r.tag){case 13:return ji===null?mc():r.alternate===null&&en===0&&(en=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===fu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Ac(e,o,f)),!1;case 22:return r.flags|=65536,o===fu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Ac(e,o,f)),!1}throw Error(A(435,r.tag))}return Ac(e,o,f),mc(),!1}if(Ct)return n=gi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==cu&&(e=Error(A(422),{cause:o}),jl(fi(e,r)))):(o!==cu&&(n=Error(A(423),{cause:o}),jl(fi(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=fi(o,r),f=Lu(e.stateNode,o,f),Wu(e,f),en!==4&&(en=2)),!1;var m=Error(A(520),{cause:o});if(m=fi(m,r),os===null?os=[m]:os.push(m),en!==4&&(en=2),n===null)return!0;o=fi(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=Lu(r.stateNode,o,e),Wu(r,e),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ir===null||!ir.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=m1(f),p1(f,e,r,o),Wu(r,f),!1}r=r.return}while(r!==null);return!1}var A1=Error(A(461)),Sn=!1;function _n(e,n,r,o){n.child=e===null?Sf(n,null,r,o):Or(n,e.child,r,o)}function y1(e,n,r,o,f){r=r.render;var m=n.ref;if("ref"in o){var S={};for(var I in o)I!=="ref"&&(S[I]=o[I])}else S=o;return kr(n),o=Au(e,n,r,S,m,f),I=yu(),e!==null&&!Sn?(Eu(e,n,f),oa(e,n,f)):(Ct&&I&&ou(n),n.flags|=1,_n(e,n,o,f),n.child)}function E1(e,n,r,o,f){if(e===null){var m=r.type;return typeof m=="function"&&!ac(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,w1(e,n,m,o,f)):(e=co(r.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Yu(e,f)){var S=m.memoizedProps;if(r=r.compare,r=r!==null?r:s,r(S,o)&&e.ref===n.ref)return oa(e,n,f)}return n.flags|=1,e=tr(m,o),e.ref=n.ref,e.return=n,n.child=e}function w1(e,n,r,o,f){if(e!==null){var m=e.memoizedProps;if(s(m,o)&&e.ref===n.ref)if(Sn=!1,n.pendingProps=o=m,Yu(e,f))(e.flags&131072)!==0&&(Sn=!0);else return n.lanes=e.lanes,oa(e,n,f)}return Uu(e,n,r,o,f)}function C1(e,n,r){var o=n.pendingProps,f=o.children,m=(n.stateNode._pendingVisibility&2)!==0,S=e!==null?e.memoizedState:null;if(Jl(e,n),o.mode==="hidden"||m){if((n.flags&128)!==0){if(o=S!==null?S.baseLanes|r:r,e!==null){for(f=n.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;n.childLanes=m&~o}else n.childLanes=0,n.child=null;return S1(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qs(n,S!==null?S.cachePool:null),S!==null?bf(n,S):hu(),Tf(n);else return n.lanes=n.childLanes=536870912,S1(e,n,S!==null?S.baseLanes|r:r,r)}else S!==null?(Qs(n,S.cachePool),bf(n,S),Ga(),n.memoizedState=null):(e!==null&&Qs(n,null),hu(),Ga());return _n(e,n,f,r),n.child}function S1(e,n,r,o){var f=mu();return f=f===null?null:{parent:En._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Qs(n,null),hu(),Tf(n),e!==null&&$l(e,n,o,!0),null}function Jl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(A(284));(e===null||e.ref!==r)&&(n.flags|=2097664)}}function Uu(e,n,r,o,f){return kr(n),r=Au(e,n,r,o,void 0,f),o=yu(),e!==null&&!Sn?(Eu(e,n,f),oa(e,n,f)):(Ct&&o&&ou(n),n.flags|=1,_n(e,n,r,f),n.child)}function b1(e,n,r,o,f,m){return kr(n),n.updateQueue=null,r=Of(n,o,r,f),If(e),o=yu(),e!==null&&!Sn?(Eu(e,n,m),oa(e,n,m)):(Ct&&o&&ou(n),n.flags|=1,_n(e,n,r,m),n.child)}function T1(e,n,r,o,f){if(kr(n),n.stateNode===null){var m=al,S=r.contextType;typeof S=="object"&&S!==null&&(m=zn(S)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bu,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Zu(n),S=r.contextType,m.context=typeof S=="object"&&S!==null?zn(S):al,m.state=n.memoizedState,S=r.getDerivedStateFromProps,typeof S=="function"&&(Du(n,r,S,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Bu.enqueueReplaceState(m,m.state,null),ns(n,o,m,f),ts(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var I=n.memoizedProps,U=Lr(r,I);m.props=U;var H=m.context,le=r.contextType;S=al,typeof le=="object"&&le!==null&&(S=zn(le));var xe=r.getDerivedStateFromProps;le=typeof xe=="function"||typeof m.getSnapshotBeforeUpdate=="function",I=n.pendingProps!==I,le||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(I||H!==S)&&f1(n,m,o,S),Qa=!1;var q=n.memoizedState;m.state=q,ns(n,o,m,f),ts(),H=n.memoizedState,I||q!==H||Qa?(typeof xe=="function"&&(Du(n,r,xe,o),H=n.memoizedState),(U=Qa||c1(n,r,U,o,q,H,S))?(le||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),m.props=o,m.state=H,m.context=S,o=U):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Qu(e,n),S=n.memoizedProps,le=Lr(r,S),m.props=le,xe=n.pendingProps,q=m.context,H=r.contextType,U=al,typeof H=="object"&&H!==null&&(U=zn(H)),I=r.getDerivedStateFromProps,(H=typeof I=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==xe||q!==U)&&f1(n,m,o,U),Qa=!1,q=n.memoizedState,m.state=q,ns(n,o,m,f),ts();var ie=n.memoizedState;S!==xe||q!==ie||Qa||e!==null&&e.dependencies!==null&&lo(e.dependencies)?(typeof I=="function"&&(Du(n,r,I,o),ie=n.memoizedState),(le=Qa||c1(n,r,le,o,q,ie,U)||e!==null&&e.dependencies!==null&&lo(e.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ie,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ie,U)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ie),m.props=o,m.state=ie,m.context=U,o=le):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,Jl(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=Or(n,e.child,null,f),n.child=Or(n,null,r,f)):_n(e,n,r,f),n.memoizedState=m.state,e=n.child):e=oa(e,n,f),e}function v1(e,n,r,o){return Hl(),n.flags|=256,_n(e,n,r,o),n.child}var ku={dehydrated:null,treeContext:null,retryLane:0};function zu(e){return{baseLanes:e,cachePool:Mf()}}function Fu(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Ai),e}function N1(e,n,r){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(yn.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ct){if(f?Ya(n):Ga(),Ct){var I=Rn,U;if(U=I){e:{for(U=I,I=Hi;U.nodeType!==8;){if(!I){I=null;break e}if(U=Ti(U.nextSibling),U===null){I=null;break e}}I=U}I!==null?(n.memoizedState={dehydrated:I,treeContext:Nr!==null?{id:aa,overflow:ra}:null,retryLane:536870912},U=pi(18,null,null,0),U.stateNode=I,U.return=n,n.child=U,Gn=n,Rn=null,U=!0):U=!1}U||Ir(n)}if(I=n.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?n.lanes=16:n.lanes=536870912,null;la(n)}return I=o.children,o=o.fallback,f?(Ga(),f=n.mode,I=Hu({mode:"hidden",children:I},f),o=Fr(o,f,r,null),I.return=n,o.return=n,I.sibling=o,n.child=I,f=n.child,f.memoizedState=zu(r),f.childLanes=Fu(e,S,r),n.memoizedState=ku,o):(Ya(n),Pu(n,I))}if(U=e.memoizedState,U!==null&&(I=U.dehydrated,I!==null)){if(m)n.flags&256?(Ya(n),n.flags&=-257,n=ju(e,n,r)):n.memoizedState!==null?(Ga(),n.child=e.child,n.flags|=128,n=null):(Ga(),f=o.fallback,I=n.mode,o=Hu({mode:"visible",children:o.children},I),f=Fr(f,I,r,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Or(n,e.child,null,r),o=n.child,o.memoizedState=zu(r),o.childLanes=Fu(e,S,r),n.memoizedState=ku,n=f);else if(Ya(n),I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var H=S.dgst;S=H,o=Error(A(419)),o.stack="",o.digest=S,jl({value:o,source:null,stack:null}),n=ju(e,n,r)}else if(Sn||$l(e,n,r,!1),S=(r&e.childLanes)!==0,Sn||S){if(S=Pt,S!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(S.suspendedLanes|r))!==0?0:o,o!==0&&o!==U.retryLane)throw U.retryLane=o,Va(e,o),Xn(S,e,o),A1}I.data==="$?"||mc(),n=ju(e,n,r)}else I.data==="$?"?(n.flags|=128,n.child=e.child,n=Nd.bind(null,e),I._reactRetry=n,n=null):(e=U.treeContext,Rn=Ti(I.nextSibling),Gn=n,Ct=!0,Si=null,Hi=!1,e!==null&&(hi[di++]=aa,hi[di++]=ra,hi[di++]=Nr,aa=e.id,ra=e.overflow,Nr=n),n=Pu(n,o.children),n.flags|=4096);return n}return f?(Ga(),f=o.fallback,I=n.mode,U=e.child,H=U.sibling,o=tr(U,{mode:"hidden",children:o.children}),o.subtreeFlags=U.subtreeFlags&31457280,H!==null?f=tr(H,f):(f=Fr(f,I,r,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,I=e.child.memoizedState,I===null?I=zu(r):(U=I.cachePool,U!==null?(H=En._currentValue,U=U.parent!==H?{parent:H,pool:H}:U):U=Mf(),I={baseLanes:I.baseLanes|r,cachePool:U}),f.memoizedState=I,f.childLanes=Fu(e,S,r),n.memoizedState=ku,o):(Ya(n),r=e.child,e=r.sibling,r=tr(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=r,n.memoizedState=null,r)}function Pu(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return $1(e,n,0,null)}function ju(e,n,r){return Or(n,e.child,null,r),e=Pu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function M1(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xu(e.return,n,r)}function Vu(e,n,r,o,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=f)}function I1(e,n,r){var o=n.pendingProps,f=o.revealOrder,m=o.tail;if(_n(e,n,o.children,r),o=yn.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&M1(e,r,n);else if(e.tag===19)M1(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Pe(yn,o),f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&Zs(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),Vu(n,!1,f,r,m);break;case"backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Zs(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}Vu(n,!0,r,null,m);break;case"together":Vu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function oa(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),nr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if($l(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(A(153));if(n.child!==null){for(e=n.child,r=tr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=tr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Yu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&lo(e)))}function dd(e,n,r){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Za(n,En,e.memoizedState.cache),Hl();break;case 27:case 5:At(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Za(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ya(n),n.flags|=128,null):(r&n.child.childLanes)!==0?N1(e,n,r):(Ya(n),e=oa(e,n,r),e!==null?e.sibling:null);Ya(n);break;case 19:var f=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||($l(e,n,r,!1),o=(r&n.childLanes)!==0),f){if(o)return I1(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Pe(yn,yn.current),o)break;return null;case 22:case 23:return n.lanes=0,C1(e,n,r);case 24:Za(n,En,e.memoizedState.cache)}return oa(e,n,r)}function O1(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Sn=!0;else{if(!Yu(e,r)&&(n.flags&128)===0)return Sn=!1,dd(e,n,r);Sn=(e.flags&131072)!==0}else Sn=!1,Ct&&(n.flags&1048576)!==0&&gf(n,Vs,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")ac(o)?(e=Lr(o,e),n.tag=1,n=T1(null,n,o,e,r)):(n.tag=0,n=Uu(null,n,o,e,r));else{if(o!=null){if(f=o.$$typeof,f===ae){n.tag=11,n=y1(null,n,o,e,r);break e}else if(f===ce){n.tag=14,n=E1(null,n,o,e,r);break e}}throw n=Ze(o)||o,Error(A(306,n,""))}}return n;case 0:return Uu(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,f=Lr(o,n.pendingProps),T1(e,n,o,f,r);case 3:e:{if(Tt(n,n.stateNode.containerInfo),e===null)throw Error(A(387));var m=n.pendingProps;f=n.memoizedState,o=f.element,Qu(e,n),ns(n,m,null,r);var S=n.memoizedState;if(m=S.cache,Za(n,En,m),m!==f.cache&&qu(n,[En],r,!0),ts(),m=S.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=v1(e,n,m,r);break e}else if(m!==o){o=fi(Error(A(424)),n),jl(o),n=v1(e,n,m,r);break e}else for(Rn=Ti(n.stateNode.containerInfo.firstChild),Gn=n,Ct=!0,Si=null,Hi=!0,r=Sf(n,null,m,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hl(),m===o){n=oa(e,n,r);break e}_n(e,n,m,r)}n=n.child}return n;case 26:return Jl(e,n),e===null?(r=D0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ct||(r=n.type,e=n.pendingProps,o=So(Be.current).createElement(r),o[qt]=n,o[wn]=e,Dn(o,r,e),Lt(o),n.stateNode=o):n.memoizedState=D0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return At(n),e===null&&Ct&&(o=n.stateNode=O0(n.type,n.pendingProps,Be.current),Gn=n,Hi=!0,Rn=Ti(o.firstChild)),o=n.pendingProps.children,e!==null||Ct?_n(e,n,o,r):n.child=Or(n,null,o,r),Jl(e,n),n.child;case 5:return e===null&&Ct&&((f=o=Rn)&&(o=Vd(o,n.type,n.pendingProps,Hi),o!==null?(n.stateNode=o,Gn=n,Rn=Ti(o.firstChild),Hi=!1,f=!0):f=!1),f||Ir(n)),At(n),f=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,o=m.children,Oc(f,m)?o=null:S!==null&&Oc(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=Au(e,n,ld,null,null,r),ps._currentValue=f),Jl(e,n),_n(e,n,o,r),n.child;case 6:return e===null&&Ct&&((e=r=Rn)&&(r=Yd(r,n.pendingProps,Hi),r!==null?(n.stateNode=r,Gn=n,Rn=null,e=!0):e=!1),e||Ir(n)),null;case 13:return N1(e,n,r);case 4:return Tt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Or(n,null,o,r):_n(e,n,o,r),n.child;case 11:return y1(e,n,n.type,n.pendingProps,r);case 7:return _n(e,n,n.pendingProps,r),n.child;case 8:return _n(e,n,n.pendingProps.children,r),n.child;case 12:return _n(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Za(n,n.type,o.value),_n(e,n,o.children,r),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,kr(n),f=zn(f),o=o(f),n.flags|=1,_n(e,n,o,r),n.child;case 14:return E1(e,n,n.type,n.pendingProps,r);case 15:return w1(e,n,n.type,n.pendingProps,r);case 19:return I1(e,n,r);case 22:return C1(e,n,r);case 24:return kr(n),o=zn(En),e===null?(f=mu(),f===null&&(f=Pt,m=gu(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),n.memoizedState={parent:o,cache:f},Zu(n),Za(n,En,f)):((e.lanes&r)!==0&&(Qu(e,n),ns(n,null,null,r),ts()),f=e.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Za(n,En,o)):(o=m.cache,Za(n,En,o),o!==f.cache&&qu(n,[En],r,!0))),_n(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(A(156,n.tag))}var Gu=Ce(null),Ur=null,ua=null;function Za(e,n,r){Pe(Gu,n._currentValue),n._currentValue=r}function ca(e){e._currentValue=Gu.current,Fe(Gu)}function Xu(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function qu(e,n,r,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var S=f.child;m=m.firstContext;e:for(;m!==null;){var I=m;m=f;for(var U=0;U<n.length;U++)if(I.context===n[U]){m.lanes|=r,I=m.alternate,I!==null&&(I.lanes|=r),Xu(m.return,r,e),o||(S=null);break e}m=I.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(A(341));S.lanes|=r,m=S.alternate,m!==null&&(m.lanes|=r),Xu(S,r,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function $l(e,n,r,o){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(A(387));if(S=S.memoizedProps,S!==null){var I=f.type;l(f.pendingProps.value,S.value)||(e!==null?e.push(I):e=[I])}}else if(f===Qe.current){if(S=f.alternate,S===null)throw Error(A(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ps):e=[ps])}f=f.return}e!==null&&qu(n,e,r,o),n.flags|=262144}function lo(e){for(e=e.firstContext;e!==null;){if(!l(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Ur=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zn(e){return R1(Ur,e)}function so(e,n){return Ur===null&&kr(e),R1(e,n)}function R1(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ua===null){if(e===null)throw Error(A(308));ua=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ua=ua.next=n;return r}var Qa=!1;function Zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Hs(e),hf(e,null,r),n}return Ps(e,o,n,r),Hs(e)}function es(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Gr(e,r)}}function Wu(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var S={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=S:m=m.next=S,r=r.next}while(r!==null);m===null?f=m=n:m=m.next=n}else f=m=n;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Ku=!1;function ts(){if(Ku){var e=cl;if(e!==null)throw e}}function ns(e,n,r,o){Ku=!1;var f=e.updateQueue;Qa=!1;var m=f.firstBaseUpdate,S=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var U=I,H=U.next;U.next=null,S===null?m=H:S.next=H,S=U;var le=e.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==S&&(I===null?le.firstBaseUpdate=H:I.next=H,le.lastBaseUpdate=U))}if(m!==null){var xe=f.baseState;S=0,le=H=U=null,I=m;do{var q=I.lane&-536870913,ie=q!==I.lane;if(ie?(mt&q)===q:(o&q)===q){q!==0&&q===ul&&(Ku=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var _e=e,Je=I;q=n;var tn=r;switch(Je.tag){case 1:if(_e=Je.payload,typeof _e=="function"){xe=_e.call(tn,xe,q);break e}xe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Je.payload,q=typeof _e=="function"?_e.call(tn,xe,q):_e,q==null)break e;xe=qe({},xe,q);break e;case 2:Qa=!0}}q=I.callback,q!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[q]:ie.push(q))}else ie={lane:q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(H=le=ie,U=xe):le=le.next=ie,S|=q;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;ie=I,I=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);le===null&&(U=xe),f.baseState=U,f.firstBaseUpdate=H,f.lastBaseUpdate=le,m===null&&(f.shared.lanes=0),nr|=S,e.lanes=S,e.memoizedState=xe}}function _1(e,n){if(typeof e!="function")throw Error(A(191,e));e.call(n)}function D1(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)_1(r[e],n)}function is(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&e)===e){o=void 0;var m=r.create,S=r.inst;o=m(),S.destroy=o}r=r.next}while(r!==f)}}catch(I){zt(n,n.return,I)}}function Ja(e,n,r){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&e)===e){var S=o.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,f=n;var U=r;try{I()}catch(H){zt(f,U,H)}}}o=o.next}while(o!==m)}}catch(H){zt(n,n.return,H)}}function B1(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{D1(n,r)}catch(o){zt(e,e.return,o)}}}function L1(e,n,r){r.props=Lr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){zt(e,n,o)}}function zr(e,n){try{var r=e.ref;if(r!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?e.refCleanup=r(f):r.current=f}}catch(m){zt(e,n,m)}}function ei(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){zt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){zt(e,n,f)}else r.current=null}function U1(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){zt(e,e.return,f)}}function k1(e,n,r){try{var o=e.stateNode;zd(o,e.type,r,n),o[wn]=n}catch(f){zt(e,e.return,f)}}function z1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||z1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Co));else if(o!==4&&o!==27&&(e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function oo(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(oo(e,n,r),e=e.sibling;e!==null;)oo(e,n,r),e=e.sibling}var fa=!1,$t=!1,ec=!1,F1=typeof WeakSet=="function"?WeakSet:Set,bn=null,P1=!1;function gd(e,n){if(e=e.containerInfo,Mc=Io,e=p(e),C(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var S=0,I=-1,U=-1,H=0,le=0,xe=e,q=null;t:for(;;){for(var ie;xe!==r||f!==0&&xe.nodeType!==3||(I=S+f),xe!==m||o!==0&&xe.nodeType!==3||(U=S+o),xe.nodeType===3&&(S+=xe.nodeValue.length),(ie=xe.firstChild)!==null;)q=xe,xe=ie;for(;;){if(xe===e)break t;if(q===r&&++H===f&&(I=S),q===m&&++le===o&&(U=S),(ie=xe.nextSibling)!==null)break;xe=q,q=xe.parentNode}xe=ie}r=I===-1||U===-1?null:{start:I,end:U}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ic={focusedElem:e,selectionRange:r},Io=!1,bn=n;bn!==null;)if(n=bn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,bn=e;else for(;bn!==null;){switch(n=bn,m=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,r=n,f=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var _e=Lr(r.type,f,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(_e,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(Je){zt(r,r.return,Je)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Dc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(A(163))}if(e=n.sibling,e!==null){e.return=n.return,bn=e;break}bn=n.return}return _e=P1,P1=!1,_e}function H1(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:da(e,r),o&4&&is(5,r);break;case 1:if(da(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(I){zt(r,r.return,I)}else{var f=Lr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(I){zt(r,r.return,I)}}o&64&&B1(r),o&512&&zr(r,r.return);break;case 3:if(da(e,r),o&64&&(o=r.updateQueue,o!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{D1(o,e)}catch(I){zt(r,r.return,I)}}break;case 26:da(e,r),o&512&&zr(r,r.return);break;case 27:case 5:da(e,r),n===null&&o&4&&U1(r),o&512&&zr(r,r.return);break;case 12:da(e,r);break;case 13:da(e,r),o&4&&Y1(e,r);break;case 22:if(f=r.memoizedState!==null||fa,!f){n=n!==null&&n.memoizedState!==null||$t;var m=fa,S=$t;fa=f,($t=n)&&!S?$a(e,r,(r.subtreeFlags&8772)!==0):da(e,r),fa=m,$t=S}o&512&&(r.memoizedProps.mode==="manual"?zr(r,r.return):ei(r,r.return));break;default:da(e,r)}}function j1(e){var n=e.alternate;n!==null&&(e.alternate=null,j1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&_l(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gn=null,ti=!1;function ha(e,n,r){for(r=r.child;r!==null;)V1(e,n,r),r=r.sibling}function V1(e,n,r){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(_t,r)}catch{}switch(r.tag){case 26:$t||ei(r,n),ha(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:$t||ei(r,n);var o=gn,f=ti;for(gn=r.stateNode,ha(e,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);_l(r),gn=o,ti=f;break;case 5:$t||ei(r,n);case 6:f=gn;var m=ti;if(gn=null,ha(e,n,r),gn=f,ti=m,gn!==null)if(ti)try{e=gn,o=r.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(S){zt(r,n,S)}else try{gn.removeChild(r.stateNode)}catch(S){zt(r,n,S)}break;case 18:gn!==null&&(ti?(n=gn,r=r.stateNode,n.nodeType===8?_c(n.parentNode,r):n.nodeType===1&&_c(n,r),ws(n)):_c(gn,r.stateNode));break;case 4:o=gn,f=ti,gn=r.stateNode.containerInfo,ti=!0,ha(e,n,r),gn=o,ti=f;break;case 0:case 11:case 14:case 15:$t||Ja(2,r,n),$t||Ja(4,r,n),ha(e,n,r);break;case 1:$t||(ei(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&L1(r,n,o)),ha(e,n,r);break;case 21:ha(e,n,r);break;case 22:$t||ei(r,n),$t=(o=$t)||r.memoizedState!==null,ha(e,n,r),$t=o;break;default:ha(e,n,r)}}function Y1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ws(e)}catch(r){zt(n,n.return,r)}}function xd(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new F1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new F1),n;default:throw Error(A(435,e.tag))}}function tc(e,n){var r=xd(e);n.forEach(function(o){var f=Md.bind(null,e,o);r.has(o)||(r.add(o),o.then(f,f))})}function xi(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],m=e,S=n,I=S;e:for(;I!==null;){switch(I.tag){case 27:case 5:gn=I.stateNode,ti=!1;break e;case 3:gn=I.stateNode.containerInfo,ti=!0;break e;case 4:gn=I.stateNode.containerInfo,ti=!0;break e}I=I.return}if(gn===null)throw Error(A(160));V1(m,S,f),gn=null,ti=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)G1(n,e),n=n.sibling}var bi=null;function G1(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xi(n,e),mi(e),o&4&&(Ja(3,e,e.return),is(3,e),Ja(5,e,e.return));break;case 1:xi(n,e),mi(e),o&512&&($t||r===null||ei(r,r.return)),o&64&&fa&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=bi;if(xi(n,e),mi(e),o&512&&($t||r===null||ei(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[mr]||m[qt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Dn(m,o,r),m[qt]=e,Lt(m),o=m;break e;case"link":var S=U0("link","href",f).get(o+(r.href||""));if(S){for(var I=0;I<S.length;I++)if(m=S[I],m.getAttribute("href")===(r.href==null?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){S.splice(I,1);break t}}m=f.createElement(o),Dn(m,o,r),f.head.appendChild(m);break;case"meta":if(S=U0("meta","content",f).get(o+(r.content||""))){for(I=0;I<S.length;I++)if(m=S[I],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){S.splice(I,1);break t}}m=f.createElement(o),Dn(m,o,r),f.head.appendChild(m);break;default:throw Error(A(468,o))}m[qt]=e,Lt(m),o=m}e.stateNode=o}else k0(f,e.type,e.stateNode);else e.stateNode=L0(f,o,e.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?k0(f,e.type,e.stateNode):L0(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&k1(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){f=e.stateNode,m=e.memoizedProps;try{for(var U=f.firstChild;U;){var H=U.nextSibling,le=U.nodeName;U[mr]||le==="HEAD"||le==="BODY"||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&U.rel.toLowerCase()==="stylesheet"||f.removeChild(U),U=H}for(var xe=e.type,q=f.attributes;q.length;)f.removeAttributeNode(q[0]);Dn(f,xe,m),f[qt]=e,f[wn]=m}catch(_e){zt(e,e.return,_e)}}case 5:if(xi(n,e),mi(e),o&512&&($t||r===null||ei(r,r.return)),e.flags&32){f=e.stateNode;try{Ia(f,"")}catch(_e){zt(e,e.return,_e)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,k1(e,f,r!==null?r.memoizedProps:f)),o&1024&&(ec=!0);break;case 6:if(xi(n,e),mi(e),o&4){if(e.stateNode===null)throw Error(A(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(_e){zt(e,e.return,_e)}}break;case 3:if(vo=null,f=bi,bi=bo(n.containerInfo),xi(n,e),bi=f,mi(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ws(n.containerInfo)}catch(_e){zt(e,e.return,_e)}ec&&(ec=!1,X1(e));break;case 4:o=bi,bi=bo(e.stateNode.containerInfo),xi(n,e),mi(e),bi=o;break;case 12:xi(n,e),mi(e);break;case 13:xi(n,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cc=Xt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:if(o&512&&($t||r===null||ei(r,r.return)),U=e.memoizedState!==null,H=r!==null&&r.memoizedState!==null,le=fa,xe=$t,fa=le||U,$t=xe||H,xi(n,e),$t=xe,fa=le,mi(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=U?n._visibility&-2:n._visibility|1,U&&(n=fa||$t,r===null||H||n||gl(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(r=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){H=r=n;try{if(f=H.stateNode,U)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=H.stateNode,I=H.memoizedProps.style;var ie=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(_e){zt(H,H.return,_e)}}}else if(n.tag===6){if(r===null){H=n;try{H.stateNode.nodeValue=U?"":H.memoizedProps}catch(_e){zt(H,H.return,_e)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:xi(n,e),mi(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 21:break;default:xi(n,e),mi(e)}}function mi(e){var n=e.flags;if(n&2){try{if(e.tag!==27){e:{for(var r=e.return;r!==null;){if(z1(r)){var o=r;break e}r=r.return}throw Error(A(160))}switch(o.tag){case 27:var f=o.stateNode,m=Ju(e);oo(e,m,f);break;case 5:var S=o.stateNode;o.flags&32&&(Ia(S,""),o.flags&=-33);var I=Ju(e);oo(e,I,S);break;case 3:case 4:var U=o.stateNode.containerInfo,H=Ju(e);$u(e,H,U);break;default:throw Error(A(161))}}}catch(le){zt(e,e.return,le)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function X1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;X1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function da(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)H1(e,n.alternate,n),n=n.sibling}function gl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ja(4,n,n.return),gl(n);break;case 1:ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&L1(n,n.return,r),gl(n);break;case 26:case 27:case 5:ei(n,n.return),gl(n);break;case 22:ei(n,n.return),n.memoizedState===null&&gl(n);break;default:gl(n)}e=e.sibling}}function $a(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:$a(f,m,r),is(4,m);break;case 1:if($a(f,m,r),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){zt(o,o.return,H)}if(o=m,f=o.updateQueue,f!==null){var I=o.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)_1(U[f],I)}catch(H){zt(o,o.return,H)}}r&&S&64&&B1(m),zr(m,m.return);break;case 26:case 27:case 5:$a(f,m,r),r&&o===null&&S&4&&U1(m),zr(m,m.return);break;case 12:$a(f,m,r);break;case 13:$a(f,m,r),r&&S&4&&Y1(f,m);break;case 22:m.memoizedState===null&&$a(f,m,r),zr(m,m.return);break;default:$a(f,m,r)}n=n.sibling}}function nc(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ql(r))}function ic(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ql(e))}function er(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q1(e,n,r,o),n=n.sibling}function q1(e,n,r,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:er(e,n,r,o),f&2048&&is(9,n);break;case 3:er(e,n,r,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ql(e)));break;case 12:if(f&2048){er(e,n,r,o),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,I=m.onPostCommit;typeof I=="function"&&I(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){zt(n,n.return,U)}}else er(e,n,r,o);break;case 23:break;case 22:m=n.stateNode,n.memoizedState!==null?m._visibility&4?er(e,n,r,o):as(e,n):m._visibility&4?er(e,n,r,o):(m._visibility|=4,xl(e,n,r,o,(n.subtreeFlags&10256)!==0)),f&2048&&nc(n.alternate,n);break;case 24:er(e,n,r,o),f&2048&&ic(n.alternate,n);break;default:er(e,n,r,o)}}function xl(e,n,r,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=e,S=n,I=r,U=o,H=S.flags;switch(S.tag){case 0:case 11:case 15:xl(m,S,I,U,f),is(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&4?xl(m,S,I,U,f):as(m,S):(le._visibility|=4,xl(m,S,I,U,f)),f&&H&2048&&nc(S.alternate,S);break;case 24:xl(m,S,I,U,f),f&&H&2048&&ic(S.alternate,S);break;default:xl(m,S,I,U,f)}n=n.sibling}}function as(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,f=o.flags;switch(o.tag){case 22:as(r,o),f&2048&&nc(o.alternate,o);break;case 24:as(r,o),f&2048&&ic(o.alternate,o);break;default:as(r,o)}n=n.sibling}}var rs=8192;function ml(e){if(e.subtreeFlags&rs)for(e=e.child;e!==null;)Z1(e),e=e.sibling}function Z1(e){switch(e.tag){case 26:ml(e),e.flags&rs&&e.memoizedState!==null&&i2(bi,e.memoizedState,e.memoizedProps);break;case 5:ml(e);break;case 3:case 4:var n=bi;bi=bo(e.stateNode.containerInfo),ml(e),bi=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=rs,rs=16777216,ml(e),rs=n):ml(e));break;default:ml(e)}}function Q1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ls(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];bn=o,K1(o,e)}Q1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)W1(e),e=e.sibling}function W1(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,uo(e)):ls(e);break;default:ls(e)}}function uo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];bn=o,K1(o,e)}Q1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ja(8,n,n.return),uo(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,uo(n));break;default:uo(n)}e=e.sibling}}function K1(e,n){for(;bn!==null;){var r=bn;switch(r.tag){case 0:case 11:case 15:Ja(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ql(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,bn=o;else e:for(r=e;bn!==null;){o=bn;var f=o.sibling,m=o.return;if(j1(o),o===r){bn=null;break e}if(f!==null){f.return=m,bn=f;break e}bn=m}}}function md(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(e,n,r,o){return new md(e,n,r,o)}function ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tr(e,n){var r=e.alternate;return r===null?(r=pi(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&31457280,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function J1(e,n){e.flags&=31457282;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function co(e,n,r,o,f,m){var S=0;if(o=e,typeof e=="function")ac(e)&&(S=1);else if(typeof e=="string")S=t2(e,r,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case O:return Fr(r.children,f,m,n);case w:S=8,f|=24;break;case L:return e=pi(12,r,n,f|2),e.elementType=L,e.lanes=m,e;case fe:return e=pi(13,r,n,f),e.elementType=fe,e.lanes=m,e;case $:return e=pi(19,r,n,f),e.elementType=$,e.lanes=m,e;case oe:return $1(r,f,m,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case ne:S=10;break e;case J:S=9;break e;case ae:S=11;break e;case ce:S=14;break e;case we:S=16,o=null;break e}S=29,r=Error(A(130,e===null?"null":typeof e,"")),o=null}return n=pi(S,r,n,f),n.elementType=e,n.type=o,n.lanes=m,n}function Fr(e,n,r,o){return e=pi(7,e,o,n),e.lanes=r,e}function $1(e,n,r,o){e=pi(22,e,o,n),e.elementType=oe,e.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(A(456));if((f._pendingVisibility&2)===0){var S=Va(m,2);S!==null&&(f._pendingVisibility|=2,Xn(S,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(A(456));if((f._pendingVisibility&2)!==0){var S=Va(m,2);S!==null&&(f._pendingVisibility&=-3,Xn(S,m,2))}}};return e.stateNode=f,e}function rc(e,n,r){return e=pi(6,e,null,n),e.lanes=r,e}function lc(e,n,r){return n=pi(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ga(e){e.flags|=4}function e0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!z0(n)){if(n=gi.current,n!==null&&((mt&4194176)===mt?ji!==null:(mt&62914560)!==mt&&(mt&536870912)===0||n!==ji))throw Yl=fu,pf;e.flags|=8192}}function fo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wi():536870912,e.lanes|=n,Al|=n)}function ss(e,n){if(!Ct)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Qt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function pd(e,n,r){var o=n.pendingProps;switch(uu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(n),null;case 1:return Qt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ca(En),Yt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pl(n)?ga(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Si!==null&&(gc(Si),Si=null))),Qt(n),null;case 26:return r=n.memoizedState,e===null?(ga(n),r!==null?(Qt(n),e0(n,r)):(Qt(n),n.flags&=-16777217)):r?r!==e.memoizedState?(ga(n),Qt(n),e0(n,r)):(Qt(n),n.flags&=-16777217):(e.memoizedProps!==o&&ga(n),Qt(n),n.flags&=-16777217),null;case 27:et(n),r=Be.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ga(n);else{if(!o){if(n.stateNode===null)throw Error(A(166));return Qt(n),null}e=Ye.current,Pl(n)?xf(n):(e=O0(f,o,r),n.stateNode=e,ga(n))}return Qt(n),null;case 5:if(et(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ga(n);else{if(!o){if(n.stateNode===null)throw Error(A(166));return Qt(n),null}if(e=Ye.current,Pl(n))xf(n);else{switch(f=So(Be.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}e[qt]=n,e[wn]=o;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(Dn(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ga(n)}}return Qt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ga(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(A(166));if(e=Be.current,Pl(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,f=Gn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[qt]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||b0(e.nodeValue,r)),e||Ir(n)}else e=So(e).createTextNode(o),e[qt]=n,n.stateNode=e}return Qt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Pl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(A(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(A(317));f[qt]=n}else Hl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qt(n),f=!1}else Si!==null&&(gc(Si),Si=null),f=!0;if(!f)return n.flags&256?(la(n),n):(la(n),null)}if(la(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),fo(n,n.updateQueue),Qt(n),null;case 4:return Yt(),e===null&&Tc(n.stateNode.containerInfo),Qt(n),null;case 10:return ca(n.type),Qt(n),null;case 19:if(Fe(yn),f=n.memoizedState,f===null)return Qt(n),null;if(o=(n.flags&128)!==0,m=f.rendering,m===null)if(o)ss(f,!1);else{if(en!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Zs(e),m!==null){for(n.flags|=128,ss(f,!1),e=m.updateQueue,n.updateQueue=e,fo(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)J1(r,e),r=r.sibling;return Pe(yn,yn.current&1|2),n.child}e=e.sibling}f.tail!==null&&Xt()>ho&&(n.flags|=128,o=!0,ss(f,!1),n.lanes=4194304)}else{if(!o)if(e=Zs(m),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,fo(n,e),ss(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ct)return Qt(n),null}else 2*Xt()-f.renderingStartTime>ho&&r!==536870912&&(n.flags|=128,o=!0,ss(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(e=f.last,e!==null?e.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Xt(),n.sibling=null,e=yn.current,Pe(yn,o?e&1|2:e&1),n):(Qt(n),null);case 22:case 23:return la(n),du(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Qt(n),n.subtreeFlags&6&&(n.flags|=8192)):Qt(n),r=n.updateQueue,r!==null&&fo(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Fe(Rr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ca(En),Qt(n),null;case 25:return null}throw Error(A(156,n.tag))}function Ad(e,n){switch(uu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ca(En),Yt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return et(n),null;case 13:if(la(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(A(340));Hl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Fe(yn),null;case 4:return Yt(),null;case 10:return ca(n.type),null;case 22:case 23:return la(n),du(),e!==null&&Fe(Rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ca(En),null;case 25:return null;default:return null}}function t0(e,n){switch(uu(n),n.tag){case 3:ca(En),Yt();break;case 26:case 27:case 5:et(n);break;case 4:Yt();break;case 13:la(n);break;case 19:Fe(yn);break;case 10:ca(n.type);break;case 22:case 23:la(n),du(),e!==null&&Fe(Rr);break;case 24:ca(En)}}var yd={getCacheForType:function(e){var n=zn(En),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},Ed=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Pt=null,ut=null,mt=0,Ht=0,ni=null,xa=!1,pl=!1,sc=!1,ma=0,en=0,nr=0,Pr=0,oc=0,Ai=0,Al=0,os=null,Yi=null,uc=!1,cc=0,ho=1/0,go=null,ir=null,xo=!1,Hr=null,us=0,fc=0,hc=null,cs=0,dc=null;function ii(){if((Wt&2)!==0&&mt!==0)return mt&-mt;if(X.T!==null){var e=ul;return e!==0?e:wc()}return _i()}function n0(){Ai===0&&(Ai=(mt&536870912)===0||Ct?mn():536870912);var e=gi.current;return e!==null&&(e.flags|=32),Ai}function Xn(e,n,r){(e===Pt&&Ht===2||e.cancelPendingCommit!==null)&&(yl(e,0),pa(e,mt,Ai,!1)),Bn(e,r),((Wt&2)===0||e!==Pt)&&(e===Pt&&((Wt&2)===0&&(Pr|=r),en===4&&pa(e,mt,Ai,!1)),Gi(e))}function i0(e,n,r){if((Wt&6)!==0)throw Error(A(327));var o=!r&&(n&60)===0&&(n&e.expiredLanes)===0||Nn(e,n),f=o?Sd(e,n):pc(e,n,!0),m=o;do{if(f===0){pl&&!o&&pa(e,n,0,!1);break}else if(f===6)pa(e,n,0,!xa);else{if(r=e.current.alternate,m&&!wd(r)){f=pc(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var I=e;f=os;var U=I.current.memoizedState.isDehydrated;if(U&&(yl(I,S).flags|=256),S=pc(I,S,!1),S!==2){if(sc&&!U){I.errorRecoveryDisabledLanes|=m,Pr|=m,f=4;break e}m=Yi,Yi=f,m!==null&&gc(m)}f=S}if(m=!1,f!==2)continue}}if(f===1){yl(e,0),pa(e,n,0,!0);break}e:{switch(o=e,f){case 0:case 1:throw Error(A(345));case 4:if((n&4194176)===n){pa(o,n,Ai,!xa);break e}break;case 2:Yi=null;break;case 3:case 5:break;default:throw Error(A(329))}if(o.finishedWork=r,o.finishedLanes=n,(n&62914560)===n&&(m=cc+300-Xt(),10<m)){if(pa(o,n,Ai,!xa),xr(o,0)!==0)break e;o.timeoutHandle=N0(a0.bind(null,o,r,Yi,go,uc,n,Ai,Pr,Al,xa,2,-0,0),m);break e}a0(o,r,Yi,go,uc,n,Ai,Pr,Al,xa,0,-0,0)}}break}while(!0);Gi(e)}function gc(e){Yi===null?Yi=e:Yi.push.apply(Yi,e)}function a0(e,n,r,o,f,m,S,I,U,H,le,xe,q){var ie=n.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(ms={stylesheets:null,count:0,unsuspend:n2},Z1(n),n=a2(),n!==null)){e.cancelPendingCommit=n(f0.bind(null,e,r,o,f,S,I,U,1,xe,q)),pa(e,m,S,!H);return}f0(e,r,o,f,S,I,U,le,xe,q)}function wd(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],m=f.getSnapshot;f=f.value;try{if(!l(m(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(e,n,r,o){n&=~oc,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var m=31-ft(f),S=1<<m;o[m]=-1,f&=~S}r!==0&&Ri(e,r,n)}function mo(){return(Wt&6)===0?(fs(0),!1):!0}function xc(){if(ut!==null){if(Ht===0)var e=ut.return;else e=ut,ua=Ur=null,wu(e),sl=null,Gl=0,e=ut;for(;e!==null;)t0(e.alternate,e),e=e.return;ut=null}}function yl(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Pd(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),xc(),Pt=e,ut=r=tr(e.current,null),mt=n,Ht=0,ni=null,xa=!1,pl=Nn(e,n),sc=!1,Al=Ai=oc=Pr=nr=en=0,Yi=os=null,uc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-ft(o),m=1<<f;n|=e[f],o&=~m}return ma=n,Fs(),r}function r0(e,n){rt=null,X.H=Vi,n===Vl?(n=Ef(),Ht=3):n===pf?(n=Ef(),Ht=4):Ht=n===A1?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ni=n,ut===null&&(en=1,ro(e,fi(n,e.current)))}function l0(){var e=X.H;return X.H=Vi,e===null?Vi:e}function s0(){var e=X.A;return X.A=yd,e}function mc(){en=4,xa||(mt&4194176)!==mt&&gi.current!==null||(pl=!0),(nr&134217727)===0&&(Pr&134217727)===0||Pt===null||pa(Pt,mt,Ai,!1)}function pc(e,n,r){var o=Wt;Wt|=2;var f=l0(),m=s0();(Pt!==e||mt!==n)&&(go=null,yl(e,n)),n=!1;var S=en;e:do try{if(Ht!==0&&ut!==null){var I=ut,U=ni;switch(Ht){case 8:xc(),S=6;break e;case 3:case 2:case 6:gi.current===null&&(n=!0);var H=Ht;if(Ht=0,ni=null,El(e,I,U,H),r&&pl){S=0;break e}break;default:H=Ht,Ht=0,ni=null,El(e,I,U,H)}}Cd(),S=en;break}catch(le){r0(e,le)}while(!0);return n&&e.shellSuspendCounter++,ua=Ur=null,Wt=o,X.H=f,X.A=m,ut===null&&(Pt=null,mt=0,Fs()),S}function Cd(){for(;ut!==null;)o0(ut)}function Sd(e,n){var r=Wt;Wt|=2;var o=l0(),f=s0();Pt!==e||mt!==n?(go=null,ho=Xt()+500,yl(e,n)):pl=Nn(e,n);e:do try{if(Ht!==0&&ut!==null){n=ut;var m=ni;t:switch(Ht){case 1:Ht=0,ni=null,El(e,n,m,1);break;case 2:if(Af(m)){Ht=0,ni=null,u0(n);break}n=function(){Ht===2&&Pt===e&&(Ht=7),Gi(e)},m.then(n,n);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:Af(m)?(Ht=0,ni=null,u0(n)):(Ht=0,ni=null,El(e,n,m,7));break;case 5:var S=null;switch(ut.tag){case 26:S=ut.memoizedState;case 5:case 27:var I=ut;if(!S||z0(S)){Ht=0,ni=null;var U=I.sibling;if(U!==null)ut=U;else{var H=I.return;H!==null?(ut=H,po(H)):ut=null}break t}}Ht=0,ni=null,El(e,n,m,5);break;case 6:Ht=0,ni=null,El(e,n,m,6);break;case 8:xc(),en=6;break e;default:throw Error(A(462))}}bd();break}catch(le){r0(e,le)}while(!0);return ua=Ur=null,X.H=o,X.A=f,Wt=r,ut!==null?0:(Pt=null,mt=0,Fs(),en)}function bd(){for(;ut!==null&&!Sa();)o0(ut)}function o0(e){var n=O1(e.alternate,e,ma);e.memoizedProps=e.pendingProps,n===null?po(e):ut=n}function u0(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=b1(r,n,n.pendingProps,n.type,void 0,mt);break;case 11:n=b1(r,n,n.pendingProps,n.type.render,n.ref,mt);break;case 5:wu(n);default:t0(r,n),n=ut=J1(n,ma),n=O1(r,n,ma)}e.memoizedProps=e.pendingProps,n===null?po(e):ut=n}function El(e,n,r,o){ua=Ur=null,wu(n),sl=null,Gl=0;var f=n.return;try{if(hd(e,f,n,r,mt)){en=1,ro(e,fi(r,e.current)),ut=null;return}}catch(m){if(f!==null)throw ut=f,m;en=1,ro(e,fi(r,e.current)),ut=null;return}n.flags&32768?(Ct||o===1?e=!0:pl||(mt&536870912)!==0?e=!1:(xa=e=!0,(o===2||o===3||o===6)&&(o=gi.current,o!==null&&o.tag===13&&(o.flags|=16384))),c0(n,e)):po(n)}function po(e){var n=e;do{if((n.flags&32768)!==0){c0(n,xa);return}e=n.return;var r=pd(n.alternate,n,ma);if(r!==null){ut=r;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=e}while(n!==null);en===0&&(en=5)}function c0(e,n){do{var r=Ad(e.alternate,e);if(r!==null){r.flags&=32767,ut=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){ut=e;return}ut=e=r}while(e!==null);en=6,ut=null}function f0(e,n,r,o,f,m,S,I,U,H){var le=X.T,xe=re.p;try{re.p=2,X.T=null,Td(e,n,r,o,xe,f,m,S,I,U,H)}finally{X.T=le,re.p=xe}}function Td(e,n,r,o,f,m,S,I){do wl();while(Hr!==null);if((Wt&6)!==0)throw Error(A(327));var U=e.finishedWork;if(o=e.finishedLanes,U===null)return null;if(e.finishedWork=null,e.finishedLanes=0,U===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var H=U.lanes|U.childLanes;if(H|=lu,qo(e,o,H,m,S,I),e===Pt&&(ut=Pt=null,mt=0),(U.subtreeFlags&10256)===0&&(U.flags&10256)===0||xo||(xo=!0,fc=H,hc=r,Id(Pn,function(){return wl(),null})),r=(U.flags&15990)!==0,(U.subtreeFlags&15990)!==0||r?(r=X.T,X.T=null,m=re.p,re.p=2,S=Wt,Wt|=4,gd(e,U),G1(U,e),T(Ic,e.containerInfo),Io=!!Mc,Ic=Mc=null,e.current=U,H1(e,U.alternate,U),Yr(),Wt=S,re.p=m,X.T=r):e.current=U,xo?(xo=!1,Hr=e,us=o):h0(e,H),H=e.pendingLanes,H===0&&(ir=null),an(U.stateNode),Gi(e),n!==null)for(f=e.onRecoverableError,U=0;U<n.length;U++)H=n[U],f(H.value,{componentStack:H.stack});return(us&3)!==0&&wl(),H=e.pendingLanes,(o&4194218)!==0&&(H&42)!==0?e===dc?cs++:(cs=0,dc=e):cs=0,fs(0),null}function h0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ql(n)))}function wl(){if(Hr!==null){var e=Hr,n=fc;fc=0;var r=Mn(us),o=X.T,f=re.p;try{if(re.p=32>r?32:r,X.T=null,Hr===null)var m=!1;else{r=hc,hc=null;var S=Hr,I=us;if(Hr=null,us=0,(Wt&6)!==0)throw Error(A(331));var U=Wt;if(Wt|=4,W1(S.current),q1(S,S.current,I,r),Wt=U,fs(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(_t,S)}catch{}m=!0}return m}finally{re.p=f,X.T=o,h0(e,n)}}return!1}function d0(e,n,r){n=fi(r,n),n=Lu(e.stateNode,n,2),e=Ka(e,n,2),e!==null&&(Bn(e,2),Gi(e))}function zt(e,n,r){if(e.tag===3)d0(e,e,r);else for(;n!==null;){if(n.tag===3){d0(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ir===null||!ir.has(o))){e=fi(r,e),r=m1(2),o=Ka(n,r,2),o!==null&&(p1(r,o,n,e),Bn(o,2),Gi(o));break}}n=n.return}}function Ac(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Ed;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(r)||(sc=!0,f.add(r),e=vd.bind(null,e,n,r),n.then(e,e))}function vd(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Pt===e&&(mt&r)===r&&(en===4||en===3&&(mt&62914560)===mt&&300>Xt()-cc?(Wt&2)===0&&yl(e,0):oc|=r,Al===mt&&(Al=0)),Gi(e)}function g0(e,n){n===0&&(n=Wi()),e=Va(e,n),e!==null&&(Bn(e,n),Gi(e))}function Nd(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),g0(e,r)}function Md(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(A(314))}o!==null&&o.delete(n),g0(e,r)}function Id(e,n){return xn(e,n)}var Ao=null,Cl=null,yc=!1,yo=!1,Ec=!1,jr=0;function Gi(e){e!==Cl&&e.next===null&&(Cl===null?Ao=Cl=e:Cl=Cl.next=e),yo=!0,yc||(yc=!0,Rd(Od))}function fs(e,n){if(!Ec&&yo){Ec=!0;do for(var r=!1,o=Ao;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var S=o.suspendedLanes,I=o.pingedLanes;m=(1<<31-ft(42|e)+1)-1,m&=f&~(S&~I),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(r=!0,p0(o,m))}else m=mt,m=xr(o,o===Pt?m:0),(m&3)===0||Nn(o,m)||(r=!0,p0(o,m));o=o.next}while(r);Ec=!1}}function Od(){yo=yc=!1;var e=0;jr!==0&&(Fd()&&(e=jr),jr=0);for(var n=Xt(),r=null,o=Ao;o!==null;){var f=o.next,m=x0(o,n);m===0?(o.next=null,r===null?Ao=f:r.next=f,f===null&&(Cl=r)):(r=o,(e!==0||(m&3)!==0)&&(yo=!0)),o=f}fs(e)}function x0(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-ft(m),I=1<<S,U=f[S];U===-1?((I&r)===0||(I&o)!==0)&&(f[S]=Rl(I,n)):U<=n&&(e.expiredLanes|=I),m&=~I}if(n=Pt,r=mt,r=xr(e,e===n?r:0),o=e.callbackNode,r===0||e===n&&Ht===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ne(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Nn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Ne(o),Mn(r)){case 2:case 8:r=dr;break;case 32:r=Pn;break;case 268435456:r=ba;break;default:r=Pn}return o=m0.bind(null,e),r=xn(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Ne(o),e.callbackPriority=2,e.callbackNode=null,2}function m0(e,n){var r=e.callbackNode;if(wl()&&e.callbackNode!==r)return null;var o=mt;return o=xr(e,e===Pt?o:0),o===0?null:(i0(e,o,n),x0(e,Xt()),e.callbackNode!=null&&e.callbackNode===r?m0.bind(null,e):null)}function p0(e,n){if(wl())return null;i0(e,n,!0)}function Rd(e){Hd(function(){(Wt&6)!==0?xn(vn,e):e()})}function wc(){return jr===0&&(jr=mn()),jr}function A0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oa(""+e)}function y0(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function _d(e,n,r,o,f){if(n==="submit"&&r&&r.stateNode===f){var m=A0((f[wn]||null).action),S=o.submitter;S&&(n=(n=S[wn]||null)?A0(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var I=new zi("action","action",null,o,f);e.push({event:I,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(jr!==0){var U=S?y0(f,S):new FormData(f);Ou(r,{pending:!0,data:U,method:f.method,action:m},null,U)}}else typeof m=="function"&&(I.preventDefault(),U=S?y0(f,S):new FormData(f),Ou(r,{pending:!0,data:U,method:f.method,action:m},m,U))},currentTarget:f}]})}}for(var Cc=0;Cc<zs.length;Cc++){var Sc=zs[Cc],Dd=Sc.toLowerCase(),Bd=Sc[0].toUpperCase()+Sc.slice(1);$n(Dd,"on"+Bd)}$n(In,"onAnimationEnd"),$n(Qn,"onAnimationIteration"),$n(On,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Ot,"onTransitionRun"),$n(An,"onTransitionStart"),$n(Yn,"onTransitionCancel"),$n(na,"onTransitionEnd"),Mt("onMouseEnter",["mouseout","mouseover"]),Mt("onMouseLeave",["mouseout","mouseover"]),Mt("onPointerEnter",["pointerout","pointerover"]),Mt("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ld=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hs));function E0(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var S=o.length-1;0<=S;S--){var I=o[S],U=I.instance,H=I.currentTarget;if(I=I.listener,U!==m&&f.isPropagationStopped())break e;m=I,f.currentTarget=H;try{m(f)}catch(le){ao(le)}f.currentTarget=null,m=U}else for(S=0;S<o.length;S++){if(I=o[S],U=I.instance,H=I.currentTarget,I=I.listener,U!==m&&f.isPropagationStopped())break e;m=I,f.currentTarget=H;try{m(f)}catch(le){ao(le)}f.currentTarget=null,m=U}}}}function gt(e,n){var r=n[Di];r===void 0&&(r=n[Di]=new Set);var o=e+"__bubble";r.has(o)||(w0(n,e,2,!1),r.add(o))}function bc(e,n,r){var o=0;n&&(o|=4),w0(r,e,o,n)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Tc(e){if(!e[Eo]){e[Eo]=!0,Zr.forEach(function(r){r!=="selectionchange"&&(Ld.has(r)||bc(r,!1,e),bc(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Eo]||(n[Eo]=!0,bc("selectionchange",!1,n))}}function w0(e,n,r,o){switch(Y0(n)){case 2:var f=s2;break;case 8:f=o2;break;default:f=zc}r=f.bind(null,n,r,e),f=void 0,!Ke||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function vc(e,n,r,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var S=o.tag;if(S===3||S===4){var I=o.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(S===4)for(S=o.return;S!==null;){var U=S.tag;if((U===3||U===4)&&(U=S.stateNode.containerInfo,U===f||U.nodeType===8&&U.parentNode===f))return;S=S.return}for(;I!==null;){if(S=Cn(I),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){o=m=S;continue e}I=I.parentNode}}o=o.return}Ve(function(){var H=m,le=pr(r),xe=[];e:{var q=ia.get(e);if(q!==void 0){var ie=zi,_e=e;switch(e){case"keypress":if(Wr(r)===0)break e;case"keydown":case"keyup":ie=Bl;break;case"focusin":_e="focus",ie=Ua;break;case"focusout":_e="blur",ie=Ua;break;case"beforeblur":case"afterblur":ie=Ua;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ds;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Nt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=It;break;case In:case Qn:case On:ie=Jo;break;case na:ie=nu;break;case"scroll":case"scrollend":ie=Un;break;case"wheel":ie=ea;break;case"copy":case"cut":case"paste":ie=tt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Sr;break;case"toggle":case"beforetoggle":ie=iu}var Je=(n&4)!==0,tn=!Je&&(e==="scroll"||e==="scrollend"),j=Je?q!==null?q+"Capture":null:q;Je=[];for(var P=H,G;P!==null;){var ue=P;if(G=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||G===null||j===null||(ue=Ar(P,j),ue!=null&&Je.push(ds(P,ue,G))),tn)break;P=P.return}0<Je.length&&(q=new ie(q,_e,null,r,le),xe.push({event:q,listeners:Je}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",q&&r!==Ra&&(_e=r.relatedTarget||r.fromElement)&&(Cn(_e)||_e[rn]))break e;if((ie||q)&&(q=le.window===le?le:(q=le.ownerDocument)?q.defaultView||q.parentWindow:window,ie?(_e=r.relatedTarget||r.toElement,ie=H,_e=_e?Cn(_e):null,_e!==null&&(tn=Ue(_e),Je=_e.tag,_e!==tn||Je!==5&&Je!==27&&Je!==6)&&(_e=null)):(ie=null,_e=H),ie!==_e)){if(Je=Ds,ue="onMouseLeave",j="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Je=Sr,ue="onPointerLeave",j="onPointerEnter",P="pointer"),tn=ie==null?q:vt(ie),G=_e==null?q:vt(_e),q=new Je(ue,P+"leave",ie,r,le),q.target=tn,q.relatedTarget=G,ue=null,Cn(le)===H&&(Je=new Je(j,P+"enter",_e,r,le),Je.target=G,Je.relatedTarget=tn,ue=Je),tn=ue,ie&&_e)t:{for(Je=ie,j=_e,P=0,G=Je;G;G=Sl(G))P++;for(G=0,ue=j;ue;ue=Sl(ue))G++;for(;0<P-G;)Je=Sl(Je),P--;for(;0<G-P;)j=Sl(j),G--;for(;P--;){if(Je===j||j!==null&&Je===j.alternate)break t;Je=Sl(Je),j=Sl(j)}Je=null}else Je=null;ie!==null&&C0(xe,q,ie,Je,!1),_e!==null&&tn!==null&&C0(xe,tn,_e,Je,!0)}}e:{if(q=H?vt(H):window,ie=q.nodeName&&q.nodeName.toLowerCase(),ie==="select"||ie==="input"&&q.type==="file")var Oe=ks;else if(vr(q))if(zl)Oe=i;else{Oe=b;var lt=nl}else ie=q.nodeName,!ie||ie.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Ut(H.elementType)&&(Oe=ks):Oe=t;if(Oe&&(Oe=Oe(e,H))){Vn(xe,Oe,r,le);break e}lt&&lt(e,q,H),e==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&R(q,"number",q.value)}switch(lt=H?vt(H):window,e){case"focusin":(vr(lt)||lt.contentEditable==="true")&&(_=lt,z=H,F=null);break;case"focusout":F=z=_=null;break;case"mousedown":V=!0;break;case"contextmenu":case"mouseup":case"dragend":V=!1,W(xe,r,le);break;case"selectionchange":if(v)break;case"keydown":case"keyup":W(xe,r,le)}var ze;if(br)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Fa?ta(e,r)&&(Xe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Xe="onCompositionStart");Xe&&(Ul&&r.locale!=="ko"&&(Fa||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Fa&&(ze=Li()):(Bi=le,yr="value"in Bi?Bi.value:Bi.textContent,Fa=!0)),lt=wo(H,Xe),0<lt.length&&(Xe=new wr(Xe,e,null,r,le),xe.push({event:Xe,listeners:lt}),ze?Xe.data=ze:(ze=el(r),ze!==null&&(Xe.data=ze)))),(ze=Ll?Tr(e,r):au(e,r))&&(Xe=wo(H,"onBeforeInput"),0<Xe.length&&(lt=new wr("onBeforeInput","beforeinput",null,r,le),xe.push({event:lt,listeners:Xe}),lt.data=ze)),_d(xe,e,H,r,le)}E0(xe,n)})}function ds(e,n,r){return{instance:e,listener:n,currentTarget:r}}function wo(e,n){for(var r=n+"Capture",o=[];e!==null;){var f=e,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ar(e,r),f!=null&&o.unshift(ds(e,f,m)),f=Ar(e,n),f!=null&&o.push(ds(e,f,m))),e=e.return}return o}function Sl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function C0(e,n,r,o,f){for(var m=n._reactName,S=[];r!==null&&r!==o;){var I=r,U=I.alternate,H=I.stateNode;if(I=I.tag,U!==null&&U===o)break;I!==5&&I!==26&&I!==27||H===null||(U=H,f?(H=Ar(r,m),H!=null&&S.unshift(ds(r,H,U))):f||(H=Ar(r,m),H!=null&&S.push(ds(r,H,U)))),r=r.return}S.length!==0&&e.push({event:n,listeners:S})}var Ud=/\r\n?/g,kd=/\u0000|\uFFFD/g;function S0(e){return(typeof e=="string"?e:""+e).replace(Ud,`
`).replace(kd,"")}function b0(e,n){return n=S0(n),S0(e)===n}function Co(){}function Bt(e,n,r,o,f,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Ia(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Ia(e,""+o);break;case"className":Na(e,"class",o);break;case"tabIndex":Na(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Na(e,r,o);break;case"style":ke(e,o,m);break;case"data":if(n!=="object"){Na(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Oa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&Bt(e,n,"name",f.name,f,null),Bt(e,n,"formEncType",f.formEncType,f,null),Bt(e,n,"formMethod",f.formMethod,f,null),Bt(e,n,"formTarget",f.formTarget,f,null)):(Bt(e,n,"encType",f.encType,f,null),Bt(e,n,"method",f.method,f,null),Bt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Oa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Co);break;case"onScroll":o!=null&&gt("scroll",e);break;case"onScrollEnd":o!=null&&gt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(A(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(A(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":gt("beforetoggle",e),gt("toggle",e),va(e,"popover",o);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":va(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_s.get(r)||r,va(e,r,o))}}function Nc(e,n,r,o,f,m){switch(r){case"style":ke(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(A(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(A(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Ia(e,o):(typeof o=="number"||typeof o=="bigint")&&Ia(e,""+o);break;case"onScroll":o!=null&&gt("scroll",e);break;case"onScrollEnd":o!=null&&gt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!he.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),m=e[wn]||null,m=m!=null?m[r]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,f);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):va(e,r,o)}}}function Dn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",e),gt("load",e);var o=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var S=r[m];if(S!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,n));default:Bt(e,n,m,S,r,null)}}f&&Bt(e,n,"srcSet",r.srcSet,r,null),o&&Bt(e,n,"src",r.src,r,null);return;case"input":gt("invalid",e);var I=m=S=f=null,U=null,H=null;for(o in r)if(r.hasOwnProperty(o)){var le=r[o];if(le!=null)switch(o){case"name":f=le;break;case"type":S=le;break;case"checked":U=le;break;case"defaultChecked":H=le;break;case"value":m=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(A(137,n));break;default:Bt(e,n,o,le,r,null)}}Y(e,m,I,U,H,S,f,!1),Ft(e);return;case"select":gt("invalid",e),o=S=m=null;for(f in r)if(r.hasOwnProperty(f)&&(I=r[f],I!=null))switch(f){case"value":m=I;break;case"defaultValue":S=I;break;case"multiple":o=I;default:Bt(e,n,f,I,r,null)}n=m,r=S,e.multiple=!!o,n!=null?Re(e,!!o,n,!1):r!=null&&Re(e,!!o,r,!0);return;case"textarea":gt("invalid",e),m=f=o=null;for(S in r)if(r.hasOwnProperty(S)&&(I=r[S],I!=null))switch(S){case"value":o=I;break;case"defaultValue":f=I;break;case"children":m=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(A(91));break;default:Bt(e,n,S,I,r,null)}Hn(e,o,f,m),Ft(e);return;case"option":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Bt(e,n,U,o,r,null)}return;case"dialog":gt("cancel",e),gt("close",e);break;case"iframe":case"object":gt("load",e);break;case"video":case"audio":for(o=0;o<hs.length;o++)gt(hs[o],e);break;case"image":gt("error",e),gt("load",e);break;case"details":gt("toggle",e);break;case"embed":case"source":case"link":gt("error",e),gt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(o=r[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,n));default:Bt(e,n,H,o,r,null)}return;default:if(Ut(n)){for(le in r)r.hasOwnProperty(le)&&(o=r[le],o!==void 0&&Nc(e,n,le,o,r,void 0));return}}for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null&&Bt(e,n,I,o,r,null))}function zd(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,S=null,I=null,U=null,H=null,le=null;for(ie in r){var xe=r[ie];if(r.hasOwnProperty(ie)&&xe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=xe;default:o.hasOwnProperty(ie)||Bt(e,n,ie,null,o,xe)}}for(var q in o){var ie=o[q];if(xe=r[q],o.hasOwnProperty(q)&&(ie!=null||xe!=null))switch(q){case"type":m=ie;break;case"name":f=ie;break;case"checked":H=ie;break;case"defaultChecked":le=ie;break;case"value":S=ie;break;case"defaultValue":I=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(A(137,n));break;default:ie!==xe&&Bt(e,n,q,ie,o,xe)}}cn(e,S,I,U,H,le,m,f);return;case"select":ie=S=I=q=null;for(m in r)if(U=r[m],r.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":ie=U;default:o.hasOwnProperty(m)||Bt(e,n,m,null,o,U)}for(f in o)if(m=o[f],U=r[f],o.hasOwnProperty(f)&&(m!=null||U!=null))switch(f){case"value":q=m;break;case"defaultValue":I=m;break;case"multiple":S=m;default:m!==U&&Bt(e,n,f,m,o,U)}n=I,r=S,o=ie,q!=null?Re(e,!!r,q,!1):!!o!=!!r&&(n!=null?Re(e,!!r,n,!0):Re(e,!!r,r?[]:"",!1));return;case"textarea":ie=q=null;for(I in r)if(f=r[I],r.hasOwnProperty(I)&&f!=null&&!o.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Bt(e,n,I,null,o,f)}for(S in o)if(f=o[S],m=r[S],o.hasOwnProperty(S)&&(f!=null||m!=null))switch(S){case"value":q=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(A(91));break;default:f!==m&&Bt(e,n,S,f,o,m)}ln(e,q,ie);return;case"option":for(var _e in r)if(q=r[_e],r.hasOwnProperty(_e)&&q!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":e.selected=!1;break;default:Bt(e,n,_e,null,o,q)}for(U in o)if(q=o[U],ie=r[U],o.hasOwnProperty(U)&&q!==ie&&(q!=null||ie!=null))switch(U){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Bt(e,n,U,q,o,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in r)q=r[Je],r.hasOwnProperty(Je)&&q!=null&&!o.hasOwnProperty(Je)&&Bt(e,n,Je,null,o,q);for(H in o)if(q=o[H],ie=r[H],o.hasOwnProperty(H)&&q!==ie&&(q!=null||ie!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(A(137,n));break;default:Bt(e,n,H,q,o,ie)}return;default:if(Ut(n)){for(var tn in r)q=r[tn],r.hasOwnProperty(tn)&&q!==void 0&&!o.hasOwnProperty(tn)&&Nc(e,n,tn,void 0,o,q);for(le in o)q=o[le],ie=r[le],!o.hasOwnProperty(le)||q===ie||q===void 0&&ie===void 0||Nc(e,n,le,q,o,ie);return}}for(var j in r)q=r[j],r.hasOwnProperty(j)&&q!=null&&!o.hasOwnProperty(j)&&Bt(e,n,j,null,o,q);for(xe in o)q=o[xe],ie=r[xe],!o.hasOwnProperty(xe)||q===ie||q==null&&ie==null||Bt(e,n,xe,q,o,ie)}var Mc=null,Ic=null;function So(e){return e.nodeType===9?e:e.ownerDocument}function T0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Oc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rc=null;function Fd(){var e=window.event;return e&&e.type==="popstate"?e===Rc?!1:(Rc=e,!0):(Rc=null,!1)}var N0=typeof setTimeout=="function"?setTimeout:void 0,Pd=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,Hd=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(e){return M0.resolve(null).then(e).catch(jd)}:N0;function jd(e){setTimeout(function(){throw e})}function _c(e,n){var r=n,o=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){e.removeChild(f),ws(n);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);ws(n)}function Dc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Dc(r),_l(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Vd(e,n,r,o){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ti(e.nextSibling),e===null)break}return null}function Yd(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ti(e.nextSibling),e===null))return null;return e}function Ti(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function I0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function O0(e,n,r){switch(n=So(r),e){case"html":if(e=n.documentElement,!e)throw Error(A(452));return e;case"head":if(e=n.head,!e)throw Error(A(453));return e;case"body":if(e=n.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}var yi=new Map,R0=new Set;function bo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Aa=re.d;re.d={f:Gd,r:Xd,D:qd,C:Zd,L:Qd,m:Wd,X:Jd,S:Kd,M:$d};function Gd(){var e=Aa.f(),n=mo();return e||n}function Xd(e){var n=Jt(e);n!==null&&n.tag===5&&n.type==="form"?a1(n):Aa.r(e)}var bl=typeof document>"u"?null:document;function _0(e,n,r){var o=bl;if(o&&typeof n=="string"&&n){var f=it(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),R0.has(f)||(R0.add(f),e={rel:e,crossOrigin:r,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Dn(n,"link",e),Lt(n),o.head.appendChild(n)))}}function qd(e){Aa.D(e),_0("dns-prefetch",e,null)}function Zd(e,n){Aa.C(e,n),_0("preconnect",e,n)}function Qd(e,n,r){Aa.L(e,n,r);var o=bl;if(o&&e&&n){var f='link[rel="preload"][as="'+it(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+it(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+it(r.imageSizes)+'"]')):f+='[href="'+it(e)+'"]';var m=f;switch(n){case"style":m=Tl(e);break;case"script":m=vl(e)}yi.has(m)||(e=qe({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),yi.set(m,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(gs(m))||n==="script"&&o.querySelector(xs(m))||(n=o.createElement("link"),Dn(n,"link",e),Lt(n),o.head.appendChild(n)))}}function Wd(e,n){Aa.m(e,n);var r=bl;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+it(o)+'"][href="'+it(e)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vl(e)}if(!yi.has(m)&&(e=qe({rel:"modulepreload",href:e},n),yi.set(m,e),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xs(m)))return}o=r.createElement("link"),Dn(o,"link",e),Lt(o),r.head.appendChild(o)}}}function Kd(e,n,r){Aa.S(e,n,r);var o=bl;if(o&&e){var f=Ki(o).hoistableStyles,m=Tl(e);n=n||"default";var S=f.get(m);if(!S){var I={loading:0,preload:null};if(S=o.querySelector(gs(m)))I.loading=5;else{e=qe({rel:"stylesheet",href:e,"data-precedence":n},r),(r=yi.get(m))&&Bc(e,r);var U=S=o.createElement("link");Lt(U),Dn(U,"link",e),U._p=new Promise(function(H,le){U.onload=H,U.onerror=le}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,To(S,n,o)}S={type:"stylesheet",instance:S,count:1,state:I},f.set(m,S)}}}function Jd(e,n){Aa.X(e,n);var r=bl;if(r&&e){var o=Ki(r).hoistableScripts,f=vl(e),m=o.get(f);m||(m=r.querySelector(xs(f)),m||(e=qe({src:e,async:!0},n),(n=yi.get(f))&&Lc(e,n),m=r.createElement("script"),Lt(m),Dn(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function $d(e,n){Aa.M(e,n);var r=bl;if(r&&e){var o=Ki(r).hoistableScripts,f=vl(e),m=o.get(f);m||(m=r.querySelector(xs(f)),m||(e=qe({src:e,async:!0,type:"module"},n),(n=yi.get(f))&&Lc(e,n),m=r.createElement("script"),Lt(m),Dn(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function D0(e,n,r,o){var f=(f=Be.current)?bo(f):null;if(!f)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Tl(r.href),r=Ki(f).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Tl(r.href);var m=Ki(f).hoistableStyles,S=m.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=f.querySelector(gs(e)))&&!m._p&&(S.instance=m,S.state.loading=5),yi.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},yi.set(e,r),m||e2(f,e,r,S.state))),n&&o===null)throw Error(A(528,""));return S}if(n&&o!==null)throw Error(A(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vl(r),r=Ki(f).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function Tl(e){return'href="'+it(e)+'"'}function gs(e){return'link[rel="stylesheet"]['+e+"]"}function B0(e){return qe({},e,{"data-precedence":e.precedence,precedence:null})}function e2(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Dn(n,"link",r),Lt(n),e.head.appendChild(n))}function vl(e){return'[src="'+it(e)+'"]'}function xs(e){return"script[async]"+e}function L0(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+it(r.href)+'"]');if(o)return n.instance=o,Lt(o),o;var f=qe({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Lt(o),Dn(o,"style",f),To(o,r.precedence,e),n.instance=o;case"stylesheet":f=Tl(r.href);var m=e.querySelector(gs(f));if(m)return n.state.loading|=4,n.instance=m,Lt(m),m;o=B0(r),(f=yi.get(f))&&Bc(o,f),m=(e.ownerDocument||e).createElement("link"),Lt(m);var S=m;return S._p=new Promise(function(I,U){S.onload=I,S.onerror=U}),Dn(m,"link",o),n.state.loading|=4,To(m,r.precedence,e),n.instance=m;case"script":return m=vl(r.src),(f=e.querySelector(xs(m)))?(n.instance=f,Lt(f),f):(o=r,(f=yi.get(m))&&(o=qe({},r),Lc(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Lt(f),Dn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(A(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,To(o,r.precedence,e));return n.instance}function To(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,S=0;S<o.length;S++){var I=o[S];if(I.dataset.precedence===n)m=I;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Bc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Lc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vo=null;function U0(e,n,r){if(vo===null){var o=new Map,f=vo=new Map;f.set(r,o)}else f=vo,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var m=r[f];if(!(m[mr]||m[qt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var I=o.get(S);I?I.push(m):o.set(S,[m])}}return o}function k0(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function t2(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function z0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ms=null;function n2(){}function i2(e,n,r){if(ms===null)throw Error(A(475));var o=ms;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Tl(r.href),m=e.querySelector(gs(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=No.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=m,Lt(m);return}m=e.ownerDocument||e,r=B0(r),(f=yi.get(f))&&Bc(r,f),m=m.createElement("link"),Lt(m);var S=m;S._p=new Promise(function(I,U){S.onload=I,S.onerror=U}),Dn(m,"link",r),n.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=No.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function a2(){if(ms===null)throw Error(A(475));var e=ms;return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function No(){if(this.count--,this.count===0){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mo=null;function Uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mo=new Map,n.forEach(r2,e),Mo=null,No.call(e))}function r2(e,n){if(!(n.state.loading&4)){var r=Mo.get(e);if(r)var o=r.get(null);else{r=new Map,Mo.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var S=f[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(r.set(S.dataset.precedence,S),o=S)}o&&r.set(null,o)}f=n.instance,S=f.getAttribute("data-precedence"),m=r.get(S)||o,m===o&&r.set(null,f),r.set(S,f),this.count++,o=No.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var ps={$$typeof:ne,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function l2(e,n,r,o,f,m,S,I){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function F0(e,n,r,o,f,m,S,I,U,H,le,xe){return e=new l2(e,n,r,S,I,U,H,xe),n=1,m===!0&&(n|=24),m=pi(3,null,null,n),e.current=m,m.stateNode=e,n=gu(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},Zu(m),e}function P0(e){return e?(e=al,e):al}function H0(e,n,r,o,f,m){f=P0(f),o.context===null?o.context=f:o.pendingContext=f,o=Wa(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Ka(e,o,n),r!==null&&(Xn(r,e,n),es(r,e,n))}function j0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function kc(e,n){j0(e,n),(e=e.alternate)&&j0(e,n)}function V0(e){if(e.tag===13){var n=Va(e,67108864);n!==null&&Xn(n,e,67108864),kc(e,67108864)}}var Io=!0;function s2(e,n,r,o){var f=X.T;X.T=null;var m=re.p;try{re.p=2,zc(e,n,r,o)}finally{re.p=m,X.T=f}}function o2(e,n,r,o){var f=X.T;X.T=null;var m=re.p;try{re.p=8,zc(e,n,r,o)}finally{re.p=m,X.T=f}}function zc(e,n,r,o){if(Io){var f=Fc(o);if(f===null)vc(e,n,o,Oo,r),G0(e,o);else if(c2(f,e,n,r,o))o.stopPropagation();else if(G0(e,o),n&4&&-1<u2.indexOf(e)){for(;f!==null;){var m=Jt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Oi(m.pendingLanes);if(S!==0){var I=m;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var U=1<<31-ft(S);I.entanglements[1]|=U,S&=~U}Gi(m),(Wt&6)===0&&(ho=Xt()+500,fs(0))}}break;case 13:I=Va(m,2),I!==null&&Xn(I,m,2),mo(),kc(m,2)}if(m=Fc(o),m===null&&vc(e,n,o,Oo,r),m===f)break;f=m}f!==null&&o.stopPropagation()}else vc(e,n,o,null,r)}}function Fc(e){return e=pr(e),Pc(e)}var Oo=null;function Pc(e){if(Oo=null,e=Cn(e),e!==null){var n=Ue(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=st(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Oo=e,null}function Y0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case vn:return 2;case dr:return 8;case Pn:case un:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Hc=!1,ar=null,rr=null,lr=null,As=new Map,ys=new Map,sr=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":As.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(n.pointerId)}}function Es(e,n,r,o,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=Jt(n),n!==null&&V0(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function c2(e,n,r,o,f){switch(n){case"focusin":return ar=Es(ar,e,n,r,o,f),!0;case"dragenter":return rr=Es(rr,e,n,r,o,f),!0;case"mouseover":return lr=Es(lr,e,n,r,o,f),!0;case"pointerover":var m=f.pointerId;return As.set(m,Es(As.get(m)||null,e,n,r,o,f)),!0;case"gotpointercapture":return m=f.pointerId,ys.set(m,Es(ys.get(m)||null,e,n,r,o,f)),!0}return!1}function X0(e){var n=Cn(e.target);if(n!==null){var r=Ue(n);if(r!==null){if(n=r.tag,n===13){if(n=st(r),n!==null){e.blockedOn=n,qn(e.priority,function(){if(r.tag===13){var o=ii(),f=Va(r,o);f!==null&&Xn(f,r,o),kc(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ro(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Fc(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ra=o,r.target.dispatchEvent(o),Ra=null}else return n=Jt(r),n!==null&&V0(n),e.blockedOn=r,!1;n.shift()}return!0}function q0(e,n,r){Ro(e)&&r.delete(n)}function f2(){Hc=!1,ar!==null&&Ro(ar)&&(ar=null),rr!==null&&Ro(rr)&&(rr=null),lr!==null&&Ro(lr)&&(lr=null),As.forEach(q0),ys.forEach(q0)}function _o(e,n){e.blockedOn===n&&(e.blockedOn=null,Hc||(Hc=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,f2)))}var Do=null;function Z0(e){Do!==e&&(Do=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Do===e&&(Do=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Pc(o||r)===null)continue;break}var m=Jt(r);m!==null&&(e.splice(n,3),n-=3,Ou(m,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function ws(e){function n(U){return _o(U,e)}ar!==null&&_o(ar,e),rr!==null&&_o(rr,e),lr!==null&&_o(lr,e),As.forEach(n),ys.forEach(n);for(var r=0;r<sr.length;r++){var o=sr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)X0(r),r.blockedOn===null&&sr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],m=r[o+1],S=f[wn]||null;if(typeof m=="function")S||Z0(r);else if(S){var I=null;if(m&&m.hasAttribute("formAction")){if(f=m,S=m[wn]||null)I=S.formAction;else if(Pc(f)!==null)continue}else I=S.action;typeof I=="function"?r[o+1]=I:(r.splice(o,3),o-=3),Z0(r)}}}function jc(e){this._internalRoot=e}Bo.prototype.render=jc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(A(409));var r=n.current,o=ii();H0(r,o,e,n,null,null)},Bo.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&wl(),H0(e.current,2,null,e,null,null),mo(),n[rn]=null}};function Bo(e){this._internalRoot=e}Bo.prototype.unstable_scheduleHydration=function(e){if(e){var n=_i();e={blockedOn:null,target:e,priority:n};for(var r=0;r<sr.length&&n!==0&&n<sr[r].priority;r++);sr.splice(r,0,e),r===0&&X0(e)}};var Q0=x.version;if(Q0!=="19.0.0")throw Error(A(527,Q0,"19.0.0"));re.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=D(n),e=e!==null?se(e):null,e=e===null?null:e.stateNode,e};var h2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:X,findFiberByHostInstance:Cn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{_t=Lo.inject(h2),Ee=Lo}catch{}}return Ss.createRoot=function(e,n){if(!E(e))throw Error(A(299));var r=!1,o="",f=h1,m=d1,S=g1,I=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(I=n.unstable_transitionCallbacks)),n=F0(e,1,!1,null,null,r,o,f,m,S,I,null),e[rn]=n.current,Tc(e.nodeType===8?e.parentNode:e),new jc(n)},Ss.hydrateRoot=function(e,n,r){if(!E(e))throw Error(A(299));var o=!1,f="",m=h1,S=d1,I=g1,U=null,H=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(S=r.onCaughtError),r.onRecoverableError!==void 0&&(I=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(U=r.unstable_transitionCallbacks),r.formState!==void 0&&(H=r.formState)),n=F0(e,1,!0,n,r??null,o,f,m,S,I,U,H),n.context=P0(null),r=n.current,o=ii(),f=Wa(o),f.callback=null,Ka(r,f,o),n.current.lanes=o,Bn(n,o),Gi(n),e[rn]=n.current,Tc(e),new Bo(n)},Ss.version="19.0.0",Ss}var rh;function b2(){if(rh)return Gc.exports;rh=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(x){console.error(x)}}return h(),Gc.exports=S2(),Gc.exports}var T2=b2();const v2=tf(T2);var bs={},lh;function N2(){if(lh)return bs;lh=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.parse=N,bs.serialize=w;const h=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,x=/^[\u0021-\u003A\u003C-\u007E]*$/,d=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,A=/^[\u0020-\u003A\u003D-\u007E]*$/,E=Object.prototype.toString,y=(()=>{const J=function(){};return J.prototype=Object.create(null),J})();function N(J,ne){const ae=new y,fe=J.length;if(fe<2)return ae;const $=(ne==null?void 0:ne.decode)||L;let ce=0;do{const we=J.indexOf("=",ce);if(we===-1)break;const oe=J.indexOf(";",ce),Ie=oe===-1?fe:oe;if(we>Ie){ce=J.lastIndexOf(";",we-1)+1;continue}const Le=B(J,ce,we),je=O(J,we,Le),me=J.slice(Le,je);if(ae[me]===void 0){let Ze=B(J,we+1,Ie),X=O(J,Ie,Ze);const qe=$(J.slice(Ze,X));ae[me]=qe}ce=Ie+1}while(ce<fe);return ae}function B(J,ne,ae){do{const fe=J.charCodeAt(ne);if(fe!==32&&fe!==9)return ne}while(++ne<ae);return ae}function O(J,ne,ae){for(;ne>ae;){const fe=J.charCodeAt(--ne);if(fe!==32&&fe!==9)return ne+1}return ae}function w(J,ne,ae){const fe=(ae==null?void 0:ae.encode)||encodeURIComponent;if(!h.test(J))throw new TypeError(`argument name is invalid: ${J}`);const $=fe(ne);if(!x.test($))throw new TypeError(`argument val is invalid: ${ne}`);let ce=J+"="+$;if(!ae)return ce;if(ae.maxAge!==void 0){if(!Number.isInteger(ae.maxAge))throw new TypeError(`option maxAge is invalid: ${ae.maxAge}`);ce+="; Max-Age="+ae.maxAge}if(ae.domain){if(!d.test(ae.domain))throw new TypeError(`option domain is invalid: ${ae.domain}`);ce+="; Domain="+ae.domain}if(ae.path){if(!A.test(ae.path))throw new TypeError(`option path is invalid: ${ae.path}`);ce+="; Path="+ae.path}if(ae.expires){if(!k(ae.expires)||!Number.isFinite(ae.expires.valueOf()))throw new TypeError(`option expires is invalid: ${ae.expires}`);ce+="; Expires="+ae.expires.toUTCString()}if(ae.httpOnly&&(ce+="; HttpOnly"),ae.secure&&(ce+="; Secure"),ae.partitioned&&(ce+="; Partitioned"),ae.priority)switch(typeof ae.priority=="string"?ae.priority.toLowerCase():void 0){case"low":ce+="; Priority=Low";break;case"medium":ce+="; Priority=Medium";break;case"high":ce+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${ae.priority}`)}if(ae.sameSite)switch(typeof ae.sameSite=="string"?ae.sameSite.toLowerCase():ae.sameSite){case!0:case"strict":ce+="; SameSite=Strict";break;case"lax":ce+="; SameSite=Lax";break;case"none":ce+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${ae.sameSite}`)}return ce}function L(J){if(J.indexOf("%")===-1)return J;try{return decodeURIComponent(J)}catch{return J}}function k(J){return E.call(J)==="[object Date]"}return bs}N2();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sh="popstate";function M2(h={}){function x(E,y){let{pathname:N="/",search:B="",hash:O=""}=Vr(E.location.hash.substring(1));return!N.startsWith("/")&&!N.startsWith(".")&&(N="/"+N),Jc("",{pathname:N,search:B,hash:O},y.state&&y.state.usr||null,y.state&&y.state.key||"default")}function d(E,y){let N=E.document.querySelector("base"),B="";if(N&&N.getAttribute("href")){let O=E.location.href,w=O.indexOf("#");B=w===-1?O:O.slice(0,w)}return B+"#"+(typeof y=="string"?y:Ns(y))}function A(E,y){Mi(E.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(y)})`)}return O2(x,d,A,h)}function Kt(h,x){if(h===!1||h===null||typeof h>"u")throw new Error(x)}function Mi(h,x){if(!h){typeof console<"u"&&console.warn(x);try{throw new Error(x)}catch{}}}function I2(){return Math.random().toString(36).substring(2,10)}function oh(h,x){return{usr:h.state,key:h.key,idx:x}}function Jc(h,x,d=null,A){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof x=="string"?Vr(x):x,state:d,key:x&&x.key||A||I2()}}function Ns({pathname:h="/",search:x="",hash:d=""}){return x&&x!=="?"&&(h+=x.charAt(0)==="?"?x:"?"+x),d&&d!=="#"&&(h+=d.charAt(0)==="#"?d:"#"+d),h}function Vr(h){let x={};if(h){let d=h.indexOf("#");d>=0&&(x.hash=h.substring(d),h=h.substring(0,d));let A=h.indexOf("?");A>=0&&(x.search=h.substring(A),h=h.substring(0,A)),h&&(x.pathname=h)}return x}function O2(h,x,d,A={}){let{window:E=document.defaultView,v5Compat:y=!1}=A,N=E.history,B="POP",O=null,w=L();w==null&&(w=0,N.replaceState({...N.state,idx:w},""));function L(){return(N.state||{idx:null}).idx}function k(){B="POP";let $=L(),ce=$==null?null:$-w;w=$,O&&O({action:B,location:fe.location,delta:ce})}function J($,ce){B="PUSH";let we=Jc(fe.location,$,ce);d&&d(we,$),w=L()+1;let oe=oh(we,w),Ie=fe.createHref(we);try{N.pushState(oe,"",Ie)}catch(Le){if(Le instanceof DOMException&&Le.name==="DataCloneError")throw Le;E.location.assign(Ie)}y&&O&&O({action:B,location:fe.location,delta:1})}function ne($,ce){B="REPLACE";let we=Jc(fe.location,$,ce);d&&d(we,$),w=L();let oe=oh(we,w),Ie=fe.createHref(we);N.replaceState(oe,"",Ie),y&&O&&O({action:B,location:fe.location,delta:0})}function ae($){let ce=E.location.origin!=="null"?E.location.origin:E.location.href,we=typeof $=="string"?$:Ns($);return we=we.replace(/ $/,"%20"),Kt(ce,`No window.location.(origin|href) available to create URL for href: ${we}`),new URL(we,ce)}let fe={get action(){return B},get location(){return h(E,N)},listen($){if(O)throw new Error("A history only accepts one active listener");return E.addEventListener(sh,k),O=$,()=>{E.removeEventListener(sh,k),O=null}},createHref($){return x(E,$)},createURL:ae,encodeLocation($){let ce=ae($);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:J,replace:ne,go($){return N.go($)}};return fe}function Ih(h,x,d="/"){return R2(h,x,d,!1)}function R2(h,x,d,A){let E=typeof x=="string"?Vr(x):x,y=wa(E.pathname||"/",d);if(y==null)return null;let N=Oh(h);_2(N);let B=null;for(let O=0;B==null&&O<N.length;++O){let w=V2(y);B=H2(N[O],w,A)}return B}function Oh(h,x=[],d=[],A=""){let E=(y,N,B)=>{let O={relativePath:B===void 0?y.path||"":B,caseSensitive:y.caseSensitive===!0,childrenIndex:N,route:y};O.relativePath.startsWith("/")&&(Kt(O.relativePath.startsWith(A),`Absolute route path "${O.relativePath}" nested under path "${A}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),O.relativePath=O.relativePath.slice(A.length));let w=Ea([A,O.relativePath]),L=d.concat(O);y.children&&y.children.length>0&&(Kt(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Oh(y.children,x,L,w)),!(y.path==null&&!y.index)&&x.push({path:w,score:F2(w,y.index),routesMeta:L})};return h.forEach((y,N)=>{var B;if(y.path===""||!((B=y.path)!=null&&B.includes("?")))E(y,N);else for(let O of Rh(y.path))E(y,N,O)}),x}function Rh(h){let x=h.split("/");if(x.length===0)return[];let[d,...A]=x,E=d.endsWith("?"),y=d.replace(/\?$/,"");if(A.length===0)return E?[y,""]:[y];let N=Rh(A.join("/")),B=[];return B.push(...N.map(O=>O===""?y:[y,O].join("/"))),E&&B.push(...N),B.map(O=>h.startsWith("/")&&O===""?"/":O)}function _2(h){h.sort((x,d)=>x.score!==d.score?d.score-x.score:P2(x.routesMeta.map(A=>A.childrenIndex),d.routesMeta.map(A=>A.childrenIndex)))}var D2=/^:[\w-]+$/,B2=3,L2=2,U2=1,k2=10,z2=-2,uh=h=>h==="*";function F2(h,x){let d=h.split("/"),A=d.length;return d.some(uh)&&(A+=z2),x&&(A+=L2),d.filter(E=>!uh(E)).reduce((E,y)=>E+(D2.test(y)?B2:y===""?U2:k2),A)}function P2(h,x){return h.length===x.length&&h.slice(0,-1).every((A,E)=>A===x[E])?h[h.length-1]-x[x.length-1]:0}function H2(h,x,d=!1){let{routesMeta:A}=h,E={},y="/",N=[];for(let B=0;B<A.length;++B){let O=A[B],w=B===A.length-1,L=y==="/"?x:x.slice(y.length)||"/",k=Ho({path:O.relativePath,caseSensitive:O.caseSensitive,end:w},L),J=O.route;if(!k&&w&&d&&!A[A.length-1].route.index&&(k=Ho({path:O.relativePath,caseSensitive:O.caseSensitive,end:!1},L)),!k)return null;Object.assign(E,k.params),N.push({params:E,pathname:Ea([y,k.pathname]),pathnameBase:q2(Ea([y,k.pathnameBase])),route:J}),k.pathnameBase!=="/"&&(y=Ea([y,k.pathnameBase]))}return N}function Ho(h,x){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[d,A]=j2(h.path,h.caseSensitive,h.end),E=x.match(d);if(!E)return null;let y=E[0],N=y.replace(/(.)\/+$/,"$1"),B=E.slice(1);return{params:A.reduce((w,{paramName:L,isOptional:k},J)=>{if(L==="*"){let ae=B[J]||"";N=y.slice(0,y.length-ae.length).replace(/(.)\/+$/,"$1")}const ne=B[J];return k&&!ne?w[L]=void 0:w[L]=(ne||"").replace(/%2F/g,"/"),w},{}),pathname:y,pathnameBase:N,pattern:h}}function j2(h,x=!1,d=!0){Mi(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let A=[],E="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(N,B,O)=>(A.push({paramName:B,isOptional:O!=null}),O?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(A.push({paramName:"*"}),E+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?E+="\\/*$":h!==""&&h!=="/"&&(E+="(?:(?=\\/|$))"),[new RegExp(E,x?void 0:"i"),A]}function V2(h){try{return h.split("/").map(x=>decodeURIComponent(x).replace(/\//g,"%2F")).join("/")}catch(x){return Mi(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${x}).`),h}}function wa(h,x){if(x==="/")return h;if(!h.toLowerCase().startsWith(x.toLowerCase()))return null;let d=x.endsWith("/")?x.length-1:x.length,A=h.charAt(d);return A&&A!=="/"?null:h.slice(d)||"/"}function Y2(h,x="/"){let{pathname:d,search:A="",hash:E=""}=typeof h=="string"?Vr(h):h;return{pathname:d?d.startsWith("/")?d:G2(d,x):x,search:Z2(A),hash:Q2(E)}}function G2(h,x){let d=x.replace(/\/+$/,"").split("/");return h.split("/").forEach(E=>{E===".."?d.length>1&&d.pop():E!=="."&&d.push(E)}),d.length>1?d.join("/"):"/"}function Qc(h,x,d,A){return`Cannot include a '${h}' character in a manually specified \`to.${x}\` field [${JSON.stringify(A)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X2(h){return h.filter((x,d)=>d===0||x.route.path&&x.route.path.length>0)}function _h(h){let x=X2(h);return x.map((d,A)=>A===x.length-1?d.pathname:d.pathnameBase)}function Dh(h,x,d,A=!1){let E;typeof h=="string"?E=Vr(h):(E={...h},Kt(!E.pathname||!E.pathname.includes("?"),Qc("?","pathname","search",E)),Kt(!E.pathname||!E.pathname.includes("#"),Qc("#","pathname","hash",E)),Kt(!E.search||!E.search.includes("#"),Qc("#","search","hash",E)));let y=h===""||E.pathname==="",N=y?"/":E.pathname,B;if(N==null)B=d;else{let k=x.length-1;if(!A&&N.startsWith("..")){let J=N.split("/");for(;J[0]==="..";)J.shift(),k-=1;E.pathname=J.join("/")}B=k>=0?x[k]:"/"}let O=Y2(E,B),w=N&&N!=="/"&&N.endsWith("/"),L=(y||N===".")&&d.endsWith("/");return!O.pathname.endsWith("/")&&(w||L)&&(O.pathname+="/"),O}var Ea=h=>h.join("/").replace(/\/\/+/g,"/"),q2=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),Z2=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,Q2=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function W2(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var Bh=["POST","PUT","PATCH","DELETE"];new Set(Bh);var K2=["GET",...Bh];new Set(K2);var Ml=Z.createContext(null);Ml.displayName="DataRouter";var Yo=Z.createContext(null);Yo.displayName="DataRouterState";var Lh=Z.createContext({isTransitioning:!1});Lh.displayName="ViewTransition";var J2=Z.createContext(new Map);J2.displayName="Fetchers";var $2=Z.createContext(null);$2.displayName="Await";var Zi=Z.createContext(null);Zi.displayName="Navigation";var Ms=Z.createContext(null);Ms.displayName="Location";var Qi=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var af=Z.createContext(null);af.displayName="RouteError";function eg(h,{relative:x}={}){Kt(Is(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:A}=Z.useContext(Zi),{hash:E,pathname:y,search:N}=Os(h,{relative:x}),B=y;return d!=="/"&&(B=y==="/"?d:Ea([d,y])),A.createHref({pathname:B,search:N,hash:E})}function Is(){return Z.useContext(Ms)!=null}function fr(){return Kt(Is(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Ms).location}var Uh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kh(h){Z.useContext(Zi).static||Z.useLayoutEffect(h)}function Ca(){let{isDataRoute:h}=Z.useContext(Qi);return h?dg():tg()}function tg(){Kt(Is(),"useNavigate() may be used only in the context of a <Router> component.");let h=Z.useContext(Ml),{basename:x,navigator:d}=Z.useContext(Zi),{matches:A}=Z.useContext(Qi),{pathname:E}=fr(),y=JSON.stringify(_h(A)),N=Z.useRef(!1);return kh(()=>{N.current=!0}),Z.useCallback((O,w={})=>{if(Mi(N.current,Uh),!N.current)return;if(typeof O=="number"){d.go(O);return}let L=Dh(O,JSON.parse(y),E,w.relative==="path");h==null&&x!=="/"&&(L.pathname=L.pathname==="/"?x:Ea([x,L.pathname])),(w.replace?d.replace:d.push)(L,w.state,w)},[x,d,y,E,h])}Z.createContext(null);function sm(){let{matches:h}=Z.useContext(Qi),x=h[h.length-1];return x?x.params:{}}function Os(h,{relative:x}={}){let{matches:d}=Z.useContext(Qi),{pathname:A}=fr(),E=JSON.stringify(_h(d));return Z.useMemo(()=>Dh(h,JSON.parse(E),A,x==="path"),[h,E,A,x])}function ng(h,x){return zh(h,x)}function zh(h,x,d,A){var we;Kt(Is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:E,static:y}=Z.useContext(Zi),{matches:N}=Z.useContext(Qi),B=N[N.length-1],O=B?B.params:{},w=B?B.pathname:"/",L=B?B.pathnameBase:"/",k=B&&B.route;{let oe=k&&k.path||"";Fh(w,!k||oe.endsWith("*")||oe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${oe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${oe}"> to <Route path="${oe==="/"?"*":`${oe}/*`}">.`)}let J=fr(),ne;if(x){let oe=typeof x=="string"?Vr(x):x;Kt(L==="/"||((we=oe.pathname)==null?void 0:we.startsWith(L)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${L}" but pathname "${oe.pathname}" was given in the \`location\` prop.`),ne=oe}else ne=J;let ae=ne.pathname||"/",fe=ae;if(L!=="/"){let oe=L.replace(/^\//,"").split("/");fe="/"+ae.replace(/^\//,"").split("/").slice(oe.length).join("/")}let $=!y&&d&&d.matches&&d.matches.length>0?d.matches:Ih(h,{pathname:fe});Mi(k||$!=null,`No routes matched location "${ne.pathname}${ne.search}${ne.hash}" `),Mi($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${ne.pathname}${ne.search}${ne.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=sg($&&$.map(oe=>Object.assign({},oe,{params:Object.assign({},O,oe.params),pathname:Ea([L,E.encodeLocation?E.encodeLocation(oe.pathname).pathname:oe.pathname]),pathnameBase:oe.pathnameBase==="/"?L:Ea([L,E.encodeLocation?E.encodeLocation(oe.pathnameBase).pathname:oe.pathnameBase])})),N,d,A);return x&&ce?Z.createElement(Ms.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ne},navigationType:"POP"}},ce):ce}function ig(){let h=hg(),x=W2(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),d=h instanceof Error?h.stack:null,A="rgba(200,200,200, 0.5)",E={padding:"0.5rem",backgroundColor:A},y={padding:"2px 4px",backgroundColor:A},N=null;return console.error("Error handled by React Router default ErrorBoundary:",h),N=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:y},"ErrorBoundary")," or"," ",Z.createElement("code",{style:y},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},x),d?Z.createElement("pre",{style:E},d):null,N)}var ag=Z.createElement(ig,null),rg=class extends Z.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,x){return x.location!==h.location||x.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:x.error,location:x.location,revalidation:h.revalidation||x.revalidation}}componentDidCatch(h,x){console.error("React Router caught the following error during render",h,x)}render(){return this.state.error!==void 0?Z.createElement(Qi.Provider,{value:this.props.routeContext},Z.createElement(af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lg({routeContext:h,match:x,children:d}){let A=Z.useContext(Ml);return A&&A.static&&A.staticContext&&(x.route.errorElement||x.route.ErrorBoundary)&&(A.staticContext._deepestRenderedBoundaryId=x.route.id),Z.createElement(Qi.Provider,{value:h},d)}function sg(h,x=[],d=null,A=null){if(h==null){if(!d)return null;if(d.errors)h=d.matches;else if(x.length===0&&!d.initialized&&d.matches.length>0)h=d.matches;else return null}let E=h,y=d==null?void 0:d.errors;if(y!=null){let O=E.findIndex(w=>w.route.id&&(y==null?void 0:y[w.route.id])!==void 0);Kt(O>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),E=E.slice(0,Math.min(E.length,O+1))}let N=!1,B=-1;if(d)for(let O=0;O<E.length;O++){let w=E[O];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(B=O),w.route.id){let{loaderData:L,errors:k}=d,J=w.route.loader&&!L.hasOwnProperty(w.route.id)&&(!k||k[w.route.id]===void 0);if(w.route.lazy||J){N=!0,B>=0?E=E.slice(0,B+1):E=[E[0]];break}}}return E.reduceRight((O,w,L)=>{let k,J=!1,ne=null,ae=null;d&&(k=y&&w.route.id?y[w.route.id]:void 0,ne=w.route.errorElement||ag,N&&(B<0&&L===0?(Fh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),J=!0,ae=null):B===L&&(J=!0,ae=w.route.hydrateFallbackElement||null)));let fe=x.concat(E.slice(0,L+1)),$=()=>{let ce;return k?ce=ne:J?ce=ae:w.route.Component?ce=Z.createElement(w.route.Component,null):w.route.element?ce=w.route.element:ce=O,Z.createElement(lg,{match:w,routeContext:{outlet:O,matches:fe,isDataRoute:d!=null},children:ce})};return d&&(w.route.ErrorBoundary||w.route.errorElement||L===0)?Z.createElement(rg,{location:d.location,revalidation:d.revalidation,component:ne,error:k,children:$(),routeContext:{outlet:null,matches:fe,isDataRoute:!0}}):$()},null)}function rf(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function og(h){let x=Z.useContext(Ml);return Kt(x,rf(h)),x}function ug(h){let x=Z.useContext(Yo);return Kt(x,rf(h)),x}function cg(h){let x=Z.useContext(Qi);return Kt(x,rf(h)),x}function lf(h){let x=cg(h),d=x.matches[x.matches.length-1];return Kt(d.route.id,`${h} can only be used on routes that contain a unique "id"`),d.route.id}function fg(){return lf("useRouteId")}function hg(){var A;let h=Z.useContext(af),x=ug("useRouteError"),d=lf("useRouteError");return h!==void 0?h:(A=x.errors)==null?void 0:A[d]}function dg(){let{router:h}=og("useNavigate"),x=lf("useNavigate"),d=Z.useRef(!1);return kh(()=>{d.current=!0}),Z.useCallback(async(E,y={})=>{Mi(d.current,Uh),d.current&&(typeof E=="number"?h.navigate(E):await h.navigate(E,{fromRouteId:x,...y}))},[h,x])}var ch={};function Fh(h,x,d){!x&&!ch[h]&&(ch[h]=!0,Mi(!1,d))}Z.memo(gg);function gg({routes:h,future:x,state:d}){return zh(h,void 0,d,x)}function vi(h){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xg({basename:h="/",children:x=null,location:d,navigationType:A="POP",navigator:E,static:y=!1}){Kt(!Is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let N=h.replace(/^\/*/,"/"),B=Z.useMemo(()=>({basename:N,navigator:E,static:y,future:{}}),[N,E,y]);typeof d=="string"&&(d=Vr(d));let{pathname:O="/",search:w="",hash:L="",state:k=null,key:J="default"}=d,ne=Z.useMemo(()=>{let ae=wa(O,N);return ae==null?null:{location:{pathname:ae,search:w,hash:L,state:k,key:J},navigationType:A}},[N,O,w,L,k,J,A]);return Mi(ne!=null,`<Router basename="${N}"> is not able to match the URL "${O}${w}${L}" because it does not start with the basename, so the <Router> won't render anything.`),ne==null?null:Z.createElement(Zi.Provider,{value:B},Z.createElement(Ms.Provider,{children:x,value:ne}))}function mg({children:h,location:x}){return ng($c(h),x)}function $c(h,x=[]){let d=[];return Z.Children.forEach(h,(A,E)=>{if(!Z.isValidElement(A))return;let y=[...x,E];if(A.type===Z.Fragment){d.push.apply(d,$c(A.props.children,y));return}Kt(A.type===vi,`[${typeof A.type=="string"?A.type:A.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!A.props.index||!A.props.children,"An index route cannot have child routes.");let N={id:A.props.id||y.join("-"),caseSensitive:A.props.caseSensitive,element:A.props.element,Component:A.props.Component,index:A.props.index,path:A.props.path,loader:A.props.loader,action:A.props.action,hydrateFallbackElement:A.props.hydrateFallbackElement,HydrateFallback:A.props.HydrateFallback,errorElement:A.props.errorElement,ErrorBoundary:A.props.ErrorBoundary,hasErrorBoundary:A.props.hasErrorBoundary===!0||A.props.ErrorBoundary!=null||A.props.errorElement!=null,shouldRevalidate:A.props.shouldRevalidate,handle:A.props.handle,lazy:A.props.lazy};A.props.children&&(N.children=$c(A.props.children,y)),d.push(N)}),d}var Fo="get",Po="application/x-www-form-urlencoded";function Go(h){return h!=null&&typeof h.tagName=="string"}function pg(h){return Go(h)&&h.tagName.toLowerCase()==="button"}function Ag(h){return Go(h)&&h.tagName.toLowerCase()==="form"}function yg(h){return Go(h)&&h.tagName.toLowerCase()==="input"}function Eg(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function wg(h,x){return h.button===0&&(!x||x==="_self")&&!Eg(h)}var ko=null;function Cg(){if(ko===null)try{new FormData(document.createElement("form"),0),ko=!1}catch{ko=!0}return ko}var Sg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wc(h){return h!=null&&!Sg.has(h)?(Mi(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):h}function bg(h,x){let d,A,E,y,N;if(Ag(h)){let B=h.getAttribute("action");A=B?wa(B,x):null,d=h.getAttribute("method")||Fo,E=Wc(h.getAttribute("enctype"))||Po,y=new FormData(h)}else if(pg(h)||yg(h)&&(h.type==="submit"||h.type==="image")){let B=h.form;if(B==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let O=h.getAttribute("formaction")||B.getAttribute("action");if(A=O?wa(O,x):null,d=h.getAttribute("formmethod")||B.getAttribute("method")||Fo,E=Wc(h.getAttribute("formenctype"))||Wc(B.getAttribute("enctype"))||Po,y=new FormData(B,h),!Cg()){let{name:w,type:L,value:k}=h;if(L==="image"){let J=w?`${w}.`:"";y.append(`${J}x`,"0"),y.append(`${J}y`,"0")}else w&&y.append(w,k)}}else{if(Go(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=Fo,A=null,E=Po,N=h}return y&&E==="text/plain"&&(N=y,y=void 0),{action:A,method:d.toLowerCase(),encType:E,formData:y,body:N}}function sf(h,x){if(h===!1||h===null||typeof h>"u")throw new Error(x)}async function Tg(h,x){if(h.id in x)return x[h.id];try{let d=await import(h.module);return x[h.id]=d,d}catch(d){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vg(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function Ng(h,x,d){let A=await Promise.all(h.map(async E=>{let y=x.routes[E.route.id];if(y){let N=await Tg(y,d);return N.links?N.links():[]}return[]}));return Rg(A.flat(1).filter(vg).filter(E=>E.rel==="stylesheet"||E.rel==="preload").map(E=>E.rel==="stylesheet"?{...E,rel:"prefetch",as:"style"}:{...E,rel:"prefetch"}))}function fh(h,x,d,A,E,y){let N=(O,w)=>d[w]?O.route.id!==d[w].route.id:!0,B=(O,w)=>{var L;return d[w].pathname!==O.pathname||((L=d[w].route.path)==null?void 0:L.endsWith("*"))&&d[w].params["*"]!==O.params["*"]};return y==="assets"?x.filter((O,w)=>N(O,w)||B(O,w)):y==="data"?x.filter((O,w)=>{var k;let L=A.routes[O.route.id];if(!L||!L.hasLoader)return!1;if(N(O,w)||B(O,w))return!0;if(O.route.shouldRevalidate){let J=O.route.shouldRevalidate({currentUrl:new URL(E.pathname+E.search+E.hash,window.origin),currentParams:((k=d[0])==null?void 0:k.params)||{},nextUrl:new URL(h,window.origin),nextParams:O.params,defaultShouldRevalidate:!0});if(typeof J=="boolean")return J}return!0}):[]}function Mg(h,x,{includeHydrateFallback:d}={}){return Ig(h.map(A=>{let E=x.routes[A.route.id];if(!E)return[];let y=[E.module];return E.clientActionModule&&(y=y.concat(E.clientActionModule)),E.clientLoaderModule&&(y=y.concat(E.clientLoaderModule)),d&&E.hydrateFallbackModule&&(y=y.concat(E.hydrateFallbackModule)),E.imports&&(y=y.concat(E.imports)),y}).flat(1))}function Ig(h){return[...new Set(h)]}function Og(h){let x={},d=Object.keys(h).sort();for(let A of d)x[A]=h[A];return x}function Rg(h,x){let d=new Set;return new Set(x),h.reduce((A,E)=>{let y=JSON.stringify(Og(E));return d.has(y)||(d.add(y),A.push({key:y,link:E})),A},[])}function _g(h,x){let d=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return d.pathname==="/"?d.pathname="_root.data":x&&wa(d.pathname,x)==="/"?d.pathname=`${x.replace(/\/$/,"")}/_root.data`:d.pathname=`${d.pathname.replace(/\/$/,"")}.data`,d}function Ph(){let h=Z.useContext(Ml);return sf(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function Dg(){let h=Z.useContext(Yo);return sf(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var of=Z.createContext(void 0);of.displayName="FrameworkContext";function Hh(){let h=Z.useContext(of);return sf(h,"You must render this element inside a <HydratedRouter> element"),h}function Bg(h,x){let d=Z.useContext(of),[A,E]=Z.useState(!1),[y,N]=Z.useState(!1),{onFocus:B,onBlur:O,onMouseEnter:w,onMouseLeave:L,onTouchStart:k}=x,J=Z.useRef(null);Z.useEffect(()=>{if(h==="render"&&N(!0),h==="viewport"){let fe=ce=>{ce.forEach(we=>{N(we.isIntersecting)})},$=new IntersectionObserver(fe,{threshold:.5});return J.current&&$.observe(J.current),()=>{$.disconnect()}}},[h]),Z.useEffect(()=>{if(A){let fe=setTimeout(()=>{N(!0)},100);return()=>{clearTimeout(fe)}}},[A]);let ne=()=>{E(!0)},ae=()=>{E(!1),N(!1)};return d?h!=="intent"?[y,J,{}]:[y,J,{onFocus:Ts(B,ne),onBlur:Ts(O,ae),onMouseEnter:Ts(w,ne),onMouseLeave:Ts(L,ae),onTouchStart:Ts(k,ne)}]:[!1,J,{}]}function Ts(h,x){return d=>{h&&h(d),d.defaultPrevented||x(d)}}function Lg({page:h,...x}){let{router:d}=Ph(),A=Z.useMemo(()=>Ih(d.routes,h,d.basename),[d.routes,h,d.basename]);return A?Z.createElement(kg,{page:h,matches:A,...x}):null}function Ug(h){let{manifest:x,routeModules:d}=Hh(),[A,E]=Z.useState([]);return Z.useEffect(()=>{let y=!1;return Ng(h,x,d).then(N=>{y||E(N)}),()=>{y=!0}},[h,x,d]),A}function kg({page:h,matches:x,...d}){let A=fr(),{manifest:E,routeModules:y}=Hh(),{basename:N}=Ph(),{loaderData:B,matches:O}=Dg(),w=Z.useMemo(()=>fh(h,x,O,E,A,"data"),[h,x,O,E,A]),L=Z.useMemo(()=>fh(h,x,O,E,A,"assets"),[h,x,O,E,A]),k=Z.useMemo(()=>{if(h===A.pathname+A.search+A.hash)return[];let ae=new Set,fe=!1;if(x.forEach(ce=>{var oe;let we=E.routes[ce.route.id];!we||!we.hasLoader||(!w.some(Ie=>Ie.route.id===ce.route.id)&&ce.route.id in B&&((oe=y[ce.route.id])!=null&&oe.shouldRevalidate)||we.hasClientLoader?fe=!0:ae.add(ce.route.id))}),ae.size===0)return[];let $=_g(h,N);return fe&&ae.size>0&&$.searchParams.set("_routes",x.filter(ce=>ae.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[$.pathname+$.search]},[N,B,A,E,w,x,h,y]),J=Z.useMemo(()=>Mg(L,E),[L,E]),ne=Ug(L);return Z.createElement(Z.Fragment,null,k.map(ae=>Z.createElement("link",{key:ae,rel:"prefetch",as:"fetch",href:ae,...d})),J.map(ae=>Z.createElement("link",{key:ae,rel:"modulepreload",href:ae,...d})),ne.map(({key:ae,link:fe})=>Z.createElement("link",{key:ae,...fe})))}function zg(...h){return x=>{h.forEach(d=>{typeof d=="function"?d(x):d!=null&&(d.current=x)})}}var jh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jh&&(window.__reactRouterVersion="7.4.0")}catch{}function Fg({basename:h,children:x,window:d}){let A=Z.useRef();A.current==null&&(A.current=M2({window:d,v5Compat:!0}));let E=A.current,[y,N]=Z.useState({action:E.action,location:E.location}),B=Z.useCallback(O=>{Z.startTransition(()=>N(O))},[N]);return Z.useLayoutEffect(()=>E.listen(B),[E,B]),Z.createElement(xg,{basename:h,children:x,location:y.location,navigationType:y.action,navigator:E})}var Vh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yh=Z.forwardRef(function({onClick:x,discover:d="render",prefetch:A="none",relative:E,reloadDocument:y,replace:N,state:B,target:O,to:w,preventScrollReset:L,viewTransition:k,...J},ne){let{basename:ae}=Z.useContext(Zi),fe=typeof w=="string"&&Vh.test(w),$,ce=!1;if(typeof w=="string"&&fe&&($=w,jh))try{let X=new URL(window.location.href),qe=w.startsWith("//")?new URL(X.protocol+w):new URL(w),Et=wa(qe.pathname,ae);qe.origin===X.origin&&Et!=null?w=Et+qe.search+qe.hash:ce=!0}catch{Mi(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let we=eg(w,{relative:E}),[oe,Ie,Le]=Bg(A,J),je=Vg(w,{replace:N,state:B,target:O,preventScrollReset:L,relative:E,viewTransition:k});function me(X){x&&x(X),X.defaultPrevented||je(X)}let Ze=Z.createElement("a",{...J,...Le,href:$||we,onClick:ce||y?x:me,ref:zg(ne,Ie),target:O,"data-discover":!fe&&d==="render"?"true":void 0});return oe&&!fe?Z.createElement(Z.Fragment,null,Ze,Z.createElement(Lg,{page:we})):Ze});Yh.displayName="Link";var Pg=Z.forwardRef(function({"aria-current":x="page",caseSensitive:d=!1,className:A="",end:E=!1,style:y,to:N,viewTransition:B,children:O,...w},L){let k=Os(N,{relative:w.relative}),J=fr(),ne=Z.useContext(Yo),{navigator:ae,basename:fe}=Z.useContext(Zi),$=ne!=null&&Zg(k)&&B===!0,ce=ae.encodeLocation?ae.encodeLocation(k).pathname:k.pathname,we=J.pathname,oe=ne&&ne.navigation&&ne.navigation.location?ne.navigation.location.pathname:null;d||(we=we.toLowerCase(),oe=oe?oe.toLowerCase():null,ce=ce.toLowerCase()),oe&&fe&&(oe=wa(oe,fe)||oe);const Ie=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let Le=we===ce||!E&&we.startsWith(ce)&&we.charAt(Ie)==="/",je=oe!=null&&(oe===ce||!E&&oe.startsWith(ce)&&oe.charAt(ce.length)==="/"),me={isActive:Le,isPending:je,isTransitioning:$},Ze=Le?x:void 0,X;typeof A=="function"?X=A(me):X=[A,Le?"active":null,je?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let qe=typeof y=="function"?y(me):y;return Z.createElement(Yh,{...w,"aria-current":Ze,className:X,ref:L,style:qe,to:N,viewTransition:B},typeof O=="function"?O(me):O)});Pg.displayName="NavLink";var Hg=Z.forwardRef(({discover:h="render",fetcherKey:x,navigate:d,reloadDocument:A,replace:E,state:y,method:N=Fo,action:B,onSubmit:O,relative:w,preventScrollReset:L,viewTransition:k,...J},ne)=>{let ae=Xg(),fe=qg(B,{relative:w}),$=N.toLowerCase()==="get"?"get":"post",ce=typeof B=="string"&&Vh.test(B),we=oe=>{if(O&&O(oe),oe.defaultPrevented)return;oe.preventDefault();let Ie=oe.nativeEvent.submitter,Le=(Ie==null?void 0:Ie.getAttribute("formmethod"))||N;ae(Ie||oe.currentTarget,{fetcherKey:x,method:Le,navigate:d,replace:E,state:y,relative:w,preventScrollReset:L,viewTransition:k})};return Z.createElement("form",{ref:ne,method:$,action:fe,onSubmit:A?O:we,...J,"data-discover":!ce&&h==="render"?"true":void 0})});Hg.displayName="Form";function jg(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gh(h){let x=Z.useContext(Ml);return Kt(x,jg(h)),x}function Vg(h,{target:x,replace:d,state:A,preventScrollReset:E,relative:y,viewTransition:N}={}){let B=Ca(),O=fr(),w=Os(h,{relative:y});return Z.useCallback(L=>{if(wg(L,x)){L.preventDefault();let k=d!==void 0?d:Ns(O)===Ns(w);B(h,{replace:k,state:A,preventScrollReset:E,relative:y,viewTransition:N})}},[O,B,w,d,A,x,h,E,y,N])}var Yg=0,Gg=()=>`__${String(++Yg)}__`;function Xg(){let{router:h}=Gh("useSubmit"),{basename:x}=Z.useContext(Zi),d=fg();return Z.useCallback(async(A,E={})=>{let{action:y,method:N,encType:B,formData:O,body:w}=bg(A,x);if(E.navigate===!1){let L=E.fetcherKey||Gg();await h.fetch(L,d,E.action||y,{preventScrollReset:E.preventScrollReset,formData:O,body:w,formMethod:E.method||N,formEncType:E.encType||B,flushSync:E.flushSync})}else await h.navigate(E.action||y,{preventScrollReset:E.preventScrollReset,formData:O,body:w,formMethod:E.method||N,formEncType:E.encType||B,replace:E.replace,state:E.state,fromRouteId:d,flushSync:E.flushSync,viewTransition:E.viewTransition})},[h,x,d])}function qg(h,{relative:x}={}){let{basename:d}=Z.useContext(Zi),A=Z.useContext(Qi);Kt(A,"useFormAction must be used inside a RouteContext");let[E]=A.matches.slice(-1),y={...Os(h||".",{relative:x})},N=fr();if(h==null){y.search=N.search;let B=new URLSearchParams(y.search),O=B.getAll("index");if(O.some(L=>L==="")){B.delete("index"),O.filter(k=>k).forEach(k=>B.append("index",k));let L=B.toString();y.search=L?`?${L}`:""}}return(!h||h===".")&&E.route.index&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(y.pathname=y.pathname==="/"?d:Ea([d,y.pathname])),Ns(y)}function Zg(h,x={}){let d=Z.useContext(Lh);Kt(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:A}=Gh("useViewTransitionState"),E=Os(h,{relative:x.relative});if(!d.isTransitioning)return!1;let y=wa(d.currentLocation.pathname,A)||d.currentLocation.pathname,N=wa(d.nextLocation.pathname,A)||d.nextLocation.pathname;return Ho(E.pathname,N)!=null||Ho(E.pathname,y)!=null}new TextEncoder;function Qg(){const h=()=>window.innerWidth>window.innerHeight?"landscape":"portrait",[x,d]=Z.useState(h());return Z.useEffect(()=>{const A=()=>d(h());return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),x}const Wg="modulepreload",Kg=function(h){return"/04-WebApp-Prehistoria/"+h},hh={},Xo=function(x,d,A){let E=Promise.resolve();if(d&&d.length>0){document.getElementsByTagName("link");const N=document.querySelector("meta[property=csp-nonce]"),B=(N==null?void 0:N.nonce)||(N==null?void 0:N.getAttribute("nonce"));E=Promise.allSettled(d.map(O=>{if(O=Kg(O),O in hh)return;hh[O]=!0;const w=O.endsWith(".css"),L=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${O}"]${L}`))return;const k=document.createElement("link");if(k.rel=w?"stylesheet":Wg,w||(k.as="script"),k.crossOrigin="",k.href=O,B&&k.setAttribute("nonce",B),document.head.appendChild(k),w)return new Promise((J,ne)=>{k.addEventListener("load",J),k.addEventListener("error",()=>ne(new Error(`Unable to preload CSS for ${O}`)))})}))}function y(N){const B=new Event("vite:preloadError",{cancelable:!0});if(B.payload=N,window.dispatchEvent(B),!B.defaultPrevented)throw N}return E.then(N=>{for(const B of N||[])B.status==="rejected"&&y(B.reason);return x().catch(y)})},Xi={MODOJUEGO:"/",PORTADA:"/portada",FORM:"/form",MAPA:"/mapa",ENTREACTIVIDADES:"/entre-actividad",ESCANERQR:"/escanerQR",ACTIVIDAD:"/actividad/:id",FINAL:"/final",VITRINA:"/vitrina",VITRINA_VIRTUAL:"/vitrina-virtual"};function Jg(){const h=Ca(),x=d=>{(d==="solo"||d==="grupos")&&h("/portada")};return ee.jsxs("div",{className:"modojuego-container",children:[ee.jsx("h1",{className:"titulo",children:"Elige tu estilo de juego"}),ee.jsx("p",{className:"subtitulo",children:"¿Exploras solo o acompañado?"}),ee.jsxs("div",{className:"opciones",children:[ee.jsx("button",{className:"btn-opcion",id:"solo",onClick:()=>x("solo"),style:{backgroundImage:"url(/04-WebApp-Prehistoria/assets/images/solo.jpg)"},children:ee.jsx("span",{children:"Modo solitario"})}),ee.jsx("button",{className:"btn-opcion",id:"grupo",onClick:()=>x("grupos"),style:{backgroundImage:"url(/04-WebApp-Prehistoria/assets/images/grupo.jpg)"},children:ee.jsx("span",{children:"Modo equipo"})})]})]})}function $g(){const h=Ca(),x=Z.useRef(null);Z.useEffect(()=>(x.current||(x.current=new Audio("/04-WebApp-Prehistoria/sounds/vozportada.wav"),x.current.volume=.5),(async()=>{try{await x.current.play()}catch{console.warn("El navegador bloqueó el autoplay. Se necesita interacción del usuario.")}})(),()=>{x.current&&(x.current.pause(),x.current.currentTime=0)}),[]);const d=()=>{h("/form")};return ee.jsx("div",{className:"portada-container",children:ee.jsxs("div",{className:"contenido",children:[ee.jsx("h1",{className:"titulo",children:"Aventura Prehistórica"}),ee.jsx("p",{className:"subtitulo",children:"¡Bienvenido a la Aventura Prehistórica! Acabas de embarcarte en un viaje en el tiempo donde descubrirás los secretos mejor guardados de la historia de la humanidad y de la Tierra. Guiado por tu fiel compañero o compañera (¡tú eliges!), recorrerás 10 lugares sagrados, fósiles milenarios, civilizaciones ancestrales y monumentos asombrosos. En cada parada encontrarás un código QR que activará una misión: una actividad interactiva que te hará pensar, aprender y superar retos. ¿Estás preparado para convertirte en un auténtico explorador del tiempo? 🧭 ¡Tu aventura comienza ya!"}),ee.jsx("button",{className:"btn-aventura",onClick:d,children:"Empezar Aventura"})]})})}function ex(h){return/^[a-zA-ZáéíóúÁÉÍÓÚñÑ0-9\s]{2,20}$/.test(h)}function om(h){return["explorador","exploradora"].includes(h)}function tx(h){return h==="Kushim"?"explorador":"exploradora"}function nx(){const[h,x]=Z.useState(""),[d,A]=Z.useState(""),[E,y]=Z.useState(0),N=Ca(),B=Z.useRef(null),O=Z.useRef(null),w=Z.useRef(null),L=Z.useRef(null),k={Kushim:"/04-WebApp-Prehistoria/assets/avatars/explorador.png",Enheduanna:"/04-WebApp-Prehistoria/assets/avatars/exploradora.png"},J=["/04-WebApp-Prehistoria/assets/form-fondo/fondo1.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo2.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo3.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo4.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo5.png","/04-WebApp-Prehistoria/assets/form-fondo/fondo6.png"];Z.useEffect(()=>{const $=setInterval(()=>{y(ce=>(ce+1)%J.length)},5e3);return()=>clearInterval($)},[]),Z.useEffect(()=>(O.current=new Audio("/04-WebApp-Prehistoria/sounds/dino.mp3"),O.current.volume=.5,(async()=>{try{await O.current.play()}catch{console.warn(" Autoplay bloqueado para dino.mp3")}})(),()=>{O.current.pause(),O.current.currentTime=0}),[]),Z.useEffect(()=>{B.current=new Audio("/04-WebApp-Prehistoria/sounds/welcome.mp3"),w.current=new Audio("/04-WebApp-Prehistoria/sounds/exploradora.wav"),L.current=new Audio("/04-WebApp-Prehistoria/sounds/explorador.wav")},[]);const ne=$=>x($.target.value),ae=$=>{const ce=$.target.value;A(ce),ce==="Kushim"?(w.current.currentTime=0,L.current.currentTime=100,w.current.play().catch(()=>console.warn("El navegador bloqueó el autoplay del sonido exploradora."))):ce==="Enheduanna"&&(L.current.currentTime=0,w.current.currentTime=100,L.current.play().catch(()=>console.warn("El navegador bloqueó el autoplay del sonido explorador.")))},fe=$=>{if($.preventDefault(),!ex(h)){alert("El nombre solo puede contener letras, números y espacios.");return}if(!h||!d){alert("Por favor, escribe tu nombre y elige un avatar.");return}B.current.currentTime=0,B.current.play(),localStorage.setItem("nombre",h),localStorage.setItem("avatar",tx(d)),N("/mapa")};return ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"fondo-cambiante",style:{backgroundImage:`url(${J[E]})`,backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,transition:"background-image 1s ease-in-out"}}),ee.jsxs("form",{className:"form",onSubmit:fe,children:[ee.jsxs("fieldset",{children:[ee.jsx("label",{htmlFor:"name",children:"Nombre de explorador/a:"}),ee.jsx("input",{type:"text",id:"name",value:h,onChange:ne,maxLength:"20",required:!0,placeholder:"Escribe tu nombre...",autoFocus:!0})]}),ee.jsxs("fieldset",{children:[ee.jsx("label",{children:"Elige a tu guía:"}),ee.jsx("div",{className:"avatar-options",children:Object.keys(k).map($=>ee.jsxs("label",{children:[ee.jsx("input",{type:"radio",name:"avatar",value:$,checked:d===$,onChange:ae,className:"hidden"}),ee.jsx("img",{src:k[$],alt:$,className:`avatar-img ${d===$?"selected":""}`}),ee.jsx("p",{className:"text-img",children:$.charAt(0).toUpperCase()+$.slice(1)})]},$))})]}),ee.jsx("button",{type:"submit",children:"Empezar Aventura"})]})]})}const ix={explorador:"/04-WebApp-Prehistoria/assets/avatars/explorador.png",exploradora:"/04-WebApp-Prehistoria/assets/avatars/exploradora.png"},Kc={explorador:"Kushim",exploradora:"Enheduanna"};function ax(){const h=Ca(),[x,d]=Z.useState(""),[A,E]=Z.useState("");return Z.useEffect(()=>{const y=localStorage.getItem("nombre"),N=localStorage.getItem("avatar");if(console.log("nombreGuardado:",y),console.log("avatarGuardado",N),!y||!N){h("/");return}d(y),E(N)},[]),ee.jsxs("div",{className:"mapa-container",children:[ee.jsxs("div",{className:"saludo",children:[ee.jsxs("h2",{children:["¡Saludos ",x,"!"]}),ee.jsxs("div",{className:"guia",children:[ee.jsx("img",{src:ix[A],alt:A,className:"avatar-mini"}),ee.jsxs("p",{children:["Yo ser guía ",ee.jsx("strong",{children:Kc[A]}),". Tú seguir ",ee.jsx("strong",{children:Kc[A]}),". ",ee.jsx("br",{}),ee.jsx("br",{}),ee.jsx("strong",{children:x})," tener prendas raras. ",ee.jsx("br",{})," ",ee.jsx("br",{}),"¿",ee.jsx("strong",{children:x})," no ser de aquí?",ee.jsx("br",{})," ",ee.jsx("br",{}),"No importar,",ee.jsx("br",{}),ee.jsx("br",{})," ¡",ee.jsx("strong",{children:x})," y ",ee.jsx("strong",{children:Kc[A]})," explorar tierras!"]})]}),ee.jsx("p",{children:"Escanea un código QR o selecciona una actividad para comenzar."}),ee.jsx("button",{className:"qr-button",onClick:()=>h("/EscanerQR"),children:"📷 Escanear Código QR"})]}),ee.jsx("div",{className:"fondo"})]})}var Me;(function(h){h[h.QR_CODE=0]="QR_CODE",h[h.AZTEC=1]="AZTEC",h[h.CODABAR=2]="CODABAR",h[h.CODE_39=3]="CODE_39",h[h.CODE_93=4]="CODE_93",h[h.CODE_128=5]="CODE_128",h[h.DATA_MATRIX=6]="DATA_MATRIX",h[h.MAXICODE=7]="MAXICODE",h[h.ITF=8]="ITF",h[h.EAN_13=9]="EAN_13",h[h.EAN_8=10]="EAN_8",h[h.PDF_417=11]="PDF_417",h[h.RSS_14=12]="RSS_14",h[h.RSS_EXPANDED=13]="RSS_EXPANDED",h[h.UPC_A=14]="UPC_A",h[h.UPC_E=15]="UPC_E",h[h.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Me||(Me={}));var dh=new Map([[Me.QR_CODE,"QR_CODE"],[Me.AZTEC,"AZTEC"],[Me.CODABAR,"CODABAR"],[Me.CODE_39,"CODE_39"],[Me.CODE_93,"CODE_93"],[Me.CODE_128,"CODE_128"],[Me.DATA_MATRIX,"DATA_MATRIX"],[Me.MAXICODE,"MAXICODE"],[Me.ITF,"ITF"],[Me.EAN_13,"EAN_13"],[Me.EAN_8,"EAN_8"],[Me.PDF_417,"PDF_417"],[Me.RSS_14,"RSS_14"],[Me.RSS_EXPANDED,"RSS_EXPANDED"],[Me.UPC_A,"UPC_A"],[Me.UPC_E,"UPC_E"],[Me.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),gh;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.URL=1]="URL"})(gh||(gh={}));function rx(h){return Object.values(Me).includes(h)}var cr;(function(h){h[h.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",h[h.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cr||(cr={}));var Ni=function(){function h(){}return h.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",h.SCAN_DEFAULT_FPS=2,h.DEFAULT_DISABLE_FLIP=!1,h.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,h.DEFAULT_SUPPORTED_SCAN_TYPE=[cr.SCAN_TYPE_CAMERA,cr.SCAN_TYPE_FILE],h}(),Xh=function(){function h(x,d){this.format=x,this.formatName=d}return h.prototype.toString=function(){return this.formatName},h.create=function(x){if(!dh.has(x))throw"".concat(x," not in html5QrcodeSupportedFormatsTextMap");return new h(x,dh.get(x))},h}(),xh=function(){function h(){}return h.createFromText=function(x){var d={text:x};return{decodedText:x,result:d}},h.createFromQrcodeResult=function(x){return{decodedText:x.text,result:x}},h}(),ef;(function(h){h[h.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",h[h.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",h[h.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ef||(ef={}));var qh=function(){function h(){}return h.createFrom=function(x){return{errorMessage:x,type:ef.UNKWOWN_ERROR}},h}(),Zh=function(){function h(x){this.verbose=x}return h.prototype.log=function(x){this.verbose&&console.log(x)},h.prototype.warn=function(x){this.verbose&&console.warn(x)},h.prototype.logError=function(x,d){(this.verbose||d===!0)&&console.error(x)},h.prototype.logErrors=function(x){if(x.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(x)},h}();function qi(h){return typeof h>"u"||h===null}function lx(h,x,d){return h>d?d:h<x?x:h}var Nl=function(){function h(){}return h.codeParseError=function(x){return"QR code parse error, error = ".concat(x)},h.errorGettingUserMedia=function(x){return"Error getting userMedia, error = ".concat(x)},h.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},h.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},h.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},h.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},h.scannerPaused=function(){return"Scanner paused"},h}(),Rt=function(){function h(){}return h.scanningStatus=function(){return"Scanning"},h.idleStatus=function(){return"Idle"},h.errorStatus=function(){return"Error"},h.permissionStatus=function(){return"Permission"},h.noCameraFoundErrorStatus=function(){return"No Cameras"},h.lastMatch=function(x){return"Last Match: ".concat(x)},h.codeScannerTitle=function(){return"Code Scanner"},h.cameraPermissionTitle=function(){return"Request Camera Permissions"},h.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},h.noCameraFound=function(){return"No camera found"},h.scanButtonStopScanningText=function(){return"Stop Scanning"},h.scanButtonStartScanningText=function(){return"Start Scanning"},h.torchOnButton=function(){return"Switch On Torch"},h.torchOffButton=function(){return"Switch Off Torch"},h.torchOnFailedMessage=function(){return"Failed to turn on torch"},h.torchOffFailedMessage=function(){return"Failed to turn off torch"},h.scanButtonScanningStarting=function(){return"Launching Camera..."},h.textIfCameraScanSelected=function(){return"Scan an Image File"},h.textIfFileScanSelected=function(){return"Scan using camera directly"},h.selectCamera=function(){return"Select Camera"},h.fileSelectionChooseImage=function(){return"Choose Image"},h.fileSelectionChooseAnother=function(){return"Choose Another"},h.fileSelectionNoImageSelected=function(){return"No image choosen"},h.anonymousCameraPrefix=function(){return"Anonymous Camera"},h.dragAndDropMessage=function(){return"Or drop an image to scan"},h.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},h.zoom=function(){return"zoom"},h.loadingImage=function(){return"Loading image..."},h.cameraScanAltText=function(){return"Camera based scan"},h.fileScanAltText=function(){return"Fule based scan"},h}(),mh=function(){function h(){}return h.poweredBy=function(){return"Powered by "},h.reportIssues=function(){return"Report issues"},h}(),Qh=function(){function h(){}return h.isMediaStreamConstraintsValid=function(x,d){if(typeof x!="object"){var A=typeof x;return d.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(A,"."),!0),!1}for(var E=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],y=new Set(E),N=Object.keys(x),B=0,O=N;B<O.length;B++){var w=O[B];if(y.has(w))return d.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},h}(),vs={exports:{}},sx=vs.exports,ph;function ox(){return ph||(ph=1,function(h,x){(function(d,A){A(x)})(sx,function(d){function A(b){return b==null}var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,t){b.__proto__=t}||function(b,t){for(var i in t)t.hasOwnProperty(i)&&(b[i]=t[i])};function y(b,t){E(b,t);function i(){this.constructor=b}b.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function N(b,t){var i=Object.setPrototypeOf;i?i(b,t):b.__proto__=t}function B(b,t){t===void 0&&(t=b.constructor);var i=Error.captureStackTrace;i&&i(b,t)}var O=function(b){y(t,b);function t(i){var a=this.constructor,l=b.call(this,i)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),N(l,a.prototype),B(l),l}return t}(Error);class w extends O{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}w.kind="Exception";class L extends w{}L.kind="ArgumentException";class k extends w{}k.kind="IllegalArgumentException";class J{constructor(t){if(this.binarizer=t,t===null)throw new k("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,a,l){const s=this.binarizer.getLuminanceSource().crop(t,i,a,l);return new J(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new J(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new J(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ne extends w{static getChecksumInstance(){return new ne}}ne.kind="ChecksumException";class ae{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class fe{static arraycopy(t,i,a,l,s){for(;s--;)a[l++]=t[i++]}static currentTimeMillis(){return Date.now()}}class $ extends w{}$.kind="IndexOutOfBoundsException";class ce extends ${constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}ce.kind="ArrayIndexOutOfBoundsException";class we{static fill(t,i){for(let a=0,l=t.length;a<l;a++)t[a]=i}static fillWithin(t,i,a,l){we.rangeCheck(t.length,i,a);for(let s=i;s<a;s++)t[s]=l}static rangeCheck(t,i,a){if(i>a)throw new k("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new ce(i);if(a>t)throw new ce(a)}static asList(...t){return t}static create(t,i,a){return Array.from({length:t}).map(s=>Array.from({length:i}).fill(a))}static createInt32Array(t,i,a){return Array.from({length:t}).map(s=>Int32Array.from({length:i}).fill(a))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let a=0,l=t.length;a<l;a++)if(t[a]!==i[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const a of t)i=31*i+a;return i}static fillUint8Array(t,i){for(let a=0;a!==t.length;a++)t[a]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const a=new Uint8Array(i);return a.set(t),a}return t.slice(0,i)}static copyOfRange(t,i,a){const l=a-i,s=new Int32Array(l);return fe.arraycopy(t,i,s,0,l),s}static binarySearch(t,i,a){a===void 0&&(a=we.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const u=s+l>>1,c=a(i,t[u]);if(c>0)l=u+1;else if(c<0)s=u-1;else return u}return-l-1}static numberComparator(t,i){return t-i}}class oe{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let a=31;return i=t<<16,i!==0&&(a-=16,t=i),i=t<<8,i!==0&&(a-=8,t=i),i=t<<4,i!==0&&(a-=4,t=i),i=t<<2,i!==0&&(a-=2,t=i),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}oe.MIN_VALUE_32_BITS=-2147483648,oe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ie{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=Ie.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=Ie.makeArray(t);fe.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const a=this.bits;let l=Math.floor(t/32),s=a[l];s&=~((1<<(t&31))-1);const u=a.length;for(;s===0;){if(++l===u)return i;s=a[l]}const c=l*32+oe.numberOfTrailingZeros(s);return c>i?i:c}getNextUnset(t){const i=this.size;if(t>=i)return i;const a=this.bits;let l=Math.floor(t/32),s=~a[l];s&=~((1<<(t&31))-1);const u=a.length;for(;s===0;){if(++l===u)return i;s=~a[l]}const c=l*32+oe.numberOfTrailingZeros(s);return c>i?i:c}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new k;if(i===t)return;i--;const a=Math.floor(t/32),l=Math.floor(i/32),s=this.bits;for(let u=a;u<=l;u++){const c=u>a?0:t&31,p=(2<<(u<l?31:i&31))-(1<<c);s[u]|=p}}clear(){const t=this.bits.length,i=this.bits;for(let a=0;a<t;a++)i[a]=0}isRange(t,i,a){if(i<t||t<0||i>this.size)throw new k;if(i===t)return!0;i--;const l=Math.floor(t/32),s=Math.floor(i/32),u=this.bits;for(let c=l;c<=s;c++){const g=c>l?0:t&31,C=(2<<(c<s?31:i&31))-(1<<g)&4294967295;if((u[c]&C)!==(a?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new k("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new k("Sizes don't match");const i=this.bits;for(let a=0,l=i.length;a<l;a++)i[a]^=t.bits[a]}toBytes(t,i,a,l){for(let s=0;s<l;s++){let u=0;for(let c=0;c<8;c++)this.get(t)&&(u|=1<<7-c),t++;i[a+s]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,l=this.bits;for(let s=0;s<a;s++){let u=l[s];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[i-s]=u}if(this.size!==a*32){const s=a*32-this.size;let u=t[0]>>>s;for(let c=1;c<a;c++){const g=t[c];u|=g<<32-s,t[c-1]=u,u=g>>>s}t[a-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Ie))return!1;const i=t;return this.size===i.size&&we.equals(this.bits,i.bits)}hashCode(){return 31*this.size+we.hashCode(this.bits)}toString(){let t="";for(let i=0,a=this.size;i<a;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new Ie(this.size,this.bits.slice())}}var Le;(function(b){b[b.OTHER=0]="OTHER",b[b.PURE_BARCODE=1]="PURE_BARCODE",b[b.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",b[b.TRY_HARDER=3]="TRY_HARDER",b[b.CHARACTER_SET=4]="CHARACTER_SET",b[b.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",b[b.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",b[b.ASSUME_GS1=7]="ASSUME_GS1",b[b.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",b[b.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",b[b.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Le||(Le={}));var je=Le;class me extends w{static getFormatInstance(){return new me}}me.kind="FormatException";var Ze;(function(b){b[b.Cp437=0]="Cp437",b[b.ISO8859_1=1]="ISO8859_1",b[b.ISO8859_2=2]="ISO8859_2",b[b.ISO8859_3=3]="ISO8859_3",b[b.ISO8859_4=4]="ISO8859_4",b[b.ISO8859_5=5]="ISO8859_5",b[b.ISO8859_6=6]="ISO8859_6",b[b.ISO8859_7=7]="ISO8859_7",b[b.ISO8859_8=8]="ISO8859_8",b[b.ISO8859_9=9]="ISO8859_9",b[b.ISO8859_10=10]="ISO8859_10",b[b.ISO8859_11=11]="ISO8859_11",b[b.ISO8859_13=12]="ISO8859_13",b[b.ISO8859_14=13]="ISO8859_14",b[b.ISO8859_15=14]="ISO8859_15",b[b.ISO8859_16=15]="ISO8859_16",b[b.SJIS=16]="SJIS",b[b.Cp1250=17]="Cp1250",b[b.Cp1251=18]="Cp1251",b[b.Cp1252=19]="Cp1252",b[b.Cp1256=20]="Cp1256",b[b.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",b[b.UTF8=22]="UTF8",b[b.ASCII=23]="ASCII",b[b.Big5=24]="Big5",b[b.GB18030=25]="GB18030",b[b.EUC_KR=26]="EUC_KR"})(Ze||(Ze={}));class X{constructor(t,i,a,...l){this.valueIdentifier=t,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,X.VALUE_IDENTIFIER_TO_ECI.set(t,this),X.NAME_TO_ECI.set(a,this);const s=this.values;for(let u=0,c=s.length;u!==c;u++){const g=s[u];X.VALUES_TO_ECI.set(g,this)}for(const u of l)X.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new me("incorect value");const i=X.VALUES_TO_ECI.get(t);if(i===void 0)throw new me("incorect value");return i}static getCharacterSetECIByName(t){const i=X.NAME_TO_ECI.get(t);if(i===void 0)throw new me("incorect value");return i}equals(t){if(!(t instanceof X))return!1;const i=t;return this.getName()===i.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(Ze.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(Ze.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(Ze.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(Ze.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(Ze.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(Ze.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(Ze.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(Ze.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(Ze.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(Ze.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(Ze.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(Ze.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(Ze.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(Ze.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(Ze.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(Ze.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(Ze.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(Ze.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(Ze.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(Ze.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(Ze.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(Ze.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(Ze.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(Ze.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(Ze.Big5,28,"Big5"),X.GB18030=new X(Ze.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(Ze.EUC_KR,30,"EUC_KR","EUC-KR");class qe extends w{}qe.kind="UnsupportedOperationException";class Et{static decode(t,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!Et.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof X?t:X.getCharacterSetECIByName(t)}static decodeFallback(t,i){const a=this.encodingCharacterSet(i);if(Et.isDecodeFallbackSupported(a)){let l="";for(let s=0,u=t.length;s<u;s++){let c=t[s].toString(16);c.length<2&&(c="0"+c),l+="%"+c}return decodeURIComponent(l)}if(a.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new qe(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(X.UTF8)||t.equals(X.ISO8859_1)||t.equals(X.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<a.length;s++)l.push(a[s].charCodeAt(0));return new Uint8Array(l)}}class De{static castAsNonUtf8Char(t,i=null){const a=i?i.getName():this.ISO88591;return Et.decode(new Uint8Array([t]),a)}static guessEncoding(t,i){if(i!=null&&i.get(je.CHARACTER_SET)!==void 0)return i.get(je.CHARACTER_SET).toString();const a=t.length;let l=!0,s=!0,u=!0,c=0,g=0,p=0,C=0,T=0,v=0,_=0,z=0,F=0,V=0,W=0;const pe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Ae=0;Ae<a&&(l||s||u);Ae++){const ge=t[Ae]&255;u&&(c>0?(ge&128)===0?u=!1:c--:(ge&128)!==0&&((ge&64)===0?u=!1:(c++,(ge&32)===0?g++:(c++,(ge&16)===0?p++:(c++,(ge&8)===0?C++:u=!1))))),l&&(ge>127&&ge<160?l=!1:ge>159&&(ge<192||ge===215||ge===247)&&W++),s&&(T>0?ge<64||ge===127||ge>252?s=!1:T--:ge===128||ge===160||ge>239?s=!1:ge>160&&ge<224?(v++,z=0,_++,_>F&&(F=_)):ge>127?(T++,_=0,z++,z>V&&(V=z)):(_=0,z=0))}return u&&c>0&&(u=!1),s&&T>0&&(s=!1),u&&(pe||g+p+C>0)?De.UTF8:s&&(De.ASSUME_SHIFT_JIS||F>=3||V>=3)?De.SHIFT_JIS:l&&s?F===2&&v===2||W*10>=a?De.SHIFT_JIS:De.ISO88591:l?De.ISO88591:s?De.SHIFT_JIS:u?De.UTF8:De.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let a=-1;function l(u,c,g,p,C,T){if(u==="%%")return"%";if(i[++a]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let v=C?parseInt(C.substr(1)):void 0,_;switch(T){case"s":_=i[a];break;case"c":_=i[a][0];break;case"f":_=parseFloat(i[a]).toFixed(u);break;case"p":_=parseFloat(i[a]).toPrecision(u);break;case"e":_=parseFloat(i[a]).toExponential(u);break;case"x":_=parseInt(i[a]).toString(v||16);break;case"d":_=parseFloat(parseInt(i[a],v||10).toPrecision(u)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(v);let z=parseInt(g),F=g&&g[0]+""=="0"?"0":" ";for(;_.length<z;)_=c!==void 0?_+F:F+_;return _}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,i){return Et.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}De.SHIFT_JIS=X.SJIS.getName(),De.GB2312="GB2312",De.ISO88591=X.ISO8859_1.getName(),De.EUC_JP="EUC_JP",De.UTF8=X.UTF8.getName(),De.PLATFORM_DEFAULT_ENCODING=De.UTF8,De.ASSUME_SHIFT_JIS=!1;class $e{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=De.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,a){for(let l=i;i<i+a;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class bt{constructor(t,i,a,l){if(this.width=t,this.height=i,this.rowSize=a,this.bits=l,i==null&&(i=t),this.height=i,t<1||i<1)throw new k("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,a=t[0].length,l=new bt(a,i);for(let s=0;s<i;s++){const u=t[s];for(let c=0;c<a;c++)u[c]&&l.set(c,s)}return l}static parseFromString(t,i,a){if(t===null)throw new k("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,u=0,c=-1,g=0,p=0;for(;p<t.length;)if(t.charAt(p)===`
`||t.charAt(p)==="\r"){if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new k("row lengths do not match");u=s,g++}p++}else if(t.substring(p,p+i.length)===i)p+=i.length,l[s]=!0,s++;else if(t.substring(p,p+a.length)===a)p+=a.length,l[s]=!1,s++;else throw new k("illegal character encountered: "+t.substring(p));if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new k("row lengths do not match");g++}const C=new bt(c,g);for(let T=0;T<s;T++)l[T]&&C.set(Math.floor(T%c),Math.floor(T/c));return C}get(t,i){const a=i*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new k("input matrix dimensions do not match");const i=new Ie(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let s=0,u=this.height;s<u;s++){const c=s*a,g=t.getRow(s,i).getBitArray();for(let p=0;p<a;p++)l[c+p]^=g[p]}}clear(){const t=this.bits,i=t.length;for(let a=0;a<i;a++)t[a]=0}setRegion(t,i,a,l){if(i<0||t<0)throw new k("Left and top must be nonnegative");if(l<1||a<1)throw new k("Height and width must be at least 1");const s=t+a,u=i+l;if(u>this.height||s>this.width)throw new k("The region must fit inside the matrix");const c=this.rowSize,g=this.bits;for(let p=i;p<u;p++){const C=p*c;for(let T=t;T<s;T++)g[C+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new Ie(this.width):i.clear();const a=this.rowSize,l=this.bits,s=t*a;for(let u=0;u<a;u++)i.setBulk(u*32,l[s+u]);return i}setRow(t,i){fe.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let a=new Ie(t),l=new Ie(t);for(let s=0,u=Math.floor((i+1)/2);s<u;s++)a=this.getRow(s,a),l=this.getRow(i-1-s,l),a.reverse(),l.reverse(),this.setRow(s,l),this.setRow(i-1-s,a)}getEnclosingRectangle(){const t=this.width,i=this.height,a=this.rowSize,l=this.bits;let s=t,u=i,c=-1,g=-1;for(let p=0;p<i;p++)for(let C=0;C<a;C++){const T=l[p*a+C];if(T!==0){if(p<u&&(u=p),p>g&&(g=p),C*32<s){let v=0;for(;(T<<31-v&4294967295)===0;)v++;C*32+v<s&&(s=C*32+v)}if(C*32+31>c){let v=31;for(;!(T>>>v);)v--;C*32+v>c&&(c=C*32+v)}}}return c<s||g<u?null:Int32Array.from([s,u,c-s+1,g-u+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const l=a/t;let s=a%t*32;const u=i[a];let c=0;for(;(u<<31-c&4294967295)===0;)c++;return s+=c,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/t);let s=Math.floor(a%t)*32;const u=i[a];let c=31;for(;!(u>>>c);)c--;return s+=c,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof bt))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&we.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+we.hashCode(this.bits),t}toString(t="X ",i="  ",a=`
`){return this.buildToString(t,i,a)}buildToString(t,i,a){let l=new $e;for(let s=0,u=this.height;s<u;s++){for(let c=0,g=this.width;c<g;c++)l.append(this.get(c,s)?t:i);l.append(a)}return l.toString()}clone(){return new bt(this.width,this.height,this.rowSize,this.bits.slice())}}class K extends w{static getNotFoundInstance(){return new K}}K.kind="NotFoundException";class ye extends ae{constructor(t){super(t),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(t,i){const a=this.getLuminanceSource(),l=a.getWidth();i==null||i.getSize()<l?i=new Ie(l):i.clear(),this.initArrays(l);const s=a.getRow(t,this.luminances),u=this.buckets;for(let g=0;g<l;g++)u[(s[g]&255)>>ye.LUMINANCE_SHIFT]++;const c=ye.estimateBlackPoint(u);if(l<3)for(let g=0;g<l;g++)(s[g]&255)<c&&i.set(g);else{let g=s[0]&255,p=s[1]&255;for(let C=1;C<l-1;C++){const T=s[C+1]&255;(p*4-g-T)/2<c&&i.set(C),g=p,p=T}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight(),l=new bt(i,a);this.initArrays(i);const s=this.buckets;for(let g=1;g<5;g++){const p=Math.floor(a*g/5),C=t.getRow(p,this.luminances),T=Math.floor(i*4/5);for(let v=Math.floor(i/5);v<T;v++){const _=C[v]&255;s[_>>ye.LUMINANCE_SHIFT]++}}const u=ye.estimateBlackPoint(s),c=t.getMatrix();for(let g=0;g<a;g++){const p=g*i;for(let C=0;C<i;C++)(c[p+C]&255)<u&&l.set(C,g)}return l}createBinarizer(t){return new ye(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let a=0;a<ye.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(t){const i=t.length;let a=0,l=0,s=0;for(let C=0;C<i;C++)t[C]>s&&(l=C,s=t[C]),t[C]>a&&(a=t[C]);let u=0,c=0;for(let C=0;C<i;C++){const T=C-l,v=t[C]*T*T;v>c&&(u=C,c=v)}if(l>u){const C=l;l=u,u=C}if(u-l<=i/16)throw new K;let g=u-1,p=-1;for(let C=u-1;C>l;C--){const T=C-l,v=T*T*(u-C)*(a-t[C]);v>p&&(g=C,p=v)}return g<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class Se extends ye{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight();if(i>=Se.MINIMUM_DIMENSION&&a>=Se.MINIMUM_DIMENSION){const l=t.getMatrix();let s=i>>Se.BLOCK_SIZE_POWER;(i&Se.BLOCK_SIZE_MASK)!==0&&s++;let u=a>>Se.BLOCK_SIZE_POWER;(a&Se.BLOCK_SIZE_MASK)!==0&&u++;const c=Se.calculateBlackPoints(l,s,u,i,a),g=new bt(i,a);Se.calculateThresholdForBlock(l,s,u,i,a,c,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new Se(t)}static calculateThresholdForBlock(t,i,a,l,s,u,c){const g=s-Se.BLOCK_SIZE,p=l-Se.BLOCK_SIZE;for(let C=0;C<a;C++){let T=C<<Se.BLOCK_SIZE_POWER;T>g&&(T=g);const v=Se.cap(C,2,a-3);for(let _=0;_<i;_++){let z=_<<Se.BLOCK_SIZE_POWER;z>p&&(z=p);const F=Se.cap(_,2,i-3);let V=0;for(let pe=-2;pe<=2;pe++){const Ae=u[v+pe];V+=Ae[F-2]+Ae[F-1]+Ae[F]+Ae[F+1]+Ae[F+2]}const W=V/25;Se.thresholdBlock(t,z,T,W,l,c)}}}static cap(t,i,a){return t<i?i:t>a?a:t}static thresholdBlock(t,i,a,l,s,u){for(let c=0,g=a*s+i;c<Se.BLOCK_SIZE;c++,g+=s)for(let p=0;p<Se.BLOCK_SIZE;p++)(t[g+p]&255)<=l&&u.set(i+p,a+c)}static calculateBlackPoints(t,i,a,l,s){const u=s-Se.BLOCK_SIZE,c=l-Se.BLOCK_SIZE,g=new Array(a);for(let p=0;p<a;p++){g[p]=new Int32Array(i);let C=p<<Se.BLOCK_SIZE_POWER;C>u&&(C=u);for(let T=0;T<i;T++){let v=T<<Se.BLOCK_SIZE_POWER;v>c&&(v=c);let _=0,z=255,F=0;for(let W=0,pe=C*l+v;W<Se.BLOCK_SIZE;W++,pe+=l){for(let Ae=0;Ae<Se.BLOCK_SIZE;Ae++){const ge=t[pe+Ae]&255;_+=ge,ge<z&&(z=ge),ge>F&&(F=ge)}if(F-z>Se.MIN_DYNAMIC_RANGE)for(W++,pe+=l;W<Se.BLOCK_SIZE;W++,pe+=l)for(let Ae=0;Ae<Se.BLOCK_SIZE;Ae++)_+=t[pe+Ae]&255}let V=_>>Se.BLOCK_SIZE_POWER*2;if(F-z<=Se.MIN_DYNAMIC_RANGE&&(V=z/2,p>0&&T>0)){const W=(g[p-1][T]+2*g[p][T-1]+g[p-1][T-1])/4;z<W&&(V=W)}g[p][T]=V}}return g}}Se.BLOCK_SIZE_POWER=3,Se.BLOCK_SIZE=1<<Se.BLOCK_SIZE_POWER,Se.BLOCK_SIZE_MASK=Se.BLOCK_SIZE-1,Se.MINIMUM_DIMENSION=Se.BLOCK_SIZE*5,Se.MIN_DYNAMIC_RANGE=24;class Ue{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,a,l){throw new qe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new qe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new qe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new $e;for(let a=0;a<this.height;a++){const l=this.getRow(a,t);for(let s=0;s<this.width;s++){const u=l[s]&255;let c;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",i.append(c)}i.append(`
`)}return i.toString()}}class st extends Ue{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const a=this.delegate.getRow(t,i),l=this.getWidth();for(let s=0;s<l;s++)a[s]=255-(a[s]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let l=0;l<i;l++)a[l]=255-(t[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,a,l){return new st(this.delegate.crop(t,i,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new st(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new st(this.delegate.rotateCounterClockwise45())}}class M extends Ue{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=M.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return M.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,a){const l=new Uint8ClampedArray(i*a);for(let s=0,u=0,c=t.length;s<c;s+=4,u++){let g;if(t[s+3]===0)g=255;else{const C=t[s],T=t[s+1],v=t[s+2];g=306*C+601*T+117*v+512>>10}l[u]=g}return l}getRow(t,i){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const a=this.getWidth(),l=t*a;return i===null?i=this.buffer.slice(l,l+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(l,l+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,a,l){return super.crop(t,i,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),a=i.getContext("2d"),l=t*M.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*u),g=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*u);return i.width=c,i.height=g,a.translate(c/2,g/2),a.rotate(l),a.drawImage(this.canvas,s/-2,u/-2),this.buffer=M.makeBufferFromCanvasImageData(i),this}invert(){return new st(this)}}M.DEGREE_TO_RADIANS=Math.PI/180;class D{constructor(t,i,a){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var se=(globalThis||Uo||self||window||void 0)&&(globalThis||Uo||self||window||void 0).__awaiter||function(b,t,i,a){function l(s){return s instanceof i?s:new i(function(u){u(s)})}return new(i||(i=Promise))(function(s,u){function c(C){try{p(a.next(C))}catch(T){u(T)}}function g(C){try{p(a.throw(C))}catch(T){u(T)}}function p(C){C.done?s(C.value):l(C.value).then(c,g)}p((a=a.apply(b,t||[])).next())})};class de{constructor(t,i=500,a){this.reader=t,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of t){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const s=a.deviceId||a.id,u=a.label||`Video device ${i.length+1}`,c=a.groupId,g={deviceId:s,label:u,kind:l,groupId:c};i.push(g)}return i})}getVideoInputDevices(){return se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new D(i.deviceId,i.label))})}findDeviceById(t){return se(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return se(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(t,i){return se(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(t,i){return se(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,i,a){return se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,a)})}decodeFromVideoDevice(t,i,a){return se(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,i,a)})}decodeFromConstraints(t,i,a){return se(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,i,a)})}decodeFromStream(t,i,a){return se(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return se(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((i,a)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return se(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const a=document.getElementById(t);if(!a)throw new L(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new L(`element with id '${t}' must be an ${i} element`);return a}decodeFromImage(t,i){if(!t&&!i)throw new L("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new L("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,a){if(t===void 0&&i===void 0)throw new L("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new L("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(t){if(!t)throw new L("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new L("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=t,a}decodeFromVideoUrl(t){if(!t)throw new L("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=t,a}decodeFromVideoUrlContinuously(t,i){if(!t)throw new L("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,i);return a.src=t,l}_decodeOnLoadImage(t){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,a=!0){this._stopAsyncDecode=!1;const l=(s,u)=>{if(this._stopAsyncDecode){u(new K("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(t);s(c)}catch(c){const g=i&&c instanceof K,C=(c instanceof ne||c instanceof me)&&a;if(g||C)return setTimeout(l,this._timeBetweenDecodingAttempts,s,u);u(c)}};return new Promise((s,u)=>l(s,u))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);i(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){i(null,l);const s=l instanceof ne||l instanceof me,u=l instanceof K;(s||u)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,a){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),a=new M(i),l=new Se(a);return new J(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),i.style.width=a+"px",i.style.height=l+"px",i.width=a,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class re{constructor(t,i,a=i==null?0:8*i.length,l,s,u=fe.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=a,this.resultPoints=l,this.format=s,this.timestamp=u,this.text=t,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=l,this.format=s,this.resultMetadata=null,u==null?this.timestamp=fe.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(i.length+t.length);fe.arraycopy(i,0,a,0,i.length),fe.arraycopy(t,0,a,i.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var be;(function(b){b[b.AZTEC=0]="AZTEC",b[b.CODABAR=1]="CODABAR",b[b.CODE_39=2]="CODE_39",b[b.CODE_93=3]="CODE_93",b[b.CODE_128=4]="CODE_128",b[b.DATA_MATRIX=5]="DATA_MATRIX",b[b.EAN_8=6]="EAN_8",b[b.EAN_13=7]="EAN_13",b[b.ITF=8]="ITF",b[b.MAXICODE=9]="MAXICODE",b[b.PDF_417=10]="PDF_417",b[b.QR_CODE=11]="QR_CODE",b[b.RSS_14=12]="RSS_14",b[b.RSS_EXPANDED=13]="RSS_EXPANDED",b[b.UPC_A=14]="UPC_A",b[b.UPC_E=15]="UPC_E",b[b.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(be||(be={}));var te=be,ve;(function(b){b[b.OTHER=0]="OTHER",b[b.ORIENTATION=1]="ORIENTATION",b[b.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",b[b.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",b[b.ISSUE_NUMBER=4]="ISSUE_NUMBER",b[b.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",b[b.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",b[b.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",b[b.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",b[b.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",b[b.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ve||(ve={}));var Ce=ve;class Fe{constructor(t,i,a,l,s=-1,u=-1){this.rawBytes=t,this.text=i,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Pe{exp(t){return this.expTable[t]}log(t){if(t===0)throw new k;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class Ye{constructor(t,i){if(i.length===0)throw new k;this.field=t;const a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),fe.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(t===1){a=0;for(let u=0,c=i.length;u!==c;u++){const g=i[u];a=Pe.addOrSubtract(a,g)}return a}a=i[0];const l=i.length,s=this.field;for(let u=1;u<l;u++)a=Pe.addOrSubtract(s.multiply(t,a),i[u]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){const u=i;i=a,a=u}let l=new Int32Array(a.length);const s=a.length-i.length;fe.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=Pe.addOrSubtract(i[u-s],a[u]);return new Ye(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,l=t.coefficients,s=l.length,u=new Int32Array(a+s-1),c=this.field;for(let g=0;g<a;g++){const p=i[g];for(let C=0;C<s;C++)u[g+C]=Pe.addOrSubtract(u[g+C],c.multiply(p,l[C]))}return new Ye(c,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,a=this.field,l=new Int32Array(i),s=this.coefficients;for(let u=0;u<i;u++)l[u]=a.multiply(s[u],t);return new Ye(a,l)}multiplyByMonomial(t,i){if(t<0)throw new k;if(i===0)return this.field.getZero();const a=this.coefficients,l=a.length,s=new Int32Array(l+t),u=this.field;for(let c=0;c<l;c++)s[c]=u.multiply(a[c],i);return new Ye(u,s)}divide(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new k("Divide by 0");const i=this.field;let a=i.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),u=i.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const c=l.getDegree()-t.getDegree(),g=i.multiply(l.getCoefficient(l.getDegree()),u),p=t.multiplyByMonomial(c,g),C=i.buildMonomial(c,g);a=a.addOrSubtract(C),l=l.addOrSubtract(p)}return[a,l]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),i===0||a!==1){const l=this.field.log(a);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class pt extends w{}pt.kind="ArithmeticException";class Be extends Pe{constructor(t,i,a){super(),this.primitive=t,this.size=i,this.generatorBase=a;const l=new Int32Array(i);let s=1;for(let c=0;c<i;c++)l[c]=s,s*=2,s>=i&&(s^=t,s&=i-1);this.expTable=l;const u=new Int32Array(i);for(let c=0;c<i-1;c++)u[l[c]]=c;this.logTable=u,this.zero=new Ye(this,Int32Array.from([0])),this.one=new Ye(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new k;if(i===0)return this.zero;const a=new Int32Array(t+1);return a[0]=i,new Ye(this,a)}inverse(t){if(t===0)throw new pt;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+oe.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Be.AZTEC_DATA_12=new Be(4201,4096,1),Be.AZTEC_DATA_10=new Be(1033,1024,1),Be.AZTEC_DATA_6=new Be(67,64,1),Be.AZTEC_PARAM=new Be(19,16,1),Be.QR_CODE_FIELD_256=new Be(285,256,0),Be.DATA_MATRIX_FIELD_256=new Be(301,256,1),Be.AZTEC_DATA_8=Be.DATA_MATRIX_FIELD_256,Be.MAXICODE_FIELD_64=Be.AZTEC_DATA_6;class Qe extends w{}Qe.kind="ReedSolomonException";class Tt extends w{}Tt.kind="IllegalStateException";class Yt{constructor(t){this.field=t}decode(t,i){const a=this.field,l=new Ye(a,t),s=new Int32Array(i);let u=!0;for(let _=0;_<i;_++){const z=l.evaluateAt(a.exp(_+a.getGeneratorBase()));s[s.length-1-_]=z,z!==0&&(u=!1)}if(u)return;const c=new Ye(a,s),g=this.runEuclideanAlgorithm(a.buildMonomial(i,1),c,i),p=g[0],C=g[1],T=this.findErrorLocations(p),v=this.findErrorMagnitudes(C,T);for(let _=0;_<T.length;_++){const z=t.length-1-a.log(T[_]);if(z<0)throw new Qe("Bad error location");t[z]=Be.addOrSubtract(t[z],v[_])}}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){const _=t;t=i,i=_}const l=this.field;let s=t,u=i,c=l.getZero(),g=l.getOne();for(;u.getDegree()>=(a/2|0);){let _=s,z=c;if(s=u,c=g,s.isZero())throw new Qe("r_{i-1} was zero");u=_;let F=l.getZero();const V=s.getCoefficient(s.getDegree()),W=l.inverse(V);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const pe=u.getDegree()-s.getDegree(),Ae=l.multiply(u.getCoefficient(u.getDegree()),W);F=F.addOrSubtract(l.buildMonomial(pe,Ae)),u=u.addOrSubtract(s.multiplyByMonomial(pe,Ae))}if(g=F.multiply(c).addOrSubtract(z),u.getDegree()>=s.getDegree())throw new Tt("Division algorithm failed to reduce polynomial?")}const p=g.getCoefficient(0);if(p===0)throw new Qe("sigmaTilde(0) was zero");const C=l.inverse(p),T=g.multiplyScalar(C),v=u.multiplyScalar(C);return[T,v]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(i);let l=0;const s=this.field;for(let u=1;u<s.getSize()&&l<i;u++)t.evaluateAt(u)===0&&(a[l]=s.inverse(u),l++);if(l!==i)throw new Qe("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,i){const a=i.length,l=new Int32Array(a),s=this.field;for(let u=0;u<a;u++){const c=s.inverse(i[u]);let g=1;for(let p=0;p<a;p++)if(u!==p){const C=s.multiply(i[p],c),T=(C&1)===0?C|1:C&-2;g=s.multiply(g,T)}l[u]=s.multiply(t.evaluateAt(c),s.inverse(g)),s.getGeneratorBase()!==0&&(l[u]=s.multiply(l[u],c))}return l}}var At;(function(b){b[b.UPPER=0]="UPPER",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.DIGIT=3]="DIGIT",b[b.PUNCT=4]="PUNCT",b[b.BINARY=5]="BINARY"})(At||(At={}));class et{decode(t){this.ddata=t;let i=t.getBits(),a=this.extractBits(i),l=this.correctBits(a),s=et.convertBoolArrayToByteArray(l),u=et.getEncodedData(l),c=new Fe(s,u,null,null);return c.setNumBits(l.length),c}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,a=At.UPPER,l=At.UPPER,s="",u=0;for(;u<i;)if(l===At.BINARY){if(i-u<5)break;let c=et.readCode(t,u,5);if(u+=5,c===0){if(i-u<11)break;c=et.readCode(t,u,11)+31,u+=11}for(let g=0;g<c;g++){if(i-u<8){u=i;break}const p=et.readCode(t,u,8);s+=De.castAsNonUtf8Char(p),u+=8}l=a}else{let c=l===At.DIGIT?4:5;if(i-u<c)break;let g=et.readCode(t,u,c);u+=c;let p=et.getCharacter(l,g);p.startsWith("CTRL_")?(a=l,l=et.getTable(p.charAt(5)),p.charAt(6)==="L"&&(a=l)):(s+=p,l=a)}return s}static getTable(t){switch(t){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(t,i){switch(t){case At.UPPER:return et.UPPER_TABLE[i];case At.LOWER:return et.LOWER_TABLE[i];case At.MIXED:return et.MIXED_TABLE[i];case At.PUNCT:return et.PUNCT_TABLE[i];case At.DIGIT:return et.DIGIT_TABLE[i];default:throw new Tt("Bad table")}}correctBits(t){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=Be.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=Be.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=Be.AZTEC_DATA_10):(a=12,i=Be.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/a;if(s<l)throw new me;let u=t.length%a,c=new Int32Array(s);for(let v=0;v<s;v++,u+=a)c[v]=et.readCode(t,u,a);try{new Yt(i).decode(c,s-l)}catch(v){throw new me(v)}let g=(1<<a)-1,p=0;for(let v=0;v<l;v++){let _=c[v];if(_===0||_===g)throw new me;(_===1||_===g-1)&&p++}let C=new Array(l*a-p),T=0;for(let v=0;v<l;v++){let _=c[v];if(_===1||_===g-1)C.fill(_>1,T,T+a-1),T+=a-1;else for(let z=a-1;z>=0;--z)C[T++]=(_&1<<z)!==0}return C}extractBits(t){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(i?11:14)+a*4,s=new Int32Array(l),u=new Array(this.totalBitsInLayer(a,i));if(i)for(let c=0;c<s.length;c++)s[c]=c;else{let c=l+1+2*oe.truncDivision(oe.truncDivision(l,2)-1,15),g=l/2,p=oe.truncDivision(c,2);for(let C=0;C<g;C++){let T=C+oe.truncDivision(C,15);s[g-C-1]=p-T-1,s[g+C]=p+T+1}}for(let c=0,g=0;c<a;c++){let p=(a-c)*4+(i?9:12),C=c*2,T=l-1-C;for(let v=0;v<p;v++){let _=v*2;for(let z=0;z<2;z++)u[g+_+z]=t.get(s[C+z],s[C+v]),u[g+2*p+_+z]=t.get(s[C+v],s[T-z]),u[g+4*p+_+z]=t.get(s[T-z],s[T-v]),u[g+6*p+_+z]=t.get(s[T-v],s[C+z])}g+=p*8}return u}static readCode(t,i,a){let l=0;for(let s=i;s<i+a;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,i){let a=t.length-i;return a>=8?et.readCode(t,i,8):et.readCode(t,i,a)<<8-a}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let a=0;a<i.length;a++)i[a]=et.readByte(t,8*a);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class We{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,a,l){const s=t-a,u=i-l;return Math.sqrt(s*s+u*u)}static sum(t){let i=0;for(let a=0,l=t.length;a!==l;a++){const s=t[a];i+=s}return i}}class xn{static floatToIntBits(t){return t}}xn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ne){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*xn.floatToIntBits(this.x)+xn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,u,c;if(a>=i&&a>=l?(u=t[0],s=t[1],c=t[2]):l>=a&&l>=i?(u=t[1],s=t[0],c=t[2]):(u=t[2],s=t[0],c=t[1]),this.crossProductZ(s,u,c)<0){const g=s;s=c,c=g}t[0]=s,t[1]=u,t[2]=c}static distance(t,i){return We.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,a){const l=i.x,s=i.y;return(a.x-l)*(t.y-s)-(a.y-s)*(t.x-l)}}class Sa{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Yr extends Sa{constructor(t,i,a,l,s){super(t,i),this.compact=a,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Xt{constructor(t,i,a,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Xt.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=i/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}detect(){let t=this.leftInit,i=this.rightInit,a=this.upInit,l=this.downInit,s=!1,u=!0,c=!1,g=!1,p=!1,C=!1,T=!1;const v=this.width,_=this.height;for(;u;){u=!1;let z=!0;for(;(z||!g)&&i<v;)z=this.containsBlackPoint(a,l,i,!1),z?(i++,u=!0,g=!0):g||i++;if(i>=v){s=!0;break}let F=!0;for(;(F||!p)&&l<_;)F=this.containsBlackPoint(t,i,l,!0),F?(l++,u=!0,p=!0):p||l++;if(l>=_){s=!0;break}let V=!0;for(;(V||!C)&&t>=0;)V=this.containsBlackPoint(a,l,t,!1),V?(t--,u=!0,C=!0):C||t--;if(t<0){s=!0;break}let W=!0;for(;(W||!T)&&a>=0;)W=this.containsBlackPoint(t,i,a,!0),W?(a--,u=!0,T=!0):T||a--;if(a<0){s=!0;break}u&&(c=!0)}if(!s&&c){const z=i-t;let F=null;for(let Ae=1;F===null&&Ae<z;Ae++)F=this.getBlackPointOnSegment(t,l-Ae,t+Ae,l);if(F==null)throw new K;let V=null;for(let Ae=1;V===null&&Ae<z;Ae++)V=this.getBlackPointOnSegment(t,a+Ae,t+Ae,a);if(V==null)throw new K;let W=null;for(let Ae=1;W===null&&Ae<z;Ae++)W=this.getBlackPointOnSegment(i,a+Ae,i-Ae,a);if(W==null)throw new K;let pe=null;for(let Ae=1;pe===null&&Ae<z;Ae++)pe=this.getBlackPointOnSegment(i,l-Ae,i-Ae,l);if(pe==null)throw new K;return this.centerEdges(pe,F,W,V)}else throw new K}getBlackPointOnSegment(t,i,a,l){const s=We.round(We.distance(t,i,a,l)),u=(a-t)/s,c=(l-i)/s,g=this.image;for(let p=0;p<s;p++){const C=We.round(t+p*u),T=We.round(i+p*c);if(g.get(C,T))return new Ne(C,T)}return null}centerEdges(t,i,a,l){const s=t.getX(),u=t.getY(),c=i.getX(),g=i.getY(),p=a.getX(),C=a.getY(),T=l.getX(),v=l.getY(),_=Xt.CORR;return s<this.width/2?[new Ne(T-_,v+_),new Ne(c+_,g+_),new Ne(p-_,C-_),new Ne(s+_,u-_)]:[new Ne(T+_,v+_),new Ne(c+_,g-_),new Ne(p-_,C+_),new Ne(s-_,u-_)]}containsBlackPoint(t,i,a,l){const s=this.image;if(l){for(let u=t;u<=i;u++)if(s.get(u,a))return!0}else for(let u=t;u<=i;u++)if(s.get(a,u))return!0;return!1}}Xt.INIT_SIZE=10,Xt.CORR=1;class hr{static checkAndNudgePoints(t,i){const a=t.getWidth(),l=t.getHeight();let s=!0;for(let u=0;u<i.length&&s;u+=2){const c=Math.floor(i[u]),g=Math.floor(i[u+1]);if(c<-1||c>a||g<-1||g>l)throw new K;s=!1,c===-1?(i[u]=0,s=!0):c===a&&(i[u]=a-1,s=!0),g===-1?(i[u+1]=0,s=!0):g===l&&(i[u+1]=l-1,s=!0)}s=!0;for(let u=i.length-2;u>=0&&s;u-=2){const c=Math.floor(i[u]),g=Math.floor(i[u+1]);if(c<-1||c>a||g<-1||g>l)throw new K;s=!1,c===-1?(i[u]=0,s=!0):c===a&&(i[u]=a-1,s=!0),g===-1?(i[u+1]=0,s=!0):g===l&&(i[u+1]=l-1,s=!0)}}}class vn{constructor(t,i,a,l,s,u,c,g,p){this.a11=t,this.a21=i,this.a31=a,this.a12=l,this.a22=s,this.a32=u,this.a13=c,this.a23=g,this.a33=p}static quadrilateralToQuadrilateral(t,i,a,l,s,u,c,g,p,C,T,v,_,z,F,V){const W=vn.quadrilateralToSquare(t,i,a,l,s,u,c,g);return vn.squareToQuadrilateral(p,C,T,v,_,z,F,V).times(W)}transformPoints(t){const i=t.length,a=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,g=this.a23,p=this.a31,C=this.a32,T=this.a33;for(let v=0;v<i;v+=2){const _=t[v],z=t[v+1],F=s*_+g*z+T;t[v]=(a*_+u*z+p)/F,t[v+1]=(l*_+c*z+C)/F}}transformPointsWithValues(t,i){const a=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,g=this.a23,p=this.a31,C=this.a32,T=this.a33,v=t.length;for(let _=0;_<v;_++){const z=t[_],F=i[_],V=s*z+g*F+T;t[_]=(a*z+u*F+p)/V,i[_]=(l*z+c*F+C)/V}}static squareToQuadrilateral(t,i,a,l,s,u,c,g){const p=t-a+s-c,C=i-l+u-g;if(p===0&&C===0)return new vn(a-t,s-a,t,l-i,u-l,i,0,0,1);{const T=a-s,v=c-s,_=l-u,z=g-u,F=T*z-v*_,V=(p*z-v*C)/F,W=(T*C-p*_)/F;return new vn(a-t+V*a,c-t+W*c,t,l-i+V*l,g-i+W*g,i,V,W,1)}}static quadrilateralToSquare(t,i,a,l,s,u,c,g){return vn.squareToQuadrilateral(t,i,a,l,s,u,c,g).buildAdjoint()}buildAdjoint(){return new vn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new vn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class dr extends hr{sampleGrid(t,i,a,l,s,u,c,g,p,C,T,v,_,z,F,V,W,pe,Ae){const ge=vn.quadrilateralToQuadrilateral(l,s,u,c,g,p,C,T,v,_,z,F,V,W,pe,Ae);return this.sampleGridWithTransform(t,i,a,ge)}sampleGridWithTransform(t,i,a,l){if(i<=0||a<=0)throw new K;const s=new bt(i,a),u=new Float32Array(2*i);for(let c=0;c<a;c++){const g=u.length,p=c+.5;for(let C=0;C<g;C+=2)u[C]=C/2+.5,u[C+1]=p;l.transformPoints(u),hr.checkAndNudgePoints(t,u);try{for(let C=0;C<g;C+=2)t.get(Math.floor(u[C]),Math.floor(u[C+1]))&&s.set(C/2,c)}catch{throw new K}}return s}}class Pn{static setGridSampler(t){Pn.gridSampler=t}static getInstance(){return Pn.gridSampler}}Pn.gridSampler=new dr;class un{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ba{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(t){let u=a[0];a[0]=a[2],a[2]=u}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),s=this.getMatrixCornerPoints(a);return new Yr(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new K;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(a,i);let l=0;for(let u=0;u<4;u++){let c=a[(this.shift+u)%4];this.compact?(l<<=7,l+=c>>1&127):(l<<=10,l+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,i){let a=0;t.forEach((l,s,u)=>{let c=(l>>i-2<<1)+(l&1);a=(a<<3)+c}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(oe.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new K}getCorrectedParameterData(t,i){let a,l;i?(a=7,l=2):(a=10,l=4);let s=a-l,u=new Int32Array(a);for(let g=a-1;g>=0;--g)u[g]=t&15,t>>=4;try{new Yt(Be.AZTEC_PARAM).decode(u,s)}catch{throw new K}let c=0;for(let g=0;g<l;g++)c=(c<<4)+u[g];return c}getBullsEyeCorners(t){let i=t,a=t,l=t,s=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,u,1,-1),v=this.getFirstDifferent(a,u,1,1),_=this.getFirstDifferent(l,u,-1,1),z=this.getFirstDifferent(s,u,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(z,T)*this.nbCenterLayers/(this.distancePoint(s,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(T,v,_,z))break}i=T,a=v,l=_,s=z,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;let c=new Ne(i.getX()+.5,i.getY()-.5),g=new Ne(a.getX()+.5,a.getY()+.5),p=new Ne(l.getX()-.5,l.getY()+.5),C=new Ne(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,g,p,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,a,l;try{let c=new Xt(this.image).detect();t=c[0],i=c[1],a=c[2],l=c[3]}catch{let g=this.image.getWidth()/2,p=this.image.getHeight()/2;t=this.getFirstDifferent(new un(g+7,p-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new un(g+7,p+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new un(g-7,p+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new un(g-7,p-7),!1,-1,-1).toResultPoint()}let s=We.round((t.getX()+l.getX()+i.getX()+a.getX())/4),u=We.round((t.getY()+l.getY()+i.getY()+a.getY())/4);try{let c=new Xt(this.image,15,s,u).detect();t=c[0],i=c[1],a=c[2],l=c[3]}catch{t=this.getFirstDifferent(new un(s+7,u-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new un(s+7,u+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new un(s-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new un(s-7,u-7),!1,-1,-1).toResultPoint()}return s=We.round((t.getX()+l.getX()+i.getX()+a.getX())/4),u=We.round((t.getY()+l.getY()+i.getY()+a.getY())/4),new un(s,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,a,l,s){let u=Pn.getInstance(),c=this.getDimension(),g=c/2-this.nbCenterLayers,p=c/2+this.nbCenterLayers;return u.sampleGrid(t,c,c,g,g,p,g,p,p,g,p,i.getX(),i.getY(),a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,i,a){let l=0,s=this.distanceResultPoint(t,i),u=s/a,c=t.getX(),g=t.getY(),p=u*(i.getX()-t.getX())/s,C=u*(i.getY()-t.getY())/s;for(let T=0;T<a;T++)this.image.get(We.round(c+T*p),We.round(g+T*C))&&(l|=1<<a-T-1);return l}isWhiteOrBlackRectangle(t,i,a,l){let s=3;t=new un(t.getX()-s,t.getY()+s),i=new un(i.getX()-s,i.getY()-s),a=new un(a.getX()+s,a.getY()-s),l=new un(l.getX()+s,l.getY()+s);let u=this.getColor(l,t);if(u===0)return!1;let c=this.getColor(t,i);return c!==u||(c=this.getColor(i,a),c!==u)?!1:(c=this.getColor(a,l),c===u)}getColor(t,i){let a=this.distancePoint(t,i),l=(i.getX()-t.getX())/a,s=(i.getY()-t.getY())/a,u=0,c=t.getX(),g=t.getY(),p=this.image.get(t.getX(),t.getY()),C=Math.ceil(a);for(let v=0;v<C;v++)c+=l,g+=s,this.image.get(We.round(c),We.round(g))!==p&&u++;let T=u/a;return T>.1&&T<.9?0:T<=.1===p?1:-1}getFirstDifferent(t,i,a,l){let s=t.getX()+a,u=t.getY()+l;for(;this.isValid(s,u)&&this.image.get(s,u)===i;)s+=a,u+=l;for(s-=a,u-=l;this.isValid(s,u)&&this.image.get(s,u)===i;)s+=a;for(s-=a;this.isValid(s,u)&&this.image.get(s,u)===i;)u+=l;return u-=l,new un(s,u)}expandSquare(t,i,a){let l=a/(2*i),s=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,g=(t[0].getY()+t[2].getY())/2,p=new Ne(c+l*s,g+l*u),C=new Ne(c-l*s,g-l*u);s=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,g=(t[1].getY()+t[3].getY())/2;let T=new Ne(c+l*s,g+l*u),v=new Ne(c-l*s,g-l*u);return[p,T,C,v]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=We.round(t.getX()),a=We.round(t.getY());return this.isValid(i,a)}distancePoint(t,i){return We.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return We.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(oe.truncDivision(this.nbLayers-4,8)+1)+15}}class Ii{decode(t,i=null){let a=null,l=new ba(t.getBlackMatrix()),s=null,u=null;try{let C=l.detectMirror(!1);s=C.getPoints(),this.reportFoundResultPoints(i,s),u=new et().decode(C)}catch(C){a=C}if(u==null)try{let C=l.detectMirror(!0);s=C.getPoints(),this.reportFoundResultPoints(i,s),u=new et().decode(C)}catch(C){throw a??C}let c=new re(u.getText(),u.getRawBytes(),u.getNumBits(),s,te.AZTEC,fe.currentTimeMillis()),g=u.getByteSegments();g!=null&&c.putMetadata(Ce.BYTE_SEGMENTS,g);let p=u.getECLevel();return p!=null&&c.putMetadata(Ce.ERROR_CORRECTION_LEVEL,p),c}reportFoundResultPoints(t,i){if(t!=null){let a=t.get(je.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((l,s,u)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class Il extends de{constructor(t=500){super(new Ii,t)}}class _t{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(je.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),u=this.doDecode(s,i),c=u.getResultMetadata();let g=270;c!==null&&c.get(Ce.ORIENTATION)===!0&&(g=g+c.get(Ce.ORIENTATION)%360),u.putMetadata(Ce.ORIENTATION,g);const p=u.getResultPoints();if(p!==null){const C=s.getHeight();for(let T=0;T<p.length;T++)p[T]=new Ne(C-p[T].getY()-1,p[T].getX())}return u}else throw new K}}reset(){}doDecode(t,i){const a=t.getWidth(),l=t.getHeight();let s=new Ie(a);const u=i&&i.get(je.TRY_HARDER)===!0,c=Math.max(1,l>>(u?8:5));let g;u?g=l:g=15;const p=Math.trunc(l/2);for(let C=0;C<g;C++){const T=Math.trunc((C+1)/2),v=(C&1)===0,_=p+c*(v?T:-T);if(_<0||_>=l)break;try{s=t.getBlackRow(_,s)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(s.reverse(),i&&i.get(je.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((V,W)=>F.set(W,V)),F.delete(je.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(_,s,i);if(z===1){F.putMetadata(Ce.ORIENTATION,180);const V=F.getResultPoints();V!==null&&(V[0]=new Ne(a-V[0].getX()-1,V[0].getY()),V[1]=new Ne(a-V[1].getX()-1,V[1].getY()))}return F}catch{}}}throw new K}static recordPattern(t,i,a){const l=a.length;for(let p=0;p<l;p++)a[p]=0;const s=t.getSize();if(i>=s)throw new K;let u=!t.get(i),c=0,g=i;for(;g<s;){if(t.get(g)!==u)a[c]++;else{if(++c===l)break;a[c]=1,u=!u}g++}if(!(c===l||c===l-1&&g===s))throw new K}static recordPatternInReverse(t,i,a){let l=a.length,s=t.get(i);for(;i>0&&l>=0;)t.get(--i)!==s&&(l--,s=!s);if(l>=0)throw new K;_t.recordPattern(t,i+1,a)}static patternMatchVariance(t,i,a){const l=t.length;let s=0,u=0;for(let p=0;p<l;p++)s+=t[p],u+=i[p];if(s<u)return Number.POSITIVE_INFINITY;const c=s/u;a*=c;let g=0;for(let p=0;p<l;p++){const C=t[p],T=i[p]*c,v=C>T?C-T:T-C;if(v>a)return Number.POSITIVE_INFINITY;g+=v}return g/s}}class Ee extends _t{static findStartPattern(t){const i=t.getSize(),a=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),u=a,c=!1;const g=6;for(let p=a;p<i;p++)if(t.get(p)!==c)s[l]++;else{if(l===g-1){let C=Ee.MAX_AVG_VARIANCE,T=-1;for(let v=Ee.CODE_START_A;v<=Ee.CODE_START_C;v++){const _=_t.patternMatchVariance(s,Ee.CODE_PATTERNS[v],Ee.MAX_INDIVIDUAL_VARIANCE);_<C&&(C=_,T=v)}if(T>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,T]);u+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,c=!c}throw new K}static decodeCode(t,i,a){_t.recordPattern(t,a,i);let l=Ee.MAX_AVG_VARIANCE,s=-1;for(let u=0;u<Ee.CODE_PATTERNS.length;u++){const c=Ee.CODE_PATTERNS[u],g=this.patternMatchVariance(i,c,Ee.MAX_INDIVIDUAL_VARIANCE);g<l&&(l=g,s=u)}if(s>=0)return s;throw new K}decodeRow(t,i,a){const l=a&&a.get(je.ASSUME_GS1)===!0,s=Ee.findStartPattern(i),u=s[2];let c=0;const g=new Uint8Array(20);g[c++]=u;let p;switch(u){case Ee.CODE_START_A:p=Ee.CODE_CODE_A;break;case Ee.CODE_START_B:p=Ee.CODE_CODE_B;break;case Ee.CODE_START_C:p=Ee.CODE_CODE_C;break;default:throw new me}let C=!1,T=!1,v="",_=s[0],z=s[1];const F=Int32Array.from([0,0,0,0,0,0]);let V=0,W=0,pe=u,Ae=0,ge=!0,at=!1,Ge=!1;for(;!C;){const ia=T;switch(T=!1,V=W,W=Ee.decodeCode(i,F,z),g[c++]=W,W!==Ee.CODE_STOP&&(ge=!0),W!==Ee.CODE_STOP&&(Ae++,pe+=Ae*W),_=z,z+=F.reduce((zs,$n)=>zs+$n,0),W){case Ee.CODE_START_A:case Ee.CODE_START_B:case Ee.CODE_START_C:throw new me}switch(p){case Ee.CODE_CODE_A:if(W<64)Ge===at?v+=String.fromCharCode(32+W):v+=String.fromCharCode(32+W+128),Ge=!1;else if(W<96)Ge===at?v+=String.fromCharCode(W-64):v+=String.fromCharCode(W+64),Ge=!1;else switch(W!==Ee.CODE_STOP&&(ge=!1),W){case Ee.CODE_FNC_1:l&&(v.length===0?v+="]C1":v+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_A:!at&&Ge?(at=!0,Ge=!1):at&&Ge?(at=!1,Ge=!1):Ge=!0;break;case Ee.CODE_SHIFT:T=!0,p=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_B:p=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_C:p=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:C=!0;break}break;case Ee.CODE_CODE_B:if(W<96)Ge===at?v+=String.fromCharCode(32+W):v+=String.fromCharCode(32+W+128),Ge=!1;else switch(W!==Ee.CODE_STOP&&(ge=!1),W){case Ee.CODE_FNC_1:l&&(v.length===0?v+="]C1":v+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_B:!at&&Ge?(at=!0,Ge=!1):at&&Ge?(at=!1,Ge=!1):Ge=!0;break;case Ee.CODE_SHIFT:T=!0,p=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_A:p=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_C:p=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:C=!0;break}break;case Ee.CODE_CODE_C:if(W<100)W<10&&(v+="0"),v+=W;else switch(W!==Ee.CODE_STOP&&(ge=!1),W){case Ee.CODE_FNC_1:l&&(v.length===0?v+="]C1":v+="");break;case Ee.CODE_CODE_A:p=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_B:p=Ee.CODE_CODE_B;break;case Ee.CODE_STOP:C=!0;break}break}ia&&(p=p===Ee.CODE_CODE_A?Ee.CODE_CODE_B:Ee.CODE_CODE_A)}const In=z-_;if(z=i.getNextUnset(z),!i.isRange(z,Math.min(i.getSize(),z+(z-_)/2),!1))throw new K;if(pe-=Ae*V,pe%103!==V)throw new ne;const Qn=v.length;if(Qn===0)throw new K;Qn>0&&ge&&(p===Ee.CODE_CODE_C?v=v.substring(0,Qn-2):v=v.substring(0,Qn-1));const On=(s[1]+s[0])/2,Ot=_+In/2,An=g.length,Yn=new Uint8Array(An);for(let ia=0;ia<An;ia++)Yn[ia]=g[ia];const na=[new Ne(On,t),new Ne(Ot,t)];return new re(v,Yn,0,na,te.CODE_128,new Date().getTime())}}Ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ee.MAX_AVG_VARIANCE=.25,Ee.MAX_INDIVIDUAL_VARIANCE=.7,Ee.CODE_SHIFT=98,Ee.CODE_CODE_C=99,Ee.CODE_CODE_B=100,Ee.CODE_CODE_A=101,Ee.CODE_FNC_1=102,Ee.CODE_FNC_2=97,Ee.CODE_FNC_3=96,Ee.CODE_FNC_4_A=101,Ee.CODE_FNC_4_B=100,Ee.CODE_START_A=103,Ee.CODE_START_B=104,Ee.CODE_START_C=105,Ee.CODE_STOP=106;class an extends _t{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=an.findAsteriskPattern(i,l),u=i.getNextSet(s[1]),c=i.getSize(),g,p;do{an.recordPattern(i,u,l);let F=an.toNarrowWidePattern(l);if(F<0)throw new K;g=an.patternToChar(F),this.decodeRowResult+=g,p=u;for(let V of l)u+=V;u=i.getNextSet(u)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let F of l)C+=F;let T=u-p-C;if(u!==c&&T*2<C)throw new K;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,V=0;for(let W=0;W<F;W++)V+=an.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(F)!==an.ALPHABET_STRING.charAt(V%43))throw new ne;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new K;let v;this.extendedMode?v=an.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let _=(s[1]+s[0])/2,z=p+C/2;return new re(v,null,0,[new Ne(_,t),new Ne(z,t)],te.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let a=t.getSize(),l=t.getNextSet(0),s=0,u=l,c=!1,g=i.length;for(let p=l;p<a;p++)if(t.get(p)!==c)i[s]++;else{if(s===g-1){if(this.toNarrowWidePattern(i)===an.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=i[0]+i[1],i.copyWithin(0,2,2+s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,c=!c}throw new K}static toNarrowWidePattern(t){let i=t.length,a=0,l;do{let s=2147483647;for(let g of t)g<s&&g>a&&(s=g);a=s,l=0;let u=0,c=0;for(let g=0;g<i;g++){let p=t[g];p>a&&(c|=1<<i-1-g,l++,u+=p)}if(l===3){for(let g=0;g<i&&l>0;g++){let p=t[g];if(p>a&&(l--,p*2>=u))return-1}return c}}while(l>3);return-1}static patternToChar(t){for(let i=0;i<an.CHARACTER_ENCODINGS.length;i++)if(an.CHARACTER_ENCODINGS[i]===t)return an.ALPHABET_STRING.charAt(i);if(t===an.ASTERISK_ENCODING)return"*";throw new K}static decodeExtended(t){let i=t.length,a="";for(let l=0;l<i;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let u=t.charAt(l+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new me;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new me;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new me;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new me;break}a+=c,l++}else a+=s}return a}}an.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",an.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],an.ASTERISK_ENCODING=148;class ct extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,a){let l=this.decodeStart(i),s=this.decodeEnd(i),u=new $e;ct.decodeMiddle(i,l[1],s[0],u);let c=u.toString(),g=null;a!=null&&(g=a.get(je.ALLOWED_LENGTHS)),g==null&&(g=ct.DEFAULT_ALLOWED_LENGTHS);let p=c.length,C=!1,T=0;for(let z of g){if(p===z){C=!0;break}z>T&&(T=z)}if(!C&&p>T&&(C=!0),!C)throw new me;const v=[new Ne(l[1],t),new Ne(s[0],t)];return new re(c,null,0,v,te.ITF,new Date().getTime())}static decodeMiddle(t,i,a,l){let s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);i<a;){_t.recordPattern(t,i,s);for(let p=0;p<5;p++){let C=2*p;u[p]=s[C],c[p]=s[C+1]}let g=ct.decodeDigit(u);l.append(g.toString()),g=this.decodeDigit(c),l.append(g.toString()),s.forEach(function(p){i+=p})}}decodeStart(t){let i=ct.skipWhiteSpace(t),a=ct.findGuardPattern(t,i,ct.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let l=i-1;a>0&&l>=0&&!t.get(l);l--)a--;if(a!==0)throw new K}static skipWhiteSpace(t){const i=t.getSize(),a=t.getNextSet(0);if(a===i)throw new K;return a}decodeEnd(t){t.reverse();try{let i=ct.skipWhiteSpace(t),a;try{a=ct.findGuardPattern(t,i,ct.END_PATTERN_REVERSED[0])}catch(s){s instanceof K&&(a=ct.findGuardPattern(t,i,ct.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let l=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-l,a}finally{t.reverse()}}static findGuardPattern(t,i,a){let l=a.length,s=new Int32Array(l),u=t.getSize(),c=!1,g=0,p=i;s.fill(0);for(let C=i;C<u;C++)if(t.get(C)!==c)s[g]++;else{if(g===l-1){if(_t.patternMatchVariance(s,a,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return[p,C];p+=s[0]+s[1],fe.arraycopy(s,2,s,0,g-1),s[g-1]=0,s[g]=0,g--}else g++;s[g]=1,c=!c}throw new K}static decodeDigit(t){let i=ct.MAX_AVG_VARIANCE,a=-1,l=ct.PATTERNS.length;for(let s=0;s<l;s++){let u=ct.PATTERNS[s],c=_t.patternMatchVariance(t,u,ct.MAX_INDIVIDUAL_VARIANCE);c<i?(i=c,a=s):c===i&&(a=-1)}if(a>=0)return a%10;throw new K}}ct.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ct.MAX_AVG_VARIANCE=.38,ct.MAX_INDIVIDUAL_VARIANCE=.5,ct.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ct.START_PATTERN=Int32Array.from([1,1,1,1]),ct.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ft extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,a,l=0,s=Int32Array.from([0,0,0]);for(;!i;){s=Int32Array.from([0,0,0]),a=ft.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let u=a[0];l=a[1];let c=u-(l-u);c>=0&&(i=t.isRange(c,u,!1))}return a}static checkChecksum(t){return ft.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return ft.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let l=i-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new me;a+=s}a*=3;for(let l=i-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new me;a+=s}return(1e3-a)%10}static decodeEnd(t,i){return ft.findGuardPattern(t,i,!1,ft.START_END_PATTERN,new Int32Array(ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,a,l){return this.findGuardPattern(t,i,a,l,new Int32Array(l.length))}static findGuardPattern(t,i,a,l,s){let u=t.getSize();i=a?t.getNextUnset(i):t.getNextSet(i);let c=0,g=i,p=l.length,C=a;for(let T=i;T<u;T++)if(t.get(T)!==C)s[c]++;else{if(c===p-1){if(_t.patternMatchVariance(s,l,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return Int32Array.from([g,T]);g+=s[0]+s[1];let v=s.slice(2,s.length-1);for(let _=0;_<c-1;_++)s[_]=v[_];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,C=!C}throw new K}static decodeDigit(t,i,a,l){this.recordPattern(t,a,i);let s=this.MAX_AVG_VARIANCE,u=-1,c=l.length;for(let g=0;g<c;g++){let p=l[g],C=_t.patternMatchVariance(i,p,ft.MAX_INDIVIDUAL_VARIANCE);C<s&&(s=C,u=g)}if(u>=0)return u;throw new K}}ft.MAX_AVG_VARIANCE=.48,ft.MAX_INDIVIDUAL_VARIANCE=.7,ft.START_END_PATTERN=Int32Array.from([1,1,1]),ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class gr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,a,l),u=l.toString(),c=gr.parseExtensionString(u),g=[new Ne((a[0]+a[1])/2,t),new Ne(s,t)],p=new re(u,null,0,g,te.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&p.putAllMetadata(c),p}decodeMiddle(t,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let p=0;p<5&&u<s;p++){let C=ft.decodeDigit(t,l,u,ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let T of l)u+=T;C>=10&&(c|=1<<4-p),p!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(a.length!==5)throw new K;let g=this.determineCheckDigit(c);if(gr.extensionChecksum(a.toString())!==g)throw new K;return u}static extensionChecksum(t){let i=t.length,a=0;for(let l=i-2;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;a*=3;for(let l=i-1;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new K}static parseExtensionString(t){if(t.length!==5)return null;let i=gr.parseExtension5String(t);return i==null?null:new Map([[Ce.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(t.substring(1)),l=(a/100).toString(),s=a%100,u=s<10?"0"+s:s.toString();return i+l+"."+u}}class Ol{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,a,l),u=l.toString(),c=Ol.parseExtensionString(u),g=[new Ne((a[0]+a[1])/2,t),new Ne(s,t)],p=new re(u,null,0,g,te.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&p.putAllMetadata(c),p}decodeMiddle(t,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let g=0;g<2&&u<s;g++){let p=ft.decodeDigit(t,l,u,ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+p%10);for(let C of l)u+=C;p>=10&&(c|=1<<1-g),g!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(a.length!==2)throw new K;if(parseInt(a.toString())%4!==c)throw new K;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[Ce.ISSUE_NUMBER,parseInt(t)]])}}class Rs{static decodeRow(t,i,a){let l=ft.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new gr().decodeRow(t,i,l)}catch{return new Ol().decodeRow(t,i,l)}}}Rs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends ft{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=ht.L_PATTERNS[t-10],a=new Int32Array(i.length);for(let l=0;l<i.length;l++)a[l]=i[i.length-l-1];ht.L_AND_G_PATTERNS[t]=a}}decodeRow(t,i,a){let l=ht.findStartGuardPattern(i),s=a==null?null:a.get(je.NEED_RESULT_POINT_CALLBACK);if(s!=null){const ge=new Ne((l[0]+l[1])/2,t);s.foundPossibleResultPoint(ge)}let u=this.decodeMiddle(i,l,this.decodeRowStringBuffer),c=u.rowOffset,g=u.resultString;if(s!=null){const ge=new Ne(c,t);s.foundPossibleResultPoint(ge)}let p=this.decodeEnd(i,c);if(s!=null){const ge=new Ne((p[0]+p[1])/2,t);s.foundPossibleResultPoint(ge)}let C=p[1],T=C+(C-p[0]);if(T>=i.getSize()||!i.isRange(C,T,!1))throw new K;let v=g.toString();if(v.length<8)throw new me;if(!ht.checkChecksum(v))throw new ne;let _=(l[1]+l[0])/2,z=(p[1]+p[0])/2,F=this.getBarcodeFormat(),V=[new Ne(_,t),new Ne(z,t)],W=new re(v,null,0,V,F,new Date().getTime()),pe=0;try{let ge=Rs.decodeRow(t,i,p[1]);W.putMetadata(Ce.UPC_EAN_EXTENSION,ge.getText()),W.putAllMetadata(ge.getResultMetadata()),W.addResultPoints(ge.getResultPoints()),pe=ge.getText().length}catch{}let Ae=a==null?null:a.get(je.ALLOWED_EAN_EXTENSIONS);if(Ae!=null){let ge=!1;for(let at in Ae)if(pe.toString()===at){ge=!0;break}if(!ge)throw new K}return W}decodeEnd(t,i){return ht.findGuardPattern(t,i,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ht.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return ht.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let l=i-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new me;a+=s}a*=3;for(let l=i-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new me;a+=s}return(1e3-a)%10}}class si extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let p=0;p<6&&u<s;p++){let C=ht.decodeDigit(t,l,u,ht.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let T of l)u+=T;C>=10&&(c|=1<<5-p)}a=si.determineFirstDigit(a,c),u=ht.findGuardPattern(t,u,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<s;p++){let C=ht.decodeDigit(t,l,u,ht.L_PATTERNS);a+=String.fromCharCode(48+C);for(let T of l)u+=T}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(t,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new K}}si.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Oi extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1];for(let g=0;g<4&&u<s;g++){let p=ht.decodeDigit(t,l,u,ht.L_PATTERNS);a+=String.fromCharCode(48+p);for(let C of l)u+=C}u=ht.findGuardPattern(t,u,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&u<s;g++){let p=ht.decodeDigit(t,l,u,ht.L_PATTERNS);a+=String.fromCharCode(48+p);for(let C of l)u+=C}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return te.EAN_8}}class xr extends ht{constructor(){super(...arguments),this.ean13Reader=new si}getBarcodeFormat(){return te.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,a))}decodeMiddle(t,i,a){return this.ean13Reader.decodeMiddle(t,i,a)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let a=new re(i.substring(1),null,null,t.getResultPoints(),te.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new K}reset(){this.ean13Reader.reset()}}class Nn extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,a){const l=this.decodeMiddleCounters.map(p=>p);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let u=i[1],c=0;for(let p=0;p<6&&u<s;p++){const C=Nn.decodeDigit(t,l,u,Nn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let T of l)u+=T;C>=10&&(c|=1<<5-p)}let g=Nn.determineNumSysAndCheckDigit(a,c);return{rowOffset:u,resultString:g}}decodeEnd(t,i){return Nn.findGuardPatternWithoutCounters(t,i,!0,Nn.MIDDLE_END_PATTERN)}checkChecksum(t){return ht.checkChecksum(Nn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let s=String.fromCharCode(48+a),u=String.fromCharCode(48+l);return s+t+u}throw K.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),a=new $e;a.append(t.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(l),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(l);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}Nn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Rl extends _t{constructor(t){super();let i=t==null?null:t.get(je.POSSIBLE_FORMATS),a=[];A(i)?(a.push(new si),a.push(new xr),a.push(new Oi),a.push(new Nn)):(i.indexOf(te.EAN_13)>-1&&a.push(new si),i.indexOf(te.UPC_A)>-1&&a.push(new xr),i.indexOf(te.EAN_8)>-1&&a.push(new Oi),i.indexOf(te.UPC_E)>-1&&a.push(new Nn)),this.readers=a}decodeRow(t,i,a){for(let l of this.readers)try{const s=l.decodeRow(t,i,a),u=s.getBarcodeFormat()===te.EAN_13&&s.getText().charAt(0)==="0",c=a==null?null:a.get(je.POSSIBLE_FORMATS),g=c==null||c.includes(te.UPC_A);if(u&&g){const p=s.getRawBytes(),C=new re(s.getText().substring(1),p,p?p.length:null,s.getResultPoints(),te.UPC_A);return C.putAllMetadata(s.getResultMetadata()),C}return s}catch{}throw new K}reset(){for(let t of this.readers)t.reset()}}class mn extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let a=0;a<i.length;a++)if(_t.patternMatchVariance(t,i[a],mn.MAX_INDIVIDUAL_VARIANCE)<mn.MAX_AVG_VARIANCE)return a;throw new K}static count(t){return We.sum(new Int32Array(t))}static increment(t,i){let a=0,l=i[0];for(let s=1;s<t.length;s++)i[s]>l&&(l=i[s],a=s);t[a]++}static decrement(t,i){let a=0,l=i[0];for(let s=1;s<t.length;s++)i[s]<l&&(l=i[s],a=s);t[a]--}static isFinderPattern(t){let i=t[0]+t[1],a=i+t[2]+t[3],l=i/a;if(l>=mn.MIN_FINDER_PATTERN_RATIO&&l<=mn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let c of t)c>u&&(u=c),c<s&&(s=c);return u<10*s}return!1}}mn.MAX_AVG_VARIANCE=.2,mn.MAX_INDIVIDUAL_VARIANCE=.45,mn.MIN_FINDER_PATTERN_RATIO=9.5/12,mn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Wi{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Wi))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ta{constructor(t,i,a,l,s){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ne(a,s)),this.resultPoints.push(new Ne(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Ta))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class Bn{constructor(){}static getRSSvalue(t,i,a){let l=0;for(let g of t)l+=g;let s=0,u=0,c=t.length;for(let g=0;g<c-1;g++){let p;for(p=1,u|=1<<g;p<t[g];p++,u&=~(1<<g)){let C=Bn.combins(l-p-1,c-g-2);if(a&&u===0&&l-p-(c-g-1)>=c-g-1&&(C-=Bn.combins(l-p-(c-g),c-g-2)),c-g-1>1){let T=0;for(let v=l-p-(c-g-2);v>i;v--)T+=Bn.combins(l-p-v-1,c-g-3);C-=T*(c-1-g)}else l-p>i&&C--;s+=C}l-=p}return s}static combins(t,i){let a,l;t-i>i?(l=i,a=t-i):(l=t-i,a=i);let s=1,u=1;for(let c=t;c>a;c--)s*=c,u<=l&&(s/=u,u++);for(;u<=l;)s/=u,u++;return s}}class qo{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let a=12*i,l=new Ie(a),s=0,c=t[0].getRightChar().getValue();for(let g=11;g>=0;--g)(c&1<<g)!=0&&l.set(s),s++;for(let g=1;g<t.length;++g){let p=t[g],C=p.getLeftChar().getValue();for(let T=11;T>=0;--T)(C&1<<T)!=0&&l.set(s),s++;if(p.getRightChar()!=null){let T=p.getRightChar().getValue();for(let v=11;v>=0;--v)(T&1<<v)!=0&&l.set(s),s++}}return l}}class Ri{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Gr{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Mn extends Gr{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Mn.FNC1}}Mn.FNC1="$";class _i extends Gr{constructor(t,i,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qn extends Gr{constructor(t,i,a){if(super(t),i<0||i>10||a<0||a>10)throw new me;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===qn.FNC1}isAnyFNC1(){return this.firstDigit===qn.FNC1||this.secondDigit===qn.FNC1}}qn.FNC1=10;class Te{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new K;let i=t.substring(0,2);for(let s of Te.TWO_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(2,s[2],t):Te.processFixedAI(2,s[1],t);if(t.length<3)throw new K;let a=t.substring(0,3);for(let s of Te.THREE_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(3,s[2],t):Te.processFixedAI(3,s[1],t);for(let s of Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,s[2],t):Te.processFixedAI(4,s[1],t);if(t.length<4)throw new K;let l=t.substring(0,4);for(let s of Te.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,s[2],t):Te.processFixedAI(4,s[1],t);throw new K}static processFixedAI(t,i,a){if(a.length<t)throw new K;let l=a.substring(0,t);if(a.length<t+i)throw new K;let s=a.substring(t,t+i),u=a.substring(t+i),c="("+l+")"+s,g=Te.parseFieldsInGeneralPurpose(u);return g==null?c:c+g}static processVariableAI(t,i,a){let l=a.substring(0,t),s;a.length<t+i?s=a.length:s=t+i;let u=a.substring(t,s),c=a.substring(s),g="("+l+")"+u,p=Te.parseFieldsInGeneralPurpose(c);return p==null?g:g+p}}Te.VARIABLE_LENGTH=[],Te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Te.VARIABLE_LENGTH,20],["22",Te.VARIABLE_LENGTH,29],["30",Te.VARIABLE_LENGTH,8],["37",Te.VARIABLE_LENGTH,8],["90",Te.VARIABLE_LENGTH,30],["91",Te.VARIABLE_LENGTH,30],["92",Te.VARIABLE_LENGTH,30],["93",Te.VARIABLE_LENGTH,30],["94",Te.VARIABLE_LENGTH,30],["95",Te.VARIABLE_LENGTH,30],["96",Te.VARIABLE_LENGTH,30],["97",Te.VARIABLE_LENGTH,3],["98",Te.VARIABLE_LENGTH,30],["99",Te.VARIABLE_LENGTH,30]],Te.THREE_DIGIT_DATA_LENGTH=[["240",Te.VARIABLE_LENGTH,30],["241",Te.VARIABLE_LENGTH,30],["242",Te.VARIABLE_LENGTH,6],["250",Te.VARIABLE_LENGTH,30],["251",Te.VARIABLE_LENGTH,30],["253",Te.VARIABLE_LENGTH,17],["254",Te.VARIABLE_LENGTH,20],["400",Te.VARIABLE_LENGTH,30],["401",Te.VARIABLE_LENGTH,30],["402",17],["403",Te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Te.VARIABLE_LENGTH,20],["421",Te.VARIABLE_LENGTH,15],["422",3],["423",Te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Te.VARIABLE_LENGTH,15],["391",Te.VARIABLE_LENGTH,18],["392",Te.VARIABLE_LENGTH,15],["393",Te.VARIABLE_LENGTH,18],["703",Te.VARIABLE_LENGTH,30]],Te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Te.VARIABLE_LENGTH,20],["8003",Te.VARIABLE_LENGTH,30],["8004",Te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Te.VARIABLE_LENGTH,30],["8008",Te.VARIABLE_LENGTH,12],["8018",18],["8020",Te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Te.VARIABLE_LENGTH,70],["8200",Te.VARIABLE_LENGTH,70]];class qt{constructor(t){this.buffer=new $e,this.information=t}decodeAllCodes(t,i){let a=i,l=null;do{let s=this.decodeGeneralPurposeField(a,l),u=Te.parseFieldsInGeneralPurpose(s.getNewString());if(u!=null&&t.append(u),s.isRemaining()?l=""+s.getRemainingValue():l=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new qn(this.information.getSize(),qn.FNC1,qn.FNC1):new qn(this.information.getSize(),s-1,qn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),a=(i-8)/11,l=(i-8)%11;return new qn(t+7,a,l)}extractNumericValueFromBitArray(t,i){return qt.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,a){let l=0;for(let s=0;s<a;++s)t.get(i+s)&&(l|=1<<a-s-1);return l}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new _i(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new _i(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new _i(this.current.getPosition(),this.buffer.toString()):i=new _i(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ri(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new _i(this.current.getPosition(),this.buffer.toString());return new Ri(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ri(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new _i(this.current.getPosition(),this.buffer.toString());return new Ri(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ri(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new _i(this.current.getPosition(),this.buffer.toString());return new Ri(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ri(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Mn(t+5,Mn.FNC1);if(i>=5&&i<15)return new Mn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new Mn(t+7,""+(a+1));if(a>=90&&a<116)return new Mn(t+7,""+(a+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new me}return new Mn(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Mn(t+5,Mn.FNC1);if(i>=5&&i<15)return new Mn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new Mn(t+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Tt("Decoding invalid alphanumeric value: "+a)}return new Mn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class wn{constructor(t){this.information=t,this.generalDecoder=new qt(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rn extends wn{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,a)}encodeCompressedGtinWithoutAI(t,i,a){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}rn.appendCheckDigit(t,a)}static appendCheckDigit(t,i){let a=0;for(let l=0;l<13;l++){let s=t.charAt(l+i).charCodeAt(0)-48;a+=(l&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),t.append(a)}}rn.GTIN_SIZE=40;class Di extends rn{constructor(t){super(t)}parseInformation(){let t=new $e;t.append("(01)");let i=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Di.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,Di.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,Di.HEADER_SIZE+44)}}Di.HEADER_SIZE=4;class Xr extends wn{constructor(t){super(t)}parseInformation(){let t=new $e;return this.getGeneralDecoder().decodeAllCodes(t,Xr.HEADER_SIZE)}}Xr.HEADER_SIZE=5;class qr extends rn{constructor(t){super(t)}encodeCompressedWeight(t,i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(t,l);let s=this.checkWeight(l),u=1e5;for(let c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)}}class Kn extends qr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Kn.HEADER_SIZE+qr.GTIN_SIZE+Kn.WEIGHT_SIZE)throw new K;let t=new $e;return this.encodeCompressedGtin(t,Kn.HEADER_SIZE),this.encodeCompressedWeight(t,Kn.HEADER_SIZE+qr.GTIN_SIZE,Kn.WEIGHT_SIZE),t.toString()}}Kn.HEADER_SIZE=5,Kn.WEIGHT_SIZE=15;class mr extends Kn{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class _l extends Kn{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Cn extends rn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Cn.HEADER_SIZE+rn.GTIN_SIZE)throw new K;let t=new $e;this.encodeCompressedGtin(t,Cn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Cn.HEADER_SIZE+rn.GTIN_SIZE,Cn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Cn.HEADER_SIZE+rn.GTIN_SIZE+Cn.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}Cn.HEADER_SIZE=8,Cn.LAST_DIGIT_SIZE=2;class Jt extends rn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Jt.HEADER_SIZE+rn.GTIN_SIZE)throw new K;let t=new $e;this.encodeCompressedGtin(t,Jt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Jt.HEADER_SIZE+rn.GTIN_SIZE,Jt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Jt.HEADER_SIZE+rn.GTIN_SIZE+Jt.LAST_DIGIT_SIZE,Jt.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Jt.HEADER_SIZE+rn.GTIN_SIZE+Jt.LAST_DIGIT_SIZE+Jt.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}Jt.HEADER_SIZE=8,Jt.LAST_DIGIT_SIZE=2,Jt.FIRST_THREE_DIGITS_SIZE=10;class vt extends qr{constructor(t,i,a){super(t),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE+vt.DATE_SIZE)throw new K;let t=new $e;return this.encodeCompressedGtin(t,vt.HEADER_SIZE),this.encodeCompressedWeight(t,vt.HEADER_SIZE+vt.GTIN_SIZE,vt.WEIGHT_SIZE),this.encodeCompressedDate(t,vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,vt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=a%32;a/=32;let s=a%12+1;a/=12;let u=a;u/10==0&&t.append("0"),t.append(u),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}vt.HEADER_SIZE=8,vt.WEIGHT_SIZE=20,vt.DATE_SIZE=16;function Ki(b){try{if(b.get(1))return new Di(b);if(!b.get(2))return new Xr(b);switch(qt.extractNumericValueFromBitArray(b,1,4)){case 4:return new mr(b);case 5:return new _l(b)}switch(qt.extractNumericValueFromBitArray(b,1,5)){case 12:return new Cn(b);case 13:return new Jt(b)}switch(qt.extractNumericValueFromBitArray(b,1,7)){case 56:return new vt(b,"310","11");case 57:return new vt(b,"320","11");case 58:return new vt(b,"310","13");case 59:return new vt(b,"320","13");case 60:return new vt(b,"310","15");case 61:return new vt(b,"320","15");case 62:return new vt(b,"310","17");case 63:return new vt(b,"320","17")}}catch(t){throw console.log(t),new Tt("unknown decoder: "+b)}}class Lt{constructor(t,i,a,l){this.leftchar=t,this.rightchar=i,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Lt?Lt.equalsOrNull(t.leftchar,i.leftchar)&&Lt.equalsOrNull(t.rightchar,i.rightchar)&&Lt.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Lt.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zr{constructor(t,i,a){this.pairs=t,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof Zr?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let a;return t.forEach((l,s)=>{i.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(a=!0)})}),a}}class he extends mn{constructor(t){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,a){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(t,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(s){if(s instanceof K){if(!this.pairs.length)throw new K;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new K}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let a=i;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,a+1)}catch(u){this.verbose&&console.log(u)}}throw new K}static isValidSequence(t){for(let i of he.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let a=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=i[l]){a=!1;break}if(a)return!0}return!1}storeRow(t,i){let a=0,l=!1,s=!1;for(;a<this.rows.length;){let u=this.rows[a];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),a++}s||l||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Zr(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let a of i)if(a.getPairs().length!==t.length){for(let l of a.getPairs())for(let s of t)if(Lt.equals(l,s))break}}static isPartialRow(t,i){for(let a of i){let l=!0;for(let s of t){let u=!1;for(let c of a.getPairs())if(s.equals(c)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=qo.buildBitArray(t),l=Ki(i).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new re(l,null,null,c,te.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let g=this.pairs.get(c);l+=g.getLeftChar().getChecksumPortion(),s++;let p=g.getRightChar();p!=null&&(l+=p.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==i.getValue()}static getNextSecondBar(t,i){let a;return t.get(i)?(a=t.getNextUnset(i),a=t.getNextSet(a)):(a=t.getNextSet(i),a=t.getNextUnset(a)),a}retrieveNextPair(t,i,a){let l=i.length%2==0;this.startFromEven&&(l=!l);let s,u=!0,c=-1;do this.findNextPair(t,i,c),s=this.parseFoundFinderPattern(t,a,l),s==null?c=he.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let g=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new K;let p;try{p=this.decodeDataCharacter(t,s,l,!1)}catch(C){p=null,this.verbose&&console.log(C)}return new Lt(g,p,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u;a>=0?u=a:this.isEmptyPair(i)?u=0:u=i[i.length-1].getFinderPattern().getStartEnd()[1];let c=i.length%2!=0;this.startFromEven&&(c=!c);let g=!1;for(;u<s&&(g=!t.get(u),!!g);)u++;let p=0,C=u;for(let T=u;T<s;T++)if(t.get(T)!=g)l[p]++;else{if(p==3){if(c&&he.reverseCounters(l),he.isFinderPattern(l)){this.startEnd[0]=C,this.startEnd[1]=T;return}c&&he.reverseCounters(l),C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,g=!g}throw new K}static reverseCounters(t){let i=t.length;for(let a=0;a<i/2;++a){let l=t[a];t[a]=t[i-a-1],t[i-a-1]=l}}parseFoundFinderPattern(t,i,a){let l,s,u;if(a){let p=this.startEnd[0]-1;for(;p>=0&&!t.get(p);)p--;p++,l=this.startEnd[0]-p,s=p,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let c=this.getDecodeFinderCounters();fe.arraycopy(c,0,c,1,c.length-1),c[0]=l;let g;try{g=this.parseFinderValue(c,he.FINDER_PATTERNS)}catch{return null}return new Ta(g,[s,u],s,u,i)}decodeDataCharacter(t,i,a,l){let s=this.getDataCharacterCounters();for(let Ot=0;Ot<s.length;Ot++)s[Ot]=0;if(l)he.recordPatternInReverse(t,i.getStartEnd()[0],s);else{he.recordPattern(t,i.getStartEnd()[1],s);for(let Ot=0,An=s.length-1;Ot<An;Ot++,An--){let Yn=s[Ot];s[Ot]=s[An],s[An]=Yn}}let u=17,c=We.sum(new Int32Array(s))/u,g=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(c-g)/g>.3)throw new K;let p=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let Ot=0;Ot<s.length;Ot++){let An=1*s[Ot]/c,Yn=An+.5;if(Yn<1){if(An<.3)throw new K;Yn=1}else if(Yn>8){if(An>8.7)throw new K;Yn=8}let na=Ot/2;(Ot&1)==0?(p[na]=Yn,T[na]=An-Yn):(C[na]=Yn,v[na]=An-Yn)}this.adjustOddEvenCounts(u);let _=4*i.getValue()+(a?0:2)+(l?0:1)-1,z=0,F=0;for(let Ot=p.length-1;Ot>=0;Ot--){if(he.isNotA1left(i,a,l)){let An=he.WEIGHTS[_][2*Ot];F+=p[Ot]*An}z+=p[Ot]}let V=0;for(let Ot=C.length-1;Ot>=0;Ot--)if(he.isNotA1left(i,a,l)){let An=he.WEIGHTS[_][2*Ot+1];V+=C[Ot]*An}let W=F+V;if((z&1)!=0||z>13||z<4)throw new K;let pe=(13-z)/2,Ae=he.SYMBOL_WIDEST[pe],ge=9-Ae,at=Bn.getRSSvalue(p,Ae,!0),Ge=Bn.getRSSvalue(C,ge,!1),In=he.EVEN_TOTAL_SUBSET[pe],Qn=he.GSUM[pe],On=at*In+Ge+Qn;return new Wi(On,W)}static isNotA1left(t,i,a){return!(t.getValue()==0&&i&&a)}adjustOddEvenCounts(t){let i=We.sum(new Int32Array(this.getOddCounts())),a=We.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;i>13?s=!0:i<4&&(l=!0);let u=!1,c=!1;a>13?c=!0:a<4&&(u=!0);let g=i+a-t,p=(i&1)==1,C=(a&1)==0;if(g==1)if(p){if(C)throw new K;s=!0}else{if(!C)throw new K;c=!0}else if(g==-1)if(p){if(C)throw new K;l=!0}else{if(!C)throw new K;u=!0}else if(g==0){if(p){if(!C)throw new K;i<a?(l=!0,c=!0):(s=!0,u=!0)}else if(C)throw new K}else throw new K;if(l){if(s)throw new K;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new K;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class Ji extends Wi{constructor(t,i,a){super(t,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mt extends mn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,a){const l=this.decodePair(i,!1,t,a);Mt.addOrTally(this.possibleLeftPairs,l),i.reverse();let s=this.decodePair(i,!0,t,a);Mt.addOrTally(this.possibleRightPairs,s),i.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&Mt.checkChecksum(u,c))return Mt.constructResult(u,c)}throw new K}static addOrTally(t,i){if(i==null)return;let a=!1;for(let l of t)if(l.getValue()===i.getValue()){l.incrementCount(),a=!0;break}a||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let a=4537077*t.getValue()+i.getValue(),l=new String(a).toString(),s=new $e;for(let p=13-l.length;p>0;p--)s.append("0");s.append(l);let u=0;for(let p=0;p<13;p++){let C=s.charAt(p).charCodeAt(0)-48;u+=(p&1)===0?3*C:C}u=10-u%10,u===10&&(u=0),s.append(u.toString());let c=t.getFinderPattern().getResultPoints(),g=i.getFinderPattern().getResultPoints();return new re(s.toString(),null,0,[c[0],c[1],g[0],g[1]],te.RSS_14,new Date().getTime())}static checkChecksum(t,i){let a=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(t,i,a,l){try{let s=this.findFinderPattern(t,i),u=this.parseFoundFinderPattern(t,a,i,s),c=l==null?null:l.get(je.NEED_RESULT_POINT_CALLBACK);if(c!=null){let C=(s[0]+s[1])/2;i&&(C=t.getSize()-1-C),c.foundPossibleResultPoint(new Ne(C,a))}let g=this.decodeDataCharacter(t,u,!0),p=this.decodeDataCharacter(t,u,!1);return new Ji(1597*g.getValue()+p.getValue(),g.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,i,a){let l=this.getDataCharacterCounters();for(let V=0;V<l.length;V++)l[V]=0;if(a)_t.recordPatternInReverse(t,i.getStartEnd()[0],l);else{_t.recordPattern(t,i.getStartEnd()[1]+1,l);for(let V=0,W=l.length-1;V<W;V++,W--){let pe=l[V];l[V]=l[W],l[W]=pe}}let s=a?16:15,u=We.sum(new Int32Array(l))/s,c=this.getOddCounts(),g=this.getEvenCounts(),p=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let V=0;V<l.length;V++){let W=l[V]/u,pe=Math.floor(W+.5);pe<1?pe=1:pe>8&&(pe=8);let Ae=Math.floor(V/2);(V&1)===0?(c[Ae]=pe,p[Ae]=W-pe):(g[Ae]=pe,C[Ae]=W-pe)}this.adjustOddEvenCounts(a,s);let T=0,v=0;for(let V=c.length-1;V>=0;V--)v*=9,v+=c[V],T+=c[V];let _=0,z=0;for(let V=g.length-1;V>=0;V--)_*=9,_+=g[V],z+=g[V];let F=v+3*_;if(a){if((T&1)!==0||T>12||T<4)throw new K;let V=(12-T)/2,W=Mt.OUTSIDE_ODD_WIDEST[V],pe=9-W,Ae=Bn.getRSSvalue(c,W,!1),ge=Bn.getRSSvalue(g,pe,!0),at=Mt.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ge=Mt.OUTSIDE_GSUM[V];return new Wi(Ae*at+ge+Ge,F)}else{if((z&1)!==0||z>10||z<4)throw new K;let V=(10-z)/2,W=Mt.INSIDE_ODD_WIDEST[V],pe=9-W,Ae=Bn.getRSSvalue(c,W,!0),ge=Bn.getRSSvalue(g,pe,!1),at=Mt.INSIDE_ODD_TOTAL_SUBSET[V],Ge=Mt.INSIDE_GSUM[V];return new Wi(ge*at+Ae+Ge,F)}}findFinderPattern(t,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),s=!1,u=0;for(;u<l&&(s=!t.get(u),i!==s);)u++;let c=0,g=u;for(let p=u;p<l;p++)if(t.get(p)!==s)a[c]++;else{if(c===3){if(mn.isFinderPattern(a))return[g,p];g+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new K}parseFoundFinderPattern(t,i,a,l){let s=t.get(l[0]),u=l[0]-1;for(;u>=0&&s!==t.get(u);)u--;u++;const c=l[0]-u,g=this.getDecodeFinderCounters(),p=new Int32Array(g.length);fe.arraycopy(g,0,p,1,g.length-1),p[0]=c;const C=this.parseFinderValue(p,Mt.FINDER_PATTERNS);let T=u,v=l[1];return a&&(T=t.getSize()-1-T,v=t.getSize()-1-v),new Ta(C,[u,l[1]],T,v,i)}adjustOddEvenCounts(t,i){let a=We.sum(new Int32Array(this.getOddCounts())),l=We.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,g=!1;t?(a>12?u=!0:a<4&&(s=!0),l>12?g=!0:l<4&&(c=!0)):(a>11?u=!0:a<5&&(s=!0),l>10?g=!0:l<4&&(c=!0));let p=a+l-i,C=(a&1)===(t?1:0),T=(l&1)===1;if(p===1)if(C){if(T)throw new K;u=!0}else{if(!T)throw new K;g=!0}else if(p===-1)if(C){if(T)throw new K;s=!0}else{if(!T)throw new K;c=!0}else if(p===0){if(C){if(!T)throw new K;a<l?(s=!0,g=!0):(u=!0,c=!0)}else if(T)throw new K}else throw new K;if(s){if(u)throw new K;mn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&mn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(g)throw new K;mn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&mn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mt.OUTSIDE_GSUM=[0,161,961,2015,2715],Mt.INSIDE_GSUM=[0,336,1036,1516],Mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mt.INSIDE_ODD_WIDEST=[2,4,6,8],Mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ln extends _t{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const a=t?t.get(je.POSSIBLE_FORMATS):null,l=t&&t.get(je.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(te.EAN_13)||a.includes(te.UPC_A)||a.includes(te.EAN_8)||a.includes(te.UPC_E))&&this.readers.push(new Rl(t)),a.includes(te.CODE_39)&&this.readers.push(new an(l)),a.includes(te.CODE_128)&&this.readers.push(new Ee),a.includes(te.ITF)&&this.readers.push(new ct),a.includes(te.RSS_14)&&this.readers.push(new Mt),a.includes(te.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new Rl(t)),this.readers.push(new an),this.readers.push(new Rl(t)),this.readers.push(new Ee),this.readers.push(new ct),this.readers.push(new Mt),this.readers.push(new he(this.verbose)))}decodeRow(t,i,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,i,a)}catch{}throw new K}reset(){this.readers.forEach(t=>t.reset())}}class Zo extends de{constructor(t=500,i){super(new Ln(i),t,i)}}class yt{constructor(t,i,a){this.ecCodewords=t,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(t,i,a,l,s,u){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=u;let c=0;const g=u.getECCodewords(),p=u.getECBlocks();for(let C of p)c+=C.getCount()*(C.getDataCodewords()+g);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new me;for(let a of ot.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===i)return a;throw new me}toString(){return""+this.versionNumber}static buildVersions(){return[new ot(1,10,10,8,8,new yt(5,new xt(1,3))),new ot(2,12,12,10,10,new yt(7,new xt(1,5))),new ot(3,14,14,12,12,new yt(10,new xt(1,8))),new ot(4,16,16,14,14,new yt(12,new xt(1,12))),new ot(5,18,18,16,16,new yt(14,new xt(1,18))),new ot(6,20,20,18,18,new yt(18,new xt(1,22))),new ot(7,22,22,20,20,new yt(20,new xt(1,30))),new ot(8,24,24,22,22,new yt(24,new xt(1,36))),new ot(9,26,26,24,24,new yt(28,new xt(1,44))),new ot(10,32,32,14,14,new yt(36,new xt(1,62))),new ot(11,36,36,16,16,new yt(42,new xt(1,86))),new ot(12,40,40,18,18,new yt(48,new xt(1,114))),new ot(13,44,44,20,20,new yt(56,new xt(1,144))),new ot(14,48,48,22,22,new yt(68,new xt(1,174))),new ot(15,52,52,24,24,new yt(42,new xt(2,102))),new ot(16,64,64,14,14,new yt(56,new xt(2,140))),new ot(17,72,72,16,16,new yt(36,new xt(4,92))),new ot(18,80,80,18,18,new yt(48,new xt(4,114))),new ot(19,88,88,20,20,new yt(56,new xt(4,144))),new ot(20,96,96,22,22,new yt(68,new xt(4,174))),new ot(21,104,104,24,24,new yt(56,new xt(6,136))),new ot(22,120,120,18,18,new yt(68,new xt(6,175))),new ot(23,132,132,20,20,new yt(62,new xt(8,163))),new ot(24,144,144,22,22,new yt(62,new xt(8,156),new xt(2,155))),new ot(25,8,18,6,16,new yt(7,new xt(1,5))),new ot(26,8,32,6,14,new yt(11,new xt(1,10))),new ot(27,12,26,10,24,new yt(14,new xt(1,16))),new ot(28,12,36,10,16,new yt(18,new xt(1,22))),new ot(29,16,36,14,16,new yt(24,new xt(1,32))),new ot(30,16,48,14,22,new yt(28,new xt(1,49)))]}}ot.VERSIONS=ot.buildVersions();class va{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new me;this.version=va.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new bt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),a=t.getWidth();return ot.getVersionForDimensions(i,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,l=0;const s=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let c=!1,g=!1,p=!1,C=!1;do if(a===s&&l===0&&!c)t[i++]=this.readCorner1(s,u)&255,a-=2,l+=2,c=!0;else if(a===s-2&&l===0&&(u&3)!==0&&!g)t[i++]=this.readCorner2(s,u)&255,a-=2,l+=2,g=!0;else if(a===s+4&&l===2&&(u&7)===0&&!p)t[i++]=this.readCorner3(s,u)&255,a-=2,l+=2,p=!0;else if(a===s-2&&l===0&&(u&7)===4&&!C)t[i++]=this.readCorner4(s,u)&255,a-=2,l+=2,C=!0;else{do a<s&&l>=0&&!this.readMappingMatrix.get(l,a)&&(t[i++]=this.readUtah(a,l,s,u)&255),a-=2,l+=2;while(a>=0&&l<u);a+=1,l+=3;do a>=0&&l<u&&!this.readMappingMatrix.get(l,a)&&(t[i++]=this.readUtah(a,l,s,u)&255),a+=2,l-=2;while(a<s&&l>=0);a+=3,l+=1}while(a<s||l<u);if(i!==this.version.getTotalCodewords())throw new me;return t}readModule(t,i,a,l){return t<0&&(t+=a,i+=4-(a+4&7)),i<0&&(i+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,a,l){let s=0;return this.readModule(t-2,i-2,a,l)&&(s|=1),s<<=1,this.readModule(t-2,i-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,i-2,a,l)&&(s|=1),s<<=1,this.readModule(t-1,i-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,i,a,l)&&(s|=1),s<<=1,this.readModule(t,i-2,a,l)&&(s|=1),s<<=1,this.readModule(t,i-1,a,l)&&(s|=1),s<<=1,this.readModule(t,i,a,l)&&(s|=1),s}readCorner1(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,1,t,i)&&(a|=1),a<<=1,this.readModule(t-1,2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}readCorner2(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-4,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner3(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-3,t,i)&&(a|=1),a<<=1,this.readModule(1,i-2,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner4(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new k("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),u=i/l|0,c=a/s|0,g=u*l,p=c*s,C=new bt(p,g);for(let T=0;T<u;++T){const v=T*l;for(let _=0;_<c;++_){const z=_*s;for(let F=0;F<l;++F){const V=T*(l+2)+1+F,W=v+F;for(let pe=0;pe<s;++pe){const Ae=_*(s+2)+1+pe;if(t.get(Ae,V)){const ge=z+pe;C.set(ge,W)}}}}}return C}}class Na{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const a=i.getECBlocks();let l=0;const s=a.getECBlocks();for(let F of s)l+=F.getCount();const u=new Array(l);let c=0;for(let F of s)for(let V=0;V<F.getCount();V++){const W=F.getDataCodewords(),pe=a.getECCodewords()+W;u[c++]=new Na(W,new Uint8Array(pe))}const p=u[0].codewords.length-a.getECCodewords(),C=p-1;let T=0;for(let F=0;F<C;F++)for(let V=0;V<c;V++)u[V].codewords[F]=t[T++];const v=i.getVersionNumber()===24,_=v?8:c;for(let F=0;F<_;F++)u[F].codewords[p-1]=t[T++];const z=u[0].codewords.length;for(let F=p;F<z;F++)for(let V=0;V<c;V++){const W=v?(V+8)%c:V,pe=v&&W>7?F-1:F;u[W].codewords[pe]=t[T++]}if(T!==t.length)throw new k;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new k(""+t);let i=0,a=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(a>0){const u=8-a,c=t<u?t:u,g=u-c,p=255>>8-c<<g;i=(s[l]&p)>>g,t-=c,a+=c,a===8&&(a=0,l++)}if(t>0){for(;t>=8;)i=i<<8|s[l]&255,l++,t-=8;if(t>0){const u=8-t,c=255>>u<<u;i=i<<t|(s[l]&c)>>u,a+=t}}return this.bitOffset=a,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var wt;(function(b){b[b.PAD_ENCODE=0]="PAD_ENCODE",b[b.ASCII_ENCODE=1]="ASCII_ENCODE",b[b.C40_ENCODE=2]="C40_ENCODE",b[b.TEXT_ENCODE=3]="TEXT_ENCODE",b[b.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",b[b.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",b[b.BASE256_ENCODE=6]="BASE256_ENCODE"})(wt||(wt={}));class Ei{static decode(t){const i=new Jn(t),a=new $e,l=new $e,s=new Array;let u=wt.ASCII_ENCODE;do if(u===wt.ASCII_ENCODE)u=this.decodeAsciiSegment(i,a,l);else{switch(u){case wt.C40_ENCODE:this.decodeC40Segment(i,a);break;case wt.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case wt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case wt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case wt.BASE256_ENCODE:this.decodeBase256Segment(i,a,s);break;default:throw new me}u=wt.ASCII_ENCODE}while(u!==wt.PAD_ENCODE&&i.available()>0);return l.length()>0&&a.append(l.toString()),new Fe(t,a.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,i,a){let l=!1;do{let s=t.readBits(8);if(s===0)throw new me;if(s<=128)return l&&(s+=128),i.append(String.fromCharCode(s-1)),wt.ASCII_ENCODE;if(s===129)return wt.PAD_ENCODE;if(s<=229){const u=s-130;u<10&&i.append("0"),i.append(""+u)}else switch(s){case 230:return wt.C40_ENCODE;case 231:return wt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return wt.ANSIX12_ENCODE;case 239:return wt.TEXT_ENCODE;case 240:return wt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new me;break}}while(t.available()>0);return wt.ASCII_ENCODE}static decodeC40Segment(t,i){let a=!1;const l=[];let s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let c=0;c<3;c++){const g=l[c];switch(s){case 0:if(g<3)s=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[g];a?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):i.append(p)}else throw new me;break;case 1:a?(i.append(String.fromCharCode(g+128)),a=!1):i.append(String.fromCharCode(g)),s=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[g];a?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):i.append(p)}else switch(g){case 27:i.append("");break;case 30:a=!0;break;default:throw new me}s=0;break;case 3:a?(i.append(String.fromCharCode(g+224)),a=!1):i.append(String.fromCharCode(g+96)),s=0;break;default:throw new me}}}while(t.available()>0)}static decodeTextSegment(t,i){let a=!1,l=[],s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let c=0;c<3;c++){const g=l[c];switch(s){case 0:if(g<3)s=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[g];a?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):i.append(p)}else throw new me;break;case 1:a?(i.append(String.fromCharCode(g+128)),a=!1):i.append(String.fromCharCode(g)),s=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[g];a?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):i.append(p)}else switch(g){case 27:i.append("");break;case 30:a=!0;break;default:throw new me}s=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[g];a?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):i.append(p),s=0}else throw new me;break;default:throw new me}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const a=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),a);for(let s=0;s<3;s++){const u=a[s];switch(u){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(u<14)i.append(String.fromCharCode(u+44));else if(u<40)i.append(String.fromCharCode(u+51));else throw new me;break}}}while(t.available()>0)}static parseTwoBytes(t,i,a){let l=(t<<8)+i-1,s=Math.floor(l/1600);a[0]=s,l-=s*1600,s=Math.floor(l/40),a[1]=s,a[2]=l-s*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,i,a){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let u;if(s===0?u=t.available()/8|0:s<250?u=s:u=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),u<0)throw new me;const c=new Uint8Array(u);for(let g=0;g<u;g++){if(t.available()<8)throw new me;c[g]=this.unrandomize255State(t.readBits(8),l++)}a.push(c);try{i.append(Et.decode(c,De.ISO88591))}catch(g){throw new Tt("Platform does not support required encoding: "+g.message)}}static unrandomize255State(t,i){const a=149*i%255+1,l=t-a;return l>=0?l:l+256}}Ei.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ei.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ei.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ei.TEXT_SHIFT2_SET_CHARS=Ei.C40_SHIFT2_SET_CHARS,Ei.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Qo{constructor(){this.rsDecoder=new Yt(Be.DATA_MATRIX_FIELD_256)}decode(t){const i=new va(t),a=i.getVersion(),l=i.readCodewords(),s=Na.getDataBlocks(l,a);let u=0;for(let p of s)u+=p.getNumDataCodewords();const c=new Uint8Array(u),g=s.length;for(let p=0;p<g;p++){const C=s[p],T=C.getCodewords(),v=C.getNumDataCodewords();this.correctErrors(T,v);for(let _=0;_<v;_++)c[_*g+p]=T[_]}return Ei.decode(c)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new ne}for(let l=0;l<i;l++)t[l]=a[l]}}class Ft{constructor(t){this.image=t,this.rectangleDetector=new Xt(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new K;i=this.shiftToModuleCenter(i);const a=i[0],l=i[1],s=i[2],u=i[3];let c=this.transitionsBetween(a,u)+1,g=this.transitionsBetween(s,u)+1;(c&1)===1&&(c+=1),(g&1)===1&&(g+=1),4*c<7*g&&4*g<7*c&&(c=g=Math.max(c,g));let p=Ft.sampleGrid(this.image,a,l,s,u,c,g);return new Sa(p,[a,l,s,u])}static shiftPoint(t,i,a){let l=(i.getX()-t.getX())/(a+1),s=(i.getY()-t.getY())/(a+1);return new Ne(t.getX()+l,t.getY()+s)}static moveAway(t,i,a){let l=t.getX(),s=t.getY();return l<i?l-=1:l+=1,s<a?s-=1:s+=1,new Ne(l,s)}detectSolid1(t){let i=t[0],a=t[1],l=t[3],s=t[2],u=this.transitionsBetween(i,a),c=this.transitionsBetween(a,l),g=this.transitionsBetween(l,s),p=this.transitionsBetween(s,i),C=u,T=[s,i,a,l];return C>c&&(C=c,T[0]=i,T[1]=a,T[2]=l,T[3]=s),C>g&&(C=g,T[0]=a,T[1]=l,T[2]=s,T[3]=i),C>p&&(T[0]=l,T[1]=s,T[2]=i,T[3]=a),T}detectSolid2(t){let i=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s),c=Ft.shiftPoint(a,l,(u+1)*4),g=Ft.shiftPoint(l,a,(u+1)*4),p=this.transitionsBetween(c,i),C=this.transitionsBetween(g,s);return p<C?(t[0]=i,t[1]=a,t[2]=l,t[3]=s):(t[0]=a,t[1]=l,t[2]=s,t[3]=i),t}correctTopRight(t){let i=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s),c=this.transitionsBetween(a,s),g=Ft.shiftPoint(i,a,(c+1)*4),p=Ft.shiftPoint(l,a,(u+1)*4);u=this.transitionsBetween(g,s),c=this.transitionsBetween(p,s);let C=new Ne(s.getX()+(l.getX()-a.getX())/(u+1),s.getY()+(l.getY()-a.getY())/(u+1)),T=new Ne(s.getX()+(i.getX()-a.getX())/(c+1),s.getY()+(i.getY()-a.getY())/(c+1));if(!this.isValid(C))return this.isValid(T)?T:null;if(!this.isValid(T))return C;let v=this.transitionsBetween(g,C)+this.transitionsBetween(p,C),_=this.transitionsBetween(g,T)+this.transitionsBetween(p,T);return v>_?C:T}shiftToModuleCenter(t){let i=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s)+1,c=this.transitionsBetween(l,s)+1,g=Ft.shiftPoint(i,a,c*4),p=Ft.shiftPoint(l,a,u*4);u=this.transitionsBetween(g,s)+1,c=this.transitionsBetween(p,s)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);let C=(i.getX()+a.getX()+l.getX()+s.getX())/4,T=(i.getY()+a.getY()+l.getY()+s.getY())/4;i=Ft.moveAway(i,C,T),a=Ft.moveAway(a,C,T),l=Ft.moveAway(l,C,T),s=Ft.moveAway(s,C,T);let v,_;return g=Ft.shiftPoint(i,a,c*4),g=Ft.shiftPoint(g,s,u*4),v=Ft.shiftPoint(a,i,c*4),v=Ft.shiftPoint(v,l,u*4),p=Ft.shiftPoint(l,s,c*4),p=Ft.shiftPoint(p,a,u*4),_=Ft.shiftPoint(s,l,c*4),_=Ft.shiftPoint(_,i,u*4),[g,v,p,_]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,a,l,s,u,c){return Pn.getInstance().sampleGrid(t,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(t,i){let a=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(i.getX()),u=Math.trunc(i.getY()),c=Math.abs(u-l)>Math.abs(s-a);if(c){let F=a;a=l,l=F,F=s,s=u,u=F}let g=Math.abs(s-a),p=Math.abs(u-l),C=-g/2,T=l<u?1:-1,v=a<s?1:-1,_=0,z=this.image.get(c?l:a,c?a:l);for(let F=a,V=l;F!==s;F+=v){let W=this.image.get(c?V:F,c?F:V);if(W!==z&&(_++,z=W),C+=p,C>0){if(V===u)break;V+=T,C-=g}}return _}}class wi{constructor(){this.decoder=new Qo}decode(t,i=null){let a,l;if(i!=null&&i.has(je.PURE_BARCODE)){const p=wi.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(p),l=wi.NO_POINTS}else{const p=new Ft(t.getBlackMatrix()).detect();a=this.decoder.decode(p.getBits()),l=p.getPoints()}const s=a.getRawBytes(),u=new re(a.getText(),s,8*s.length,l,te.DATA_MATRIX,fe.currentTimeMillis()),c=a.getByteSegments();c!=null&&u.putMetadata(Ce.BYTE_SEGMENTS,c);const g=a.getECLevel();return g!=null&&u.putMetadata(Ce.ERROR_CORRECTION_LEVEL,g),u}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i==null||a==null)throw new K;const l=this.moduleSize(i,t);let s=i[1];const u=a[1];let c=i[0];const p=(a[0]-c+1)/l,C=(u-s+1)/l;if(p<=0||C<=0)throw new K;const T=l/2;s+=T,c+=T;const v=new bt(p,C);for(let _=0;_<C;_++){const z=s+_*l;for(let F=0;F<p;F++)t.get(c+F*l,z)&&v.set(F,_)}return v}static moduleSize(t,i){const a=i.getWidth();let l=t[0];const s=t[1];for(;l<a&&i.get(l,s);)l++;if(l===a)throw new K;const u=l-t[0];if(u===0)throw new K;return u}}wi.NO_POINTS=[];class Qr extends de{constructor(t=500){super(new wi,t)}}var Ma;(function(b){b[b.L=0]="L",b[b.M=1]="M",b[b.Q=2]="Q",b[b.H=3]="H"})(Ma||(Ma={}));class it{constructor(t,i,a){this.value=t,this.stringValue=i,this.bits=a,it.FOR_BITS.set(a,this),it.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return it.L;case"M":return it.M;case"Q":return it.Q;case"H":return it.H;default:throw new L(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof it))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=it.FOR_BITS.size)throw new k;return it.FOR_BITS.get(t)}}it.FOR_BITS=new Map,it.FOR_VALUE=new Map,it.L=new it(Ma.L,"L",1),it.M=new it(Ma.M,"M",0),it.Q=new it(Ma.Q,"Q",3),it.H=new it(Ma.H,"H",2);class cn{constructor(t){this.errorCorrectionLevel=it.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return oe.bitCount(t^i)}static decodeFormatInformation(t,i){const a=cn.doDecodeFormatInformation(t,i);return a!==null?a:cn.doDecodeFormatInformation(t^cn.FORMAT_INFO_MASK_QR,i^cn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let a=Number.MAX_SAFE_INTEGER,l=0;for(const s of cn.FORMAT_INFO_DECODE_LOOKUP){const u=s[0];if(u===t||u===i)return new cn(s[1]);let c=cn.numBitsDiffering(t,u);c<a&&(l=s[1],a=c),t!==i&&(c=cn.numBitsDiffering(i,u),c<a&&(l=s[1],a=c))}return a<=3?new cn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof cn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}cn.FORMAT_INFO_MASK_QR=21522,cn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const a of i)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(t,i,...a){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=a;let l=0;const s=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();for(const c of u)l+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new me;try{return this.getVersionForNumber((t-17)/4)}catch{throw new me}}static getVersionForNumber(t){if(t<1||t>40)throw new k;return Re.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<Re.VERSION_DECODE_INFO.length;l++){const s=Re.VERSION_DECODE_INFO[l];if(s===t)return Re.getVersionForNumber(l+7);const u=cn.numBitsDiffering(t,s);u<i&&(a=l+7,i=u)}return i<=3?Re.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new bt(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const s=this.alignmentPatternCenters[l]-2;for(let u=0;u<a;u++)l===0&&(u===0||u===a-1)||l===a-1&&u===0||i.setRegion(this.alignmentPatternCenters[u]-2,s,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new Y(7,new R(1,19)),new Y(10,new R(1,16)),new Y(13,new R(1,13)),new Y(17,new R(1,9))),new Re(2,Int32Array.from([6,18]),new Y(10,new R(1,34)),new Y(16,new R(1,28)),new Y(22,new R(1,22)),new Y(28,new R(1,16))),new Re(3,Int32Array.from([6,22]),new Y(15,new R(1,55)),new Y(26,new R(1,44)),new Y(18,new R(2,17)),new Y(22,new R(2,13))),new Re(4,Int32Array.from([6,26]),new Y(20,new R(1,80)),new Y(18,new R(2,32)),new Y(26,new R(2,24)),new Y(16,new R(4,9))),new Re(5,Int32Array.from([6,30]),new Y(26,new R(1,108)),new Y(24,new R(2,43)),new Y(18,new R(2,15),new R(2,16)),new Y(22,new R(2,11),new R(2,12))),new Re(6,Int32Array.from([6,34]),new Y(18,new R(2,68)),new Y(16,new R(4,27)),new Y(24,new R(4,19)),new Y(28,new R(4,15))),new Re(7,Int32Array.from([6,22,38]),new Y(20,new R(2,78)),new Y(18,new R(4,31)),new Y(18,new R(2,14),new R(4,15)),new Y(26,new R(4,13),new R(1,14))),new Re(8,Int32Array.from([6,24,42]),new Y(24,new R(2,97)),new Y(22,new R(2,38),new R(2,39)),new Y(22,new R(4,18),new R(2,19)),new Y(26,new R(4,14),new R(2,15))),new Re(9,Int32Array.from([6,26,46]),new Y(30,new R(2,116)),new Y(22,new R(3,36),new R(2,37)),new Y(20,new R(4,16),new R(4,17)),new Y(24,new R(4,12),new R(4,13))),new Re(10,Int32Array.from([6,28,50]),new Y(18,new R(2,68),new R(2,69)),new Y(26,new R(4,43),new R(1,44)),new Y(24,new R(6,19),new R(2,20)),new Y(28,new R(6,15),new R(2,16))),new Re(11,Int32Array.from([6,30,54]),new Y(20,new R(4,81)),new Y(30,new R(1,50),new R(4,51)),new Y(28,new R(4,22),new R(4,23)),new Y(24,new R(3,12),new R(8,13))),new Re(12,Int32Array.from([6,32,58]),new Y(24,new R(2,92),new R(2,93)),new Y(22,new R(6,36),new R(2,37)),new Y(26,new R(4,20),new R(6,21)),new Y(28,new R(7,14),new R(4,15))),new Re(13,Int32Array.from([6,34,62]),new Y(26,new R(4,107)),new Y(22,new R(8,37),new R(1,38)),new Y(24,new R(8,20),new R(4,21)),new Y(22,new R(12,11),new R(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new Y(30,new R(3,115),new R(1,116)),new Y(24,new R(4,40),new R(5,41)),new Y(20,new R(11,16),new R(5,17)),new Y(24,new R(11,12),new R(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new Y(22,new R(5,87),new R(1,88)),new Y(24,new R(5,41),new R(5,42)),new Y(30,new R(5,24),new R(7,25)),new Y(24,new R(11,12),new R(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new Y(24,new R(5,98),new R(1,99)),new Y(28,new R(7,45),new R(3,46)),new Y(24,new R(15,19),new R(2,20)),new Y(30,new R(3,15),new R(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new Y(28,new R(1,107),new R(5,108)),new Y(28,new R(10,46),new R(1,47)),new Y(28,new R(1,22),new R(15,23)),new Y(28,new R(2,14),new R(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new Y(30,new R(5,120),new R(1,121)),new Y(26,new R(9,43),new R(4,44)),new Y(28,new R(17,22),new R(1,23)),new Y(28,new R(2,14),new R(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new Y(28,new R(3,113),new R(4,114)),new Y(26,new R(3,44),new R(11,45)),new Y(26,new R(17,21),new R(4,22)),new Y(26,new R(9,13),new R(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new Y(28,new R(3,107),new R(5,108)),new Y(26,new R(3,41),new R(13,42)),new Y(30,new R(15,24),new R(5,25)),new Y(28,new R(15,15),new R(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new Y(28,new R(4,116),new R(4,117)),new Y(26,new R(17,42)),new Y(28,new R(17,22),new R(6,23)),new Y(30,new R(19,16),new R(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new Y(28,new R(2,111),new R(7,112)),new Y(28,new R(17,46)),new Y(30,new R(7,24),new R(16,25)),new Y(24,new R(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new Y(30,new R(4,121),new R(5,122)),new Y(28,new R(4,47),new R(14,48)),new Y(30,new R(11,24),new R(14,25)),new Y(30,new R(16,15),new R(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new Y(30,new R(6,117),new R(4,118)),new Y(28,new R(6,45),new R(14,46)),new Y(30,new R(11,24),new R(16,25)),new Y(30,new R(30,16),new R(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new Y(26,new R(8,106),new R(4,107)),new Y(28,new R(8,47),new R(13,48)),new Y(30,new R(7,24),new R(22,25)),new Y(30,new R(22,15),new R(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new Y(28,new R(10,114),new R(2,115)),new Y(28,new R(19,46),new R(4,47)),new Y(28,new R(28,22),new R(6,23)),new Y(30,new R(33,16),new R(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new Y(30,new R(8,122),new R(4,123)),new Y(28,new R(22,45),new R(3,46)),new Y(30,new R(8,23),new R(26,24)),new Y(30,new R(12,15),new R(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new R(3,117),new R(10,118)),new Y(28,new R(3,45),new R(23,46)),new Y(30,new R(4,24),new R(31,25)),new Y(30,new R(11,15),new R(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new R(7,116),new R(7,117)),new Y(28,new R(21,45),new R(7,46)),new Y(30,new R(1,23),new R(37,24)),new Y(30,new R(19,15),new R(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new R(5,115),new R(10,116)),new Y(28,new R(19,47),new R(10,48)),new Y(30,new R(15,24),new R(25,25)),new Y(30,new R(23,15),new R(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new R(13,115),new R(3,116)),new Y(28,new R(2,46),new R(29,47)),new Y(30,new R(42,24),new R(1,25)),new Y(30,new R(23,15),new R(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new R(17,115)),new Y(28,new R(10,46),new R(23,47)),new Y(30,new R(10,24),new R(35,25)),new Y(30,new R(19,15),new R(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new R(17,115),new R(1,116)),new Y(28,new R(14,46),new R(21,47)),new Y(30,new R(29,24),new R(19,25)),new Y(30,new R(11,15),new R(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new R(13,115),new R(6,116)),new Y(28,new R(14,46),new R(23,47)),new Y(30,new R(44,24),new R(7,25)),new Y(30,new R(59,16),new R(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new R(12,121),new R(7,122)),new Y(28,new R(12,47),new R(26,48)),new Y(30,new R(39,24),new R(14,25)),new Y(30,new R(22,15),new R(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new R(6,121),new R(14,122)),new Y(28,new R(6,47),new R(34,48)),new Y(30,new R(46,24),new R(10,25)),new Y(30,new R(2,15),new R(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new R(17,122),new R(4,123)),new Y(28,new R(29,46),new R(14,47)),new Y(30,new R(49,24),new R(10,25)),new Y(30,new R(24,15),new R(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new R(4,122),new R(18,123)),new Y(28,new R(13,46),new R(32,47)),new Y(30,new R(48,24),new R(14,25)),new Y(30,new R(42,15),new R(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new R(20,117),new R(4,118)),new Y(28,new R(40,47),new R(7,48)),new Y(30,new R(43,24),new R(22,25)),new Y(30,new R(10,15),new R(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new R(19,118),new R(6,119)),new Y(28,new R(18,47),new R(31,48)),new Y(30,new R(34,24),new R(34,25)),new Y(30,new R(20,15),new R(61,16)))];var ln;(function(b){b[b.DATA_MASK_000=0]="DATA_MASK_000",b[b.DATA_MASK_001=1]="DATA_MASK_001",b[b.DATA_MASK_010=2]="DATA_MASK_010",b[b.DATA_MASK_011=3]="DATA_MASK_011",b[b.DATA_MASK_100=4]="DATA_MASK_100",b[b.DATA_MASK_101=5]="DATA_MASK_101",b[b.DATA_MASK_110=6]="DATA_MASK_110",b[b.DATA_MASK_111=7]="DATA_MASK_111"})(ln||(ln={}));class Hn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let a=0;a<i;a++)for(let l=0;l<i;l++)this.isMasked(a,l)&&t.flip(l,a)}}Hn.values=new Map([[ln.DATA_MASK_000,new Hn(ln.DATA_MASK_000,(b,t)=>(b+t&1)===0)],[ln.DATA_MASK_001,new Hn(ln.DATA_MASK_001,(b,t)=>(b&1)===0)],[ln.DATA_MASK_010,new Hn(ln.DATA_MASK_010,(b,t)=>t%3===0)],[ln.DATA_MASK_011,new Hn(ln.DATA_MASK_011,(b,t)=>(b+t)%3===0)],[ln.DATA_MASK_100,new Hn(ln.DATA_MASK_100,(b,t)=>(Math.floor(b/2)+Math.floor(t/3)&1)===0)],[ln.DATA_MASK_101,new Hn(ln.DATA_MASK_101,(b,t)=>b*t%6===0)],[ln.DATA_MASK_110,new Hn(ln.DATA_MASK_110,(b,t)=>b*t%6<3)],[ln.DATA_MASK_111,new Hn(ln.DATA_MASK_111,(b,t)=>(b+t+b*t%3&1)===0)]]);class Ia{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new me;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const i=this.bitMatrix.getHeight();let a=0;const l=i-7;for(let s=i-1;s>=l;s--)a=this.copyBit(8,s,a);for(let s=i-8;s<i;s++)a=this.copyBit(s,8,a);if(this.parsedFormatInfo=cn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Re.getVersionForNumber(i);let a=0;const l=t-11;for(let u=5;u>=0;u--)for(let c=t-9;c>=l;c--)a=this.copyBit(c,u,a);let s=Re.decodeVersionInformation(a);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;a=0;for(let u=5;u>=0;u--)for(let c=t-9;c>=l;c--)a=this.copyBit(u,c,a);if(s=Re.decodeVersionInformation(a),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new me}copyBit(t,i,a){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),a=Hn.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const s=i.buildFunctionPattern();let u=!0;const c=new Uint8Array(i.getTotalCodewords());let g=0,p=0,C=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let v=0;v<l;v++){const _=u?l-1-v:v;for(let z=0;z<2;z++)s.get(T-z,_)||(C++,p<<=1,this.bitMatrix.get(T-z,_)&&(p|=1),C===8&&(c[g++]=p,C=0,p=0))}u=!u}if(g!==i.getTotalCodewords())throw new me;return c}remask(){if(this.parsedFormatInfo===null)return;const t=Hn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,a=t.getWidth();i<a;i++)for(let l=i+1,s=t.getHeight();l<s;l++)t.get(i,l)!==t.get(l,i)&&(t.flip(l,i),t.flip(i,l))}}class Dl{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,a){if(t.length!==i.getTotalCodewords())throw new k;const l=i.getECBlocksForLevel(a);let s=0;const u=l.getECBlocks();for(const z of u)s+=z.getCount();const c=new Array(s);let g=0;for(const z of u)for(let F=0;F<z.getCount();F++){const V=z.getDataCodewords(),W=l.getECCodewordsPerBlock()+V;c[g++]=new Dl(V,new Uint8Array(W))}const p=c[0].codewords.length;let C=c.length-1;for(;C>=0&&c[C].codewords.length!==p;)C--;C++;const T=p-l.getECCodewordsPerBlock();let v=0;for(let z=0;z<T;z++)for(let F=0;F<g;F++)c[F].codewords[z]=t[v++];for(let z=C;z<g;z++)c[z].codewords[T]=t[v++];const _=c[0].codewords.length;for(let z=T;z<_;z++)for(let F=0;F<g;F++){const V=F<C?z:z+1;c[F].codewords[V]=t[v++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var jn;(function(b){b[b.TERMINATOR=0]="TERMINATOR",b[b.NUMERIC=1]="NUMERIC",b[b.ALPHANUMERIC=2]="ALPHANUMERIC",b[b.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",b[b.BYTE=4]="BYTE",b[b.ECI=5]="ECI",b[b.KANJI=6]="KANJI",b[b.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",b[b.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",b[b.HANZI=9]="HANZI"})(jn||(jn={}));class ke{constructor(t,i,a,l){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=l,ke.FOR_BITS.set(l,this),ke.FOR_VALUE.set(t,this)}static forBits(t){const i=ke.FOR_BITS.get(t);if(i===void 0)throw new k;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ke))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}ke.FOR_BITS=new Map,ke.FOR_VALUE=new Map,ke.TERMINATOR=new ke(jn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ke.NUMERIC=new ke(jn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ke.ALPHANUMERIC=new ke(jn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ke.STRUCTURED_APPEND=new ke(jn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ke.BYTE=new ke(jn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ke.ECI=new ke(jn.ECI,"ECI",Int32Array.from([0,0,0]),7),ke.KANJI=new ke(jn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ke.FNC1_FIRST_POSITION=new ke(jn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ke.FNC1_SECOND_POSITION=new ke(jn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ke.HANZI=new ke(jn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(t,i,a,l){const s=new Jn(t);let u=new $e;const c=new Array;let g=-1,p=-1;try{let C=null,T=!1,v;do{if(s.available()<4)v=ke.TERMINATOR;else{const _=s.readBits(4);v=ke.forBits(_)}switch(v){case ke.TERMINATOR:break;case ke.FNC1_FIRST_POSITION:case ke.FNC1_SECOND_POSITION:T=!0;break;case ke.STRUCTURED_APPEND:if(s.available()<16)throw new me;g=s.readBits(8),p=s.readBits(8);break;case ke.ECI:const _=Ut.parseECIValue(s);if(C=X.getCharacterSetECIByValue(_),C===null)throw new me;break;case ke.HANZI:const z=s.readBits(4),F=s.readBits(v.getCharacterCountBits(i));z===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(s,u,F);break;default:const V=s.readBits(v.getCharacterCountBits(i));switch(v){case ke.NUMERIC:Ut.decodeNumericSegment(s,u,V);break;case ke.ALPHANUMERIC:Ut.decodeAlphanumericSegment(s,u,V,T);break;case ke.BYTE:Ut.decodeByteSegment(s,u,V,C,c,l);break;case ke.KANJI:Ut.decodeKanjiSegment(s,u,V);break;default:throw new me}break}}while(v!==ke.TERMINATOR)}catch{throw new me}return new Fe(t,u.toString(),c.length===0?null:c,a===null?null:a.toString(),g,p)}static decodeHanziSegment(t,i,a){if(a*13>t.available())throw new me;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=t.readBits(13);let c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,l[s]=c>>8&255,l[s+1]=c&255,s+=2,a--}try{i.append(Et.decode(l,De.GB2312))}catch(u){throw new me(u)}}static decodeKanjiSegment(t,i,a){if(a*13>t.available())throw new me;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=t.readBits(13);let c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,l[s]=c>>8,l[s+1]=c,s+=2,a--}try{i.append(Et.decode(l,De.SHIFT_JIS))}catch(u){throw new me(u)}}static decodeByteSegment(t,i,a,l,s,u){if(8*a>t.available())throw new me;const c=new Uint8Array(a);for(let p=0;p<a;p++)c[p]=t.readBits(8);let g;l===null?g=De.guessEncoding(c,u):g=l.getName();try{i.append(Et.decode(c,g))}catch(p){throw new me(p)}s.push(c)}static toAlphaNumericChar(t){if(t>=Ut.ALPHANUMERIC_CHARS.length)throw new me;return Ut.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,a,l){const s=i.length();for(;a>1;){if(t.available()<11)throw new me;const u=t.readBits(11);i.append(Ut.toAlphaNumericChar(Math.floor(u/45))),i.append(Ut.toAlphaNumericChar(u%45)),a-=2}if(a===1){if(t.available()<6)throw new me;i.append(Ut.toAlphaNumericChar(t.readBits(6)))}if(l)for(let u=s;u<i.length();u++)i.charAt(u)==="%"&&(u<i.length()-1&&i.charAt(u+1)==="%"?i.deleteCharAt(u+1):i.setCharAt(u,""))}static decodeNumericSegment(t,i,a){for(;a>=3;){if(t.available()<10)throw new me;const l=t.readBits(10);if(l>=1e3)throw new me;i.append(Ut.toAlphaNumericChar(Math.floor(l/100))),i.append(Ut.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Ut.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(t.available()<7)throw new me;const l=t.readBits(7);if(l>=100)throw new me;i.append(Ut.toAlphaNumericChar(Math.floor(l/10))),i.append(Ut.toAlphaNumericChar(l%10))}else if(a===1){if(t.available()<4)throw new me;const l=t.readBits(4);if(l>=10)throw new me;i.append(Ut.toAlphaNumericChar(l))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const a=t.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=t.readBits(16);return(i&31)<<16&4294967295|a}throw new me}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class _s{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Wo{constructor(){this.rsDecoder=new Yt(Be.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(bt.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const a=new Ia(t);let l=null;try{return this.decodeBitMatrixParser(a,i)}catch(s){l=s}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const s=this.decodeBitMatrixParser(a,i);return s.setOther(new _s(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,i){const a=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),u=Dl.getDataBlocks(s,a,l);let c=0;for(const C of u)c+=C.getNumDataCodewords();const g=new Uint8Array(c);let p=0;for(const C of u){const T=C.getCodewords(),v=C.getNumDataCodewords();this.correctErrors(T,v);for(let _=0;_<v;_++)g[p++]=T[_]}return Ut.decode(g,a,l,i)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new ne}for(let l=0;l<i;l++)t[l]=a[l]}}class Oa extends Ne{constructor(t,i,a){super(t,i),this.estimatedModuleSize=a}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const l=(this.getX()+i)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+a)/2;return new Oa(l,s,u)}}class Ra{constructor(t,i,a,l,s,u,c){this.image=t,this.startX=i,this.startY=a,this.width=l,this.height=s,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,a=this.width,l=t+a,s=this.startY+i/2,u=new Int32Array(3),c=this.image;for(let g=0;g<i;g++){const p=s+((g&1)===0?Math.floor((g+1)/2):-Math.floor((g+1)/2));u[0]=0,u[1]=0,u[2]=0;let C=t;for(;C<l&&!c.get(C,p);)C++;let T=0;for(;C<l;){if(c.get(C,p))if(T===1)u[1]++;else if(T===2){if(this.foundPatternCross(u)){const v=this.handlePossibleCenter(u,p,C);if(v!==null)return v}u[0]=u[2],u[1]=1,u[2]=0,T=1}else u[++T]++;else T===1&&T++,u[T]++;C++}if(this.foundPatternCross(u)){const v=this.handlePossibleCenter(u,p,l);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,a=i/2;for(let l=0;l<3;l++)if(Math.abs(i-t[l])>=a)return!1;return!0}crossCheckVertical(t,i,a,l){const s=this.image,u=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let g=t;for(;g>=0&&s.get(i,g)&&c[1]<=a;)c[1]++,g--;if(g<0||c[1]>a)return NaN;for(;g>=0&&!s.get(i,g)&&c[0]<=a;)c[0]++,g--;if(c[0]>a)return NaN;for(g=t+1;g<u&&s.get(i,g)&&c[1]<=a;)c[1]++,g++;if(g===u||c[1]>a)return NaN;for(;g<u&&!s.get(i,g)&&c[2]<=a;)c[2]++,g++;if(c[2]>a)return NaN;const p=c[0]+c[1]+c[2];return 5*Math.abs(p-l)>=2*l?NaN:this.foundPatternCross(c)?Ra.centerFromEnd(c,g):NaN}handlePossibleCenter(t,i,a){const l=t[0]+t[1]+t[2],s=Ra.centerFromEnd(t,a),u=this.crossCheckVertical(i,s,2*t[1],l);if(!isNaN(u)){const c=(t[0]+t[1]+t[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(c,u,s))return p.combineEstimate(u,s,c);const g=new Oa(s,u,c);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class pr extends Ne{constructor(t,i,a,l){super(t,i),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const l=this.count+1,s=(this.count*this.getX()+i)/l,u=(this.count*this.getY()+t)/l,c=(this.count*this.estimatedModuleSize+a)/l;return new pr(s,u,c,l)}}class _a{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class jt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(je.TRY_HARDER)!==void 0,a=t!=null&&t.get(je.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),u=l.getWidth();let c=Math.floor(3*s/(4*jt.MAX_MODULES));(c<jt.MIN_SKIP||i)&&(c=jt.MIN_SKIP);let g=!1;const p=new Int32Array(5);for(let T=c-1;T<s&&!g;T+=c){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let v=0;for(let _=0;_<u;_++)if(l.get(_,T))(v&1)===1&&v++,p[v]++;else if((v&1)===0)if(v===4)if(jt.foundPatternCross(p)){if(this.handlePossibleCenter(p,T,_,a)===!0)if(c=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>p[2]&&(T+=F-p[2]-c,_=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,v=3;continue}v=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,v=3;else p[++v]++;else p[v]++;jt.foundPatternCross(p)&&this.handlePossibleCenter(p,T,u,a)===!0&&(c=p[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Ne.orderBestPatterns(C),new _a(C)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let s=0;s<5;s++){const u=t[s];if(u===0)return!1;i+=u}if(i<7)return!1;const a=i/7,l=a/2;return Math.abs(a-t[0])<l&&Math.abs(a-t[1])<l&&Math.abs(3*a-t[2])<3*l&&Math.abs(a-t[3])<l&&Math.abs(a-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,a,l){const s=this.getCrossCheckStateCount();let u=0;const c=this.image;for(;t>=u&&i>=u&&c.get(i-u,t-u);)s[2]++,u++;if(t<u||i<u)return!1;for(;t>=u&&i>=u&&!c.get(i-u,t-u)&&s[1]<=a;)s[1]++,u++;if(t<u||i<u||s[1]>a)return!1;for(;t>=u&&i>=u&&c.get(i-u,t-u)&&s[0]<=a;)s[0]++,u++;if(s[0]>a)return!1;const g=c.getHeight(),p=c.getWidth();for(u=1;t+u<g&&i+u<p&&c.get(i+u,t+u);)s[2]++,u++;if(t+u>=g||i+u>=p)return!1;for(;t+u<g&&i+u<p&&!c.get(i+u,t+u)&&s[3]<a;)s[3]++,u++;if(t+u>=g||i+u>=p||s[3]>=a)return!1;for(;t+u<g&&i+u<p&&c.get(i+u,t+u)&&s[4]<a;)s[4]++,u++;if(s[4]>=a)return!1;const C=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(C-l)<2*l&&jt.foundPatternCross(s)}crossCheckVertical(t,i,a,l){const s=this.image,u=s.getHeight(),c=this.getCrossCheckStateCount();let g=t;for(;g>=0&&s.get(i,g);)c[2]++,g--;if(g<0)return NaN;for(;g>=0&&!s.get(i,g)&&c[1]<=a;)c[1]++,g--;if(g<0||c[1]>a)return NaN;for(;g>=0&&s.get(i,g)&&c[0]<=a;)c[0]++,g--;if(c[0]>a)return NaN;for(g=t+1;g<u&&s.get(i,g);)c[2]++,g++;if(g===u)return NaN;for(;g<u&&!s.get(i,g)&&c[3]<a;)c[3]++,g++;if(g===u||c[3]>=a)return NaN;for(;g<u&&s.get(i,g)&&c[4]<a;)c[4]++,g++;if(c[4]>=a)return NaN;const p=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(p-l)>=2*l?NaN:jt.foundPatternCross(c)?jt.centerFromEnd(c,g):NaN}crossCheckHorizontal(t,i,a,l){const s=this.image,u=s.getWidth(),c=this.getCrossCheckStateCount();let g=t;for(;g>=0&&s.get(g,i);)c[2]++,g--;if(g<0)return NaN;for(;g>=0&&!s.get(g,i)&&c[1]<=a;)c[1]++,g--;if(g<0||c[1]>a)return NaN;for(;g>=0&&s.get(g,i)&&c[0]<=a;)c[0]++,g--;if(c[0]>a)return NaN;for(g=t+1;g<u&&s.get(g,i);)c[2]++,g++;if(g===u)return NaN;for(;g<u&&!s.get(g,i)&&c[3]<a;)c[3]++,g++;if(g===u||c[3]>=a)return NaN;for(;g<u&&s.get(g,i)&&c[4]<a;)c[4]++,g++;if(c[4]>=a)return NaN;const p=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(p-l)>=l?NaN:jt.foundPatternCross(c)?jt.centerFromEnd(c,g):NaN}handlePossibleCenter(t,i,a,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let u=jt.centerFromEnd(t,a),c=this.crossCheckVertical(i,Math.floor(u),t[2],s);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),t[2],s),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),t[2],s)))){const g=s/7;let p=!1;const C=this.possibleCenters;for(let T=0,v=C.length;T<v;T++){const _=C[T];if(_.aboutEquals(g,c,u)){C[T]=_.combineEstimate(c,u,g),p=!0;break}}if(!p){const T=new pr(u,c,g);C.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=jt.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const a=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=jt.CENTER_QUORUM&&(t++,i+=u.getEstimatedModuleSize());if(t<3)return!1;const l=i/a;let s=0;for(const u of this.possibleCenters)s+=Math.abs(u.getEstimatedModuleSize()-l);return s<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new K;const i=this.possibleCenters;let a;if(t>3){let l=0,s=0;for(const g of this.possibleCenters){const p=g.getEstimatedModuleSize();l+=p,s+=p*p}a=l/t;let u=Math.sqrt(s/t-a*a);i.sort((g,p)=>{const C=Math.abs(p.getEstimatedModuleSize()-a),T=Math.abs(g.getEstimatedModuleSize()-a);return C<T?-1:C>T?1:0});const c=Math.max(.2*a,u);for(let g=0;g<i.length&&i.length>3;g++){const p=i[g];Math.abs(p.getEstimatedModuleSize()-a)>c&&(i.splice(g,1),g--)}}if(i.length>3){let l=0;for(const s of i)l+=s.getEstimatedModuleSize();a=l/i.length,i.sort((s,u)=>{if(u.getCount()===s.getCount()){const c=Math.abs(u.getEstimatedModuleSize()-a),g=Math.abs(s.getEstimatedModuleSize()-a);return c<g?1:c>g?-1:0}else return u.getCount()-s.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}jt.CENTER_QUORUM=2,jt.MIN_SKIP=3,jt.MAX_MODULES=57;class Da{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(je.NEED_RESULT_POINT_CALLBACK);const a=new jt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const i=t.getTopLeft(),a=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(i,a,l);if(s<1)throw new K("No pattern found in proccess finder.");const u=Da.computeDimension(i,a,l,s),c=Re.getProvisionalVersionForDimension(u),g=c.getDimensionForVersion()-7;let p=null;if(c.getAlignmentPatternCenters().length>0){const _=a.getX()-i.getX()+l.getX(),z=a.getY()-i.getY()+l.getY(),F=1-3/g,V=Math.floor(i.getX()+F*(_-i.getX())),W=Math.floor(i.getY()+F*(z-i.getY()));for(let pe=4;pe<=16;pe<<=1)try{p=this.findAlignmentInRegion(s,V,W,pe);break}catch(Ae){if(!(Ae instanceof K))throw Ae}}const C=Da.createTransform(i,a,l,p,u),T=Da.sampleGrid(this.image,C,u);let v;return p===null?v=[l,i,a]:v=[l,i,a,p],new Sa(T,v)}static createTransform(t,i,a,l,s){const u=s-3.5;let c,g,p,C;return l!==null?(c=l.getX(),g=l.getY(),p=u-3,C=p):(c=i.getX()-t.getX()+a.getX(),g=i.getY()-t.getY()+a.getY(),p=u,C=u),vn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,C,3.5,u,t.getX(),t.getY(),i.getX(),i.getY(),c,g,a.getX(),a.getY())}static sampleGrid(t,i,a){return Pn.getInstance().sampleGridWithTransform(t,a,a,i)}static computeDimension(t,i,a,l){const s=We.round(Ne.distance(t,i)/l),u=We.round(Ne.distance(t,a)/l);let c=Math.floor((s+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new K("Dimensions could be not found.")}return c}calculateModuleSize(t,i,a){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,a,l){let s=this.sizeOfBlackWhiteBlackRun(t,i,a,l),u=1,c=t-(a-t);c<0?(u=t/(t-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);let g=Math.floor(i-(l-i)*u);return u=1,g<0?(u=i/(i-g),g=0):g>=this.image.getHeight()&&(u=(this.image.getHeight()-1-i)/(g-i),g=this.image.getHeight()-1),c=Math.floor(t+(c-t)*u),s+=this.sizeOfBlackWhiteBlackRun(t,i,c,g),s-1}sizeOfBlackWhiteBlackRun(t,i,a,l){const s=Math.abs(l-i)>Math.abs(a-t);if(s){let _=t;t=i,i=_,_=a,a=l,l=_}const u=Math.abs(a-t),c=Math.abs(l-i);let g=-u/2;const p=t<a?1:-1,C=i<l?1:-1;let T=0;const v=a+p;for(let _=t,z=i;_!==v;_+=p){const F=s?z:_,V=s?_:z;if(T===1===this.image.get(F,V)){if(T===2)return We.distance(_,z,t,i);T++}if(g+=c,g>0){if(z===l)break;z+=C,g-=u}}return T===2?We.distance(a+p,l,t,i):NaN}findAlignmentInRegion(t,i,a,l){const s=Math.floor(l*t),u=Math.max(0,i-s),c=Math.min(this.image.getWidth()-1,i+s);if(c-u<t*3)throw new K("Alignment top exceeds estimated module size.");const g=Math.max(0,a-s),p=Math.min(this.image.getHeight()-1,a+s);if(p-g<t*3)throw new K("Alignment bottom exceeds estimated module size.");return new Ra(this.image,u,g,c-u,p-g,t,this.resultPointCallback).find()}}class oi{constructor(){this.decoder=new Wo}getDecoder(){return this.decoder}decode(t,i){let a,l;if(i!=null&&i.get(je.PURE_BARCODE)!==void 0){const g=oi.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(g,i),l=oi.NO_POINTS}else{const g=new Da(t.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(g.getBits(),i),l=g.getPoints()}a.getOther()instanceof _s&&a.getOther().applyMirroredCorrection(l);const s=new re(a.getText(),a.getRawBytes(),void 0,l,te.QR_CODE,void 0),u=a.getByteSegments();u!==null&&s.putMetadata(Ce.BYTE_SEGMENTS,u);const c=a.getECLevel();return c!==null&&s.putMetadata(Ce.ERROR_CORRECTION_LEVEL,c),a.hasStructuredAppend()&&(s.putMetadata(Ce.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),s.putMetadata(Ce.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i===null||a===null)throw new K;const l=this.moduleSize(i,t);let s=i[1],u=a[1],c=i[0],g=a[0];if(c>=g||s>=u)throw new K;if(u-s!==g-c&&(g=c+(u-s),g>=t.getWidth()))throw new K;const p=Math.round((g-c+1)/l),C=Math.round((u-s+1)/l);if(p<=0||C<=0)throw new K;if(C!==p)throw new K;const T=Math.floor(l/2);s+=T,c+=T;const v=c+Math.floor((p-1)*l)-g;if(v>0){if(v>T)throw new K;c-=v}const _=s+Math.floor((C-1)*l)-u;if(_>0){if(_>T)throw new K;s-=_}const z=new bt(p,C);for(let F=0;F<C;F++){const V=s+Math.floor(F*l);for(let W=0;W<p;W++)t.get(c+Math.floor(W*l),V)&&z.set(W,F)}return z}static moduleSize(t,i){const a=i.getHeight(),l=i.getWidth();let s=t[0],u=t[1],c=!0,g=0;for(;s<l&&u<a;){if(c!==i.get(s,u)){if(++g===5)break;c=!c}s++,u++}if(s===l||u===a)throw new K;return(s-t[0])/7}}oi.NO_POINTS=new Array;class Ve{PDF417Common(){}static getBitCountSum(t){return We.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ve.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let a=0;for(const l of t)i[a++]=l;return i}static getCodeword(t){const i=we.binarySearch(Ve.SYMBOL_TABLE,t&262143);return i<0?-1:(Ve.CODEWORD_TABLE[i]-1)%Ve.NUMBER_OF_CODEWORDS}}Ve.NUMBER_OF_CODEWORDS=929,Ve.MAX_CODEWORDS_IN_BARCODE=Ve.NUMBER_OF_CODEWORDS-1,Ve.MIN_ROWS_IN_BARCODE=3,Ve.MAX_ROWS_IN_BARCODE=90,Ve.MODULES_IN_CODEWORD=17,Ve.MODULES_IN_STOP_PATTERN=18,Ve.BARS_IN_MODULE=8,Ve.EMPTY_INT_ARRAY=new Int32Array([]),Ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ar{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ke{static detectMultiple(t,i,a){let l=t.getBlackMatrix(),s=Ke.detect(a,l);return s.length||(l=l.clone(),l.rotate180(),s=Ke.detect(a,l)),new Ar(l,s)}static detect(t,i){const a=new Array;let l=0,s=0,u=!1;for(;l<i.getHeight();){const c=Ke.findVertices(i,l,s);if(c[0]==null&&c[3]==null){if(!u)break;u=!1,s=0;for(const g of a)g[1]!=null&&(l=Math.trunc(Math.max(l,g[1].getY()))),g[3]!=null&&(l=Math.max(l,Math.trunc(g[3].getY())));l+=Ke.ROW_STEP;continue}if(u=!0,a.push(c),!t)break;c[2]!=null?(s=Math.trunc(c[2].getX()),l=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),l=Math.trunc(c[4].getY()))}return a}static findVertices(t,i,a){const l=t.getHeight(),s=t.getWidth(),u=new Array(8);return Ke.copyToResult(u,Ke.findRowsWithPattern(t,l,s,i,a,Ke.START_PATTERN),Ke.INDEXES_START_PATTERN),u[4]!=null&&(a=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY())),Ke.copyToResult(u,Ke.findRowsWithPattern(t,l,s,i,a,Ke.STOP_PATTERN),Ke.INDEXES_STOP_PATTERN),u}static copyToResult(t,i,a){for(let l=0;l<a.length;l++)t[a[l]]=i[l]}static findRowsWithPattern(t,i,a,l,s,u){const c=new Array(4);let g=!1;const p=new Int32Array(u.length);for(;l<i;l+=Ke.ROW_STEP){let T=Ke.findGuardPattern(t,s,l,a,!1,u,p);if(T!=null){for(;l>0;){const v=Ke.findGuardPattern(t,s,--l,a,!1,u,p);if(v!=null)T=v;else{l++;break}}c[0]=new Ne(T[0],l),c[1]=new Ne(T[1],l),g=!0;break}}let C=l+1;if(g){let T=0,v=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;C<i;C++){const _=Ke.findGuardPattern(t,v[0],C,a,!1,u,p);if(_!=null&&Math.abs(v[0]-_[0])<Ke.MAX_PATTERN_DRIFT&&Math.abs(v[1]-_[1])<Ke.MAX_PATTERN_DRIFT)v=_,T=0;else{if(T>Ke.SKIPPED_ROW_COUNT_MAX)break;T++}}C-=T+1,c[2]=new Ne(v[0],C),c[3]=new Ne(v[1],C)}return C-l<Ke.BARCODE_MIN_HEIGHT&&we.fill(c,null),c}static findGuardPattern(t,i,a,l,s,u,c){we.fillWithin(c,0,c.length,0);let g=i,p=0;for(;t.get(g,a)&&g>0&&p++<Ke.MAX_PIXEL_DRIFT;)g--;let C=g,T=0,v=u.length;for(let _=s;C<l;C++)if(t.get(C,a)!==_)c[T]++;else{if(T===v-1){if(Ke.patternMatchVariance(c,u,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return new Int32Array([g,C]);g+=c[0]+c[1],fe.arraycopy(c,2,c,0,T-1),c[T-1]=0,c[T]=0,T--}else T++;c[T]=1,_=!_}return T===v-1&&Ke.patternMatchVariance(c,u,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE?new Int32Array([g,C-1]):null}static patternMatchVariance(t,i,a){let l=t.length,s=0,u=0;for(let p=0;p<l;p++)s+=t[p],u+=i[p];if(s<u)return 1/0;let c=s/u;a*=c;let g=0;for(let p=0;p<l;p++){let C=t[p],T=i[p]*c,v=C>T?C-T:T-C;if(v>a)return 1/0;g+=v}return g/s}}Ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ke.MAX_AVG_VARIANCE=.42,Ke.MAX_INDIVIDUAL_VARIANCE=.8,Ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ke.MAX_PIXEL_DRIFT=3,Ke.MAX_PATTERN_DRIFT=5,Ke.SKIPPED_ROW_COUNT_MAX=25,Ke.ROW_STEP=5,Ke.BARCODE_MIN_HEIGHT=10;class Zt{constructor(t,i){if(i.length===0)throw new k;this.field=t;let a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),fe.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let i=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)i=this.field.add(this.field.multiply(t,i),this.coefficients[l]);return i}add(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){let u=i;i=a,a=u}let l=new Int32Array(a.length),s=a.length-i.length;fe.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=this.field.add(i[u-s],a[u]);return new Zt(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Zt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Zt(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,l=t.coefficients,s=l.length,u=new Int32Array(a+s-1);for(let c=0;c<a;c++){let g=i[c];for(let p=0;p<s;p++)u[c+p]=this.field.add(u[c+p],this.field.multiply(g,l[p]))}return new Zt(this.field,u)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let a=0;a<t;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new Zt(this.field,i)}multiplyScalar(t){if(t===0)return new Zt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.multiply(this.coefficients[l],t);return new Zt(this.field,a)}multiplyByMonomial(t,i){if(t<0)throw new k;if(i===0)return new Zt(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+t);for(let s=0;s<a;s++)l[s]=this.field.multiply(this.coefficients[s],i);return new Zt(this.field,l)}toString(){let t=new $e;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(i===0||a!==1)&&t.append(a),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Bi{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new k;return this.logTable[t]}inverse(t){if(t===0)throw new pt;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class yr extends Bi{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let l=0;l<t;l++)this.expTable[l]=a,a=a*i%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Zt(this,new Int32Array([0])),this.one=new Zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new k;if(i===0)return this.zero;let a=new Int32Array(t+1);return a[0]=i,new Zt(this,a)}}yr.PDF417_GF=new yr(Ve.NUMBER_OF_CODEWORDS,3);class Er{constructor(){this.field=yr.PDF417_GF}decode(t,i,a){let l=new Zt(this.field,t),s=new Int32Array(i),u=!1;for(let z=i;z>0;z--){let F=l.evaluateAt(this.field.exp(z));s[i-z]=F,F!==0&&(u=!0)}if(!u)return 0;let c=this.field.getOne();if(a!=null)for(const z of a){let F=this.field.exp(t.length-1-z),V=new Zt(this.field,new Int32Array([this.field.subtract(0,F),1]));c=c.multiply(V)}let g=new Zt(this.field,s),p=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),g,i),C=p[0],T=p[1],v=this.findErrorLocations(C),_=this.findErrorMagnitudes(T,C,v);for(let z=0;z<v.length;z++){let F=t.length-1-this.field.log(v[z]);if(F<0)throw ne.getChecksumInstance();t[F]=this.field.subtract(t[F],_[z])}return v.length}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){let v=t;t=i,i=v}let l=t,s=i,u=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(a/2);){let v=l,_=u;if(l=s,u=c,l.isZero())throw ne.getChecksumInstance();s=v;let z=this.field.getZero(),F=l.getCoefficient(l.getDegree()),V=this.field.inverse(F);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let W=s.getDegree()-l.getDegree(),pe=this.field.multiply(s.getCoefficient(s.getDegree()),V);z=z.add(this.field.buildMonomial(W,pe)),s=s.subtract(l.multiplyByMonomial(W,pe))}c=z.multiply(u).subtract(_).negative()}let g=c.getCoefficient(0);if(g===0)throw ne.getChecksumInstance();let p=this.field.inverse(g),C=c.multiply(p),T=s.multiply(p);return[C,T]}findErrorLocations(t){let i=t.getDegree(),a=new Int32Array(i),l=0;for(let s=1;s<this.field.getSize()&&l<i;s++)t.evaluateAt(s)===0&&(a[l]=this.field.inverse(s),l++);if(l!==i)throw ne.getChecksumInstance();return a}findErrorMagnitudes(t,i,a){let l=i.getDegree(),s=new Int32Array(l);for(let p=1;p<=l;p++)s[l-p]=this.field.multiply(p,i.getCoefficient(p));let u=new Zt(this.field,s),c=a.length,g=new Int32Array(c);for(let p=0;p<c;p++){let C=this.field.inverse(a[p]),T=this.field.subtract(0,t.evaluateAt(C)),v=this.field.inverse(u.evaluateAt(C));g[p]=this.field.multiply(T,v)}return g}}class Li{constructor(t,i,a,l,s){t instanceof Li?this.constructor_2(t):this.constructor_1(t,i,a,l,s)}constructor_1(t,i,a,l,s){const u=i==null||a==null,c=l==null||s==null;if(u&&c)throw new K;u?(i=new Ne(0,l.getY()),a=new Ne(0,s.getY())):c&&(l=new Ne(t.getWidth()-1,i.getY()),s=new Ne(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=i,this.bottomLeft=a,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Li(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,a){let l=this.topLeft,s=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(t>0){let g=a?this.topLeft:this.topRight,p=Math.trunc(g.getY()-t);p<0&&(p=0);let C=new Ne(g.getX(),p);a?l=C:u=C}if(i>0){let g=a?this.bottomLeft:this.bottomRight,p=Math.trunc(g.getY()+i);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let C=new Ne(g.getX(),p);a?s=C:c=C}return new Li(this.image,l,s,u,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Wr{constructor(t,i,a,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ui{constructor(){this.buffer=""}static form(t,i){let a=-1;function l(u,c,g,p,C,T){if(u==="%%")return"%";if(i[++a]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let v=C?parseInt(C.substr(1)):void 0,_;switch(T){case"s":_=i[a];break;case"c":_=i[a][0];break;case"f":_=parseFloat(i[a]).toFixed(u);break;case"p":_=parseFloat(i[a]).toPrecision(u);break;case"e":_=parseFloat(i[a]).toExponential(u);break;case"x":_=parseInt(i[a]).toString(v||16);break;case"d":_=parseFloat(parseInt(i[a],v||10).toPrecision(u)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(v);let z=parseInt(g),F=g&&g[0]+""=="0"?"0":" ";for(;_.length<z;)_=c!==void 0?_+F:F+_;return _}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...i){this.buffer+=Ui.form(t,i)}toString(){return this.buffer}}class Ba{constructor(t){this.boundingBox=new Li(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let a=1;a<Ba.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(t)-a;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(t)+a,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ui;let i=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return t.toString()}}Ba.MAX_NEARBY_DISTANCE=5;class fn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[a,l]of this.values.entries()){const s={getKey:()=>a,getValue:()=>l};s.getValue()>t?(t=s.getValue(),i=[],i.push(s.getKey())):s.getValue()===t&&i.push(s.getKey())}return Ve.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class ki extends Ba{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=-1,p=1,C=0;for(let T=u;T<c;T++){if(i[T]==null)continue;let v=i[T],_=v.getRowNumber()-g;if(_===0)C++;else if(_===1)p=Math.max(p,C),C=1,g=v.getRowNumber();else if(_<0||v.getRowNumber()>=t.getRowCount()||_>T)i[T]=null;else{let z;p>2?z=(p-2)*_:z=_;let F=z>=T;for(let V=1;V<=z&&!F;V++)F=i[T-V]!=null;F?i[T]=null:(g=v.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.getCodewords(),g=-1;for(let p=s;p<u;p++){if(c[p]==null)continue;let C=c[p];C.setRowNumberAsRowIndicatorColumn();let T=C.getRowNumber()-g;T===0||(T===1?g=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?c[p]=null:g=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new fn,a=new fn,l=new fn,s=new fn;for(let c of t){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let g=c.getValue()%30,p=c.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:a.setValue(g*3+1);break;case 1:s.setValue(g/3),l.setValue(g%3);break;case 2:i.setValue(g+1);break}}if(i.getValue().length===0||a.getValue().length===0||l.getValue().length===0||s.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Ve.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Ve.MAX_ROWS_IN_BARCODE)return null;let u=new Wr(i.getValue()[0],a.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,i){for(let a=0;a<t.length;a++){let l=t[a];if(t[a]==null)continue;let s=l.getValue()%30,u=l.getRowNumber();if(u>i.getRowCount()){t[a]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==i.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(s/3)!==i.getErrorCorrectionLevel()||s%3!==i.getRowCountLowerPart())&&(t[a]=null);break;case 2:s+1!==i.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class zi{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ve.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&i[a]!=null&&t[a].getRowNumber()===i[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[a];s!=null&&(s.setRowNumber(t[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),s=0;for(let u=this.barcodeColumnCount+1;u>0&&s<this.ADJUST_ROW_NUMBER_SKIP;u--){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(s=zi.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),s=0;for(let u=1;u<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;u++){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(s=zi.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,a){if(!this.detectionResultColumns[t-1])return;let l=a[i],s=this.detectionResultColumns[t-1].getCodewords(),u=s;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let c=new Array(14);c[2]=s[i],c[3]=u[i],i>0&&(c[0]=a[i-1],c[4]=s[i-1],c[5]=u[i-1]),i>1&&(c[8]=a[i-2],c[10]=s[i-2],c[11]=u[i-2]),i<a.length-1&&(c[1]=a[i+1],c[6]=s[i+1],c[7]=u[i+1]),i<a.length-2&&(c[9]=a[i+2],c[12]=s[i+2],c[13]=u[i+2]);for(let g of c)if(zi.adjustRowNumber(l,g))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ui;for(let a=0;a<t.getCodewords().length;a++){i.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[a];if(s==null){i.format("    |   ");continue}i.format(" %3d|%3d",s.getRowNumber(),s.getValue())}i.format("%n")}return i.toString()}}class Ci{constructor(t,i,a,l){this.rowNumber=Ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ci.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ci.BARCODE_ROW_UNKNOWN=-1;class Un{static initialize(){for(let t=0;t<Ve.SYMBOL_TABLE.length;t++){let i=Ve.SYMBOL_TABLE[t],a=i&1;for(let l=0;l<Ve.BARS_IN_MODULE;l++){let s=0;for(;(i&1)===a;)s+=1,i>>=1;a=i&1,Un.RATIOS_TABLE[t]||(Un.RATIOS_TABLE[t]=new Array(Ve.BARS_IN_MODULE)),Un.RATIOS_TABLE[t][Ve.BARS_IN_MODULE-l-1]=Math.fround(s/Ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=Un.getDecodedCodewordValue(Un.sampleBitCounts(t));return i!==-1?i:Un.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=We.sum(t),a=new Int32Array(Ve.BARS_IN_MODULE),l=0,s=0;for(let u=0;u<Ve.MODULES_IN_CODEWORD;u++){let c=i/(2*Ve.MODULES_IN_CODEWORD)+u*i/Ve.MODULES_IN_CODEWORD;s+t[l]<=c&&(s+=t[l],l++),a[l]++}return a}static getDecodedCodewordValue(t){let i=Un.getBitValue(t);return Ve.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let a=0;a<t.length;a++)for(let l=0;l<t[a];l++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=We.sum(t),a=new Array(Ve.BARS_IN_MODULE);if(i>1)for(let u=0;u<a.length;u++)a[u]=Math.fround(t[u]/i);let l=xn.MAX_VALUE,s=-1;this.bSymbolTableReady||Un.initialize();for(let u=0;u<Un.RATIOS_TABLE.length;u++){let c=0,g=Un.RATIOS_TABLE[u];for(let p=0;p<Ve.BARS_IN_MODULE;p++){let C=Math.fround(g[p]-a[p]);if(c+=Math.fround(C*C),c>=l)break}c<l&&(l=c,s=Ve.SYMBOL_TABLE[u])}return s}}Un.bSymbolTableReady=!1,Un.RATIOS_TABLE=new Array(Ve.SYMBOL_TABLE.length).map(b=>new Array(Ve.BARS_IN_MODULE));class Kr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Jr{static parseLong(t,i=void 0){return parseInt(t,i)}}class La extends w{}La.kind="NullPointerException";class $r{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,a){if(t==null)throw new La;if(i<0||i>t.length||a<0||i+a>t.length||i+a<0)throw new $;if(a===0)return;for(let l=0;l<a;l++)this.write(t[i+l])}flush(){}close(){}}class Ds extends w{}class Ko extends $r{constructor(t=32){if(super(),this.count=0,t<0)throw new k("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new Ds;a=oe.MAX_VALUE}this.buf=we.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,a){if(i<0||i>t.length||a<0||i+a-t.length>0)throw new $;this.ensureCapacity(this.count+a),fe.arraycopy(t,i,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return we.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Nt;(function(b){b[b.ALPHA=0]="ALPHA",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.PUNCT=3]="PUNCT",b[b.ALPHA_SHIFT=4]="ALPHA_SHIFT",b[b.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Nt||(Nt={}));function Bs(){if(typeof window<"u")return window.BigInt||null;if(typeof Uo<"u")return Uo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ua;function Fi(b){if(typeof Ua>"u"&&(Ua=Bs()),Ua===null)throw new Error("BigInt is not supported!");return Ua(b)}function Jo(){let b=[];b[0]=Fi(1);let t=Fi(900);b[1]=t;for(let i=2;i<16;i++)b[i]=b[i-1]*t;return b}class Q{static decode(t,i){let a=new $e(""),l=X.ISO8859_1;a.enableDecoding(l);let s=1,u=t[s++],c=new Kr;for(;s<t[0];){switch(u){case Q.TEXT_COMPACTION_MODE_LATCH:s=Q.textCompaction(t,s,a);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:s=Q.byteCompaction(u,t,l,s,a);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[s++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:s=Q.numericCompaction(t,s,a);break;case Q.ECI_CHARSET:X.getCharacterSetECIByValue(t[s++]);break;case Q.ECI_GENERAL_PURPOSE:s+=2;break;case Q.ECI_USER_DEFINED:s++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=Q.decodeMacroBlock(t,s,c);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new me;default:s--,s=Q.textCompaction(t,s,a);break}if(s<t.length)u=t[s++];else throw me.getFormatInstance()}if(a.length()===0)throw me.getFormatInstance();let g=new Fe(null,a.toString(),null,i);return g.setOther(c),g}static decodeMacroBlock(t,i,a){if(i+Q.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw me.getFormatInstance();let l=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<Q.NUMBER_OF_SEQUENCE_CODEWORDS;c++,i++)l[c]=t[i];a.setSegmentIndex(oe.parseInt(Q.decodeBase900toBase10(l,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new $e;i=Q.textCompaction(t,i,s),a.setFileId(s.toString());let u=-1;for(t[i]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=i+1);i<t[0];)switch(t[i]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new $e;i=Q.textCompaction(t,i+1,c),a.setFileName(c.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new $e;i=Q.textCompaction(t,i+1,g),a.setSender(g.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new $e;i=Q.textCompaction(t,i+1,p),a.setAddressee(p.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new $e;i=Q.numericCompaction(t,i+1,C),a.setSegmentCount(oe.parseInt(C.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new $e;i=Q.numericCompaction(t,i+1,T),a.setTimestamp(Jr.parseLong(T.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new $e;i=Q.numericCompaction(t,i+1,v),a.setChecksum(oe.parseInt(v.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _=new $e;i=Q.numericCompaction(t,i+1,_),a.setFileSize(Jr.parseLong(_.toString()));break;default:throw me.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(u!==-1){let c=i-u;a.isLastSegment()&&c--,a.setOptionalData(we.copyOfRange(t,u,u+c))}return i}static textCompaction(t,i,a){let l=new Int32Array((t[0]-i)*2),s=new Int32Array((t[0]-i)*2),u=0,c=!1;for(;i<t[0]&&!c;){let g=t[i++];if(g<Q.TEXT_COMPACTION_MODE_LATCH)l[u]=g/30,l[u+1]=g%30,u+=2;else switch(g){case Q.TEXT_COMPACTION_MODE_LATCH:l[u++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,c=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=t[i++],s[u]=g,u++;break}}return Q.decodeTextCompaction(l,s,u,a),i}static decodeTextCompaction(t,i,a,l){let s=Nt.ALPHA,u=Nt.ALPHA,c=0;for(;c<a;){let g=t[c],p="";switch(s){case Nt.ALPHA:if(g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case Q.LL:s=Nt.LOWER;break;case Q.ML:s=Nt.MIXED;break;case Q.PS:u=s,s=Nt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.LOWER:if(g<26)p=String.fromCharCode(97+g);else switch(g){case 26:p=" ";break;case Q.AS:u=s,s=Nt.ALPHA_SHIFT;break;case Q.ML:s=Nt.MIXED;break;case Q.PS:u=s,s=Nt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.MIXED:if(g<Q.PL)p=Q.MIXED_CHARS[g];else switch(g){case Q.PL:s=Nt.PUNCT;break;case 26:p=" ";break;case Q.LL:s=Nt.LOWER;break;case Q.AL:s=Nt.ALPHA;break;case Q.PS:u=s,s=Nt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.PUNCT:if(g<Q.PAL)p=Q.PUNCT_CHARS[g];else switch(g){case Q.PAL:s=Nt.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.ALPHA_SHIFT:if(s=u,g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.PUNCT_SHIFT:if(s=u,g<Q.PAL)p=Q.PUNCT_CHARS[g];else switch(g){case Q.PAL:s=Nt.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break}p!==""&&l.append(p),c++}}static byteCompaction(t,i,a,l,s){let u=new Ko,c=0,g=0,p=!1;switch(t){case Q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),T=i[l++];for(;l<i[0]&&!p;)switch(C[c++]=T,g=900*g+T,T=i[l++],T){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:l--,p=!0;break;default:if(c%5===0&&c>0){for(let v=0;v<6;++v)u.write(Number(Fi(g)>>Fi(8*(5-v))));g=0,c=0}break}l===i[0]&&T<Q.TEXT_COMPACTION_MODE_LATCH&&(C[c++]=T);for(let v=0;v<c;v++)u.write(C[v]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!p;){let v=i[l++];if(v<Q.TEXT_COMPACTION_MODE_LATCH)c++,g=900*g+v;else switch(v){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:l--,p=!0;break}if(c%5===0&&c>0){for(let _=0;_<6;++_)u.write(Number(Fi(g)>>Fi(8*(5-_))));g=0,c=0}}break}return s.append(Et.decode(u.toByteArray(),a)),l}static numericCompaction(t,i,a){let l=0,s=!1,u=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!s;){let c=t[i++];if(i===t[0]&&(s=!0),c<Q.TEXT_COMPACTION_MODE_LATCH)u[l]=c,l++;else switch(c){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,s=!0;break}(l%Q.MAX_NUMERIC_CODEWORDS===0||c===Q.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(a.append(Q.decodeBase900toBase10(u,l)),l=0)}return i}static decodeBase900toBase10(t,i){let a=Fi(0);for(let s=0;s<i;s++)a+=Q.EXP900[i-s-1]*Fi(t[s]);let l=a.toString();if(l.charAt(0)!=="1")throw new me;return l.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=Bs()?Jo():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class tt{constructor(){}static decode(t,i,a,l,s,u,c){let g=new Li(t,i,a,l,s),p=null,C=null,T;for(let z=!0;;z=!1){if(i!=null&&(p=tt.getRowIndicatorColumn(t,g,i,!0,u,c)),l!=null&&(C=tt.getRowIndicatorColumn(t,g,l,!1,u,c)),T=tt.merge(p,C),T==null)throw K.getNotFoundInstance();let F=T.getBoundingBox();if(z&&F!=null&&(F.getMinY()<g.getMinY()||F.getMaxY()>g.getMaxY()))g=F;else break}T.setBoundingBox(g);let v=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,p),T.setDetectionResultColumn(v,C);let _=p!=null;for(let z=1;z<=v;z++){let F=_?z:v-z;if(T.getDetectionResultColumn(F)!==void 0)continue;let V;F===0||F===v?V=new ki(g,F===0):V=new Ba(g),T.setDetectionResultColumn(F,V);let W=-1,pe=W;for(let Ae=g.getMinY();Ae<=g.getMaxY();Ae++){if(W=tt.getStartColumn(T,F,Ae,_),W<0||W>g.getMaxX()){if(pe===-1)continue;W=pe}let ge=tt.detectCodeword(t,g.getMinX(),g.getMaxX(),_,W,Ae,u,c);ge!=null&&(V.setCodeword(Ae,ge),pe=W,u=Math.min(u,ge.getWidth()),c=Math.max(c,ge.getWidth()))}}return tt.createDecoderResult(T)}static merge(t,i){if(t==null&&i==null)return null;let a=tt.getBarcodeMetadata(t,i);if(a==null)return null;let l=Li.merge(tt.adjustBoundingBox(t),tt.adjustBoundingBox(i));return new zi(a,l)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let a=tt.getMax(i),l=0;for(let c of i)if(l+=a-c,c>0)break;let s=t.getCodewords();for(let c=0;l>0&&s[c]==null;c++)l--;let u=0;for(let c=i.length-1;c>=0&&(u+=a-i[c],!(i[c]>0));c--);for(let c=s.length-1;u>0&&s[c]==null;c--)u--;return t.getBoundingBox().addMissingRows(l,u,t.isLeft())}static getMax(t){let i=-1;for(let a of t)i=Math.max(i,a);return i}static getBarcodeMetadata(t,i){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(t,i,a,l,s,u){let c=new ki(i,l);for(let g=0;g<2;g++){let p=g===0?1:-1,C=Math.trunc(Math.trunc(a.getX()));for(let T=Math.trunc(Math.trunc(a.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=p){let v=tt.detectCodeword(t,0,t.getWidth(),l,C,T,s,u);v!=null&&(c.setCodeword(T,v),l?C=v.getStartX():C=v.getEndX())}}return c}static adjustCodewordCount(t,i){let a=i[0][1],l=a.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-tt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>Ve.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();a.setValue(s)}else l[0]!==s&&a.setValue(s)}static createDecoderResult(t){let i=tt.createBarcodeMatrix(t);tt.adjustCodewordCount(t,i);let a=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],u=new Array;for(let g=0;g<t.getBarcodeRowCount();g++)for(let p=0;p<t.getBarcodeColumnCount();p++){let C=i[g][p+1].getValue(),T=g*t.getBarcodeColumnCount()+p;C.length===0?a.push(T):C.length===1?l[T]=C[0]:(u.push(T),s.push(C))}let c=new Array(s.length);for(let g=0;g<c.length;g++)c[g]=s[g];return tt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,Ve.toIntArray(a),Ve.toIntArray(u),c)}static createDecoderResultFromAmbiguousValues(t,i,a,l,s){let u=new Int32Array(l.length),c=100;for(;c-- >0;){for(let g=0;g<u.length;g++)i[l[g]]=s[g][u[g]];try{return tt.decodeCodewords(i,t,a)}catch(g){if(!(g instanceof ne))throw g}if(u.length===0)throw ne.getChecksumInstance();for(let g=0;g<u.length;g++)if(u[g]<s[g].length-1){u[g]++;break}else if(u[g]=0,g===u.length-1)throw ne.getChecksumInstance()}throw ne.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let s=0;s<i[l].length;s++)i[l][s]=new fn;let a=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let u=s.getRowNumber();if(u>=0){if(u>=i.length)continue;i[u][a].setValue(s.getValue())}}}a++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,a,l){let s=l?1:-1,u=null;if(tt.isValidBarcodeColumn(t,i-s)&&(u=t.getDetectionResultColumn(i-s).getCodeword(a)),u!=null)return l?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(i).getCodewordNearby(a),u!=null)return l?u.getStartX():u.getEndX();if(tt.isValidBarcodeColumn(t,i-s)&&(u=t.getDetectionResultColumn(i-s).getCodewordNearby(a)),u!=null)return l?u.getEndX():u.getStartX();let c=0;for(;tt.isValidBarcodeColumn(t,i-s);){i-=s;for(let g of t.getDetectionResultColumn(i).getCodewords())if(g!=null)return(l?g.getEndX():g.getStartX())+s*c*(g.getEndX()-g.getStartX());c++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,a,l,s,u,c,g){s=tt.adjustCodewordStartColumn(t,i,a,l,s,u);let p=tt.getModuleBitCount(t,i,a,l,s,u);if(p==null)return null;let C,T=We.sum(p);if(l)C=s+T;else{for(let z=0;z<p.length/2;z++){let F=p[z];p[z]=p[p.length-1-z],p[p.length-1-z]=F}C=s,s=C-T}if(!tt.checkCodewordSkew(T,c,g))return null;let v=Un.getDecodedValue(p),_=Ve.getCodeword(v);return _===-1?null:new Ci(s,C,tt.getCodewordBucketNumber(v),_)}static getModuleBitCount(t,i,a,l,s,u){let c=s,g=new Int32Array(8),p=0,C=l?1:-1,T=l;for(;(l?c<a:c>=i)&&p<g.length;)t.get(c,u)===T?(g[p]++,c+=C):(p++,T=!T);return p===g.length||c===(l?a:i)&&p===g.length-1?g:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,a,l,s,u){let c=s,g=l?-1:1;for(let p=0;p<2;p++){for(;(l?c>=i:c<a)&&l===t.get(c,u);){if(Math.abs(s-c)>tt.CODEWORD_SKEW_SIZE)return s;c+=g}g=-g,l=!l}return c}static checkCodewordSkew(t,i,a){return i-tt.CODEWORD_SKEW_SIZE<=t&&t<=a+tt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,a){if(t.length===0)throw me.getFormatInstance();let l=1<<i+1,s=tt.correctErrors(t,a,l);tt.verifyCodewordCount(t,l);let u=Q.decode(t,""+i);return u.setErrorsCorrected(s),u.setErasures(a.length),u}static correctErrors(t,i,a){if(i!=null&&i.length>a/2+tt.MAX_ERRORS||a<0||a>tt.MAX_EC_CODEWORDS)throw ne.getChecksumInstance();return tt.errorCorrection.decode(t,a,i)}static verifyCodewordCount(t,i){if(t.length<4)throw me.getFormatInstance();let a=t[0];if(a>t.length)throw me.getFormatInstance();if(a===0)if(i<t.length)t[0]=t.length-i;else throw me.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),a=0,l=i.length-1;for(;!((t&1)!==a&&(a=t&1,l--,l<0));)i[l]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return tt.getCodewordBucketNumber(tt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Ui;for(let a=0;a<t.length;a++){i.format("Row %2d: ",a);for(let l=0;l<t[a].length;l++){let s=t[a][l];s.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}i.format("%n")}return i.toString()}}tt.CODEWORD_SKEW_SIZE=2,tt.MAX_ERRORS=3,tt.MAX_EC_CODEWORDS=512,tt.errorCorrection=new Er;class pn{decode(t,i=null){let a=pn.decode(t,i,!1);if(a==null||a.length===0||a[0]==null)throw K.getNotFoundInstance();return a[0]}decodeMultiple(t,i=null){try{return pn.decode(t,i,!0)}catch(a){throw a instanceof me||a instanceof ne?K.getNotFoundInstance():a}}static decode(t,i,a){const l=new Array,s=Ke.detectMultiple(t,i,a);for(const u of s.getPoints()){const c=tt.decode(s.getBits(),u[4],u[5],u[6],u[7],pn.getMinCodewordWidth(u),pn.getMaxCodewordWidth(u)),g=new re(c.getText(),c.getRawBytes(),void 0,u,te.PDF_417);g.putMetadata(Ce.ERROR_CORRECTION_LEVEL,c.getECLevel());const p=c.getOther();p!=null&&g.putMetadata(Ce.PDF417_EXTRA_METADATA,p),l.push(g)}return l.map(u=>u)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?oe.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(pn.getMaxWidth(t[0],t[4]),pn.getMaxWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(t[1],t[5]),pn.getMaxWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(pn.getMinWidth(t[0],t[4]),pn.getMinWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(t[1],t[5]),pn.getMinWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class wr extends w{}wr.kind="ReaderException";class Ls{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!A(t)&&t.get(je.TRY_HARDER)===!0,a=A(t)?null:t.get(je.POSSIBLE_FORMATS),l=new Array;if(!A(a)){const s=a.some(u=>u===te.UPC_A||u===te.UPC_E||u===te.EAN_13||u===te.EAN_8||u===te.CODABAR||u===te.CODE_39||u===te.CODE_93||u===te.CODE_128||u===te.ITF||u===te.RSS_14||u===te.RSS_EXPANDED);s&&!i&&l.push(new Ln(t,this.verbose)),a.includes(te.QR_CODE)&&l.push(new oi),a.includes(te.DATA_MATRIX)&&l.push(new wi),a.includes(te.AZTEC)&&l.push(new Ii),a.includes(te.PDF_417)&&l.push(new pn),s&&i&&l.push(new Ln(t,this.verbose))}l.length===0&&(i||l.push(new Ln(t,this.verbose)),l.push(new oi),l.push(new wi),l.push(new Ii),l.push(new pn),i&&l.push(new Ln(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new wr("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(a){if(a instanceof wr)continue}throw new K("No MultiFormat Readers were able to detect the code.")}}class $o extends de{constructor(t=null,i=500){const a=new Ls;a.setHints(t),super(a,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class eu extends de{constructor(t=500){super(new pn,t)}}class tu extends de{constructor(t=500){super(new oi,t)}}var Cr;(function(b){b[b.ERROR_CORRECTION=0]="ERROR_CORRECTION",b[b.CHARACTER_SET=1]="CHARACTER_SET",b[b.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",b[b.MIN_SIZE=3]="MIN_SIZE",b[b.MAX_SIZE=4]="MAX_SIZE",b[b.MARGIN=5]="MARGIN",b[b.PDF417_COMPACT=6]="PDF417_COMPACT",b[b.PDF417_COMPACTION=7]="PDF417_COMPACTION",b[b.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",b[b.AZTEC_LAYERS=9]="AZTEC_LAYERS",b[b.QR_VERSION=10]="QR_VERSION"})(Cr||(Cr={}));var sn=Cr;class Bl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Ye(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let a=i[i.length-1];const l=this.field;for(let s=i.length;s<=t;s++){const u=a.multiply(new Ye(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));i.push(u),a=u}}return i[t]}encode(t,i){if(i===0)throw new k("No error correction bytes");const a=t.length-i;if(a<=0)throw new k("No data bytes provided");const l=this.buildGenerator(i),s=new Int32Array(a);fe.arraycopy(t,0,s,0,a);let u=new Ye(this.field,s);u=u.multiplyByMonomial(i,1);const g=u.divide(l)[1].getCoefficients(),p=i-g.length;for(let C=0;C<p;C++)t[a+C]=0;fe.arraycopy(g,0,t,a+p,g.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(t){return Gt.applyMaskPenaltyRule1Internal(t,!0)+Gt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s-1;u++){const c=a[u];for(let g=0;g<l-1;g++){const p=c[g];p===c[g+1]&&p===a[u+1][g]&&p===a[u+1][g+1]&&i++}}return Gt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s;u++)for(let c=0;c<l;c++){const g=a[u];c+6<l&&g[c]===1&&g[c+1]===0&&g[c+2]===1&&g[c+3]===1&&g[c+4]===1&&g[c+5]===0&&g[c+6]===1&&(Gt.isWhiteHorizontal(g,c-4,c)||Gt.isWhiteHorizontal(g,c+7,c+11))&&i++,u+6<s&&a[u][c]===1&&a[u+1][c]===0&&a[u+2][c]===1&&a[u+3][c]===1&&a[u+4][c]===1&&a[u+5][c]===0&&a[u+6][c]===1&&(Gt.isWhiteVertical(a,c,u-4,u)||Gt.isWhiteVertical(a,c,u+7,u+11))&&i++}return i*Gt.N3}static isWhiteHorizontal(t,i,a){i=Math.max(i,0),a=Math.min(a,t.length);for(let l=i;l<a;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,i,a,l){a=Math.max(a,0),l=Math.min(l,t.length);for(let s=a;s<l;s++)if(t[s][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let g=0;g<s;g++){const p=a[g];for(let C=0;C<l;C++)p[C]===1&&i++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-u)*10/u)*Gt.N4}static getDataMaskBit(t,i,a){let l,s;switch(t){case 0:l=a+i&1;break;case 1:l=a&1;break;case 2:l=i%3;break;case 3:l=(a+i)%3;break;case 4:l=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:s=a*i,l=(s&1)+s%3;break;case 6:s=a*i,l=(s&1)+s%3&1;break;case 7:s=a*i,l=s%3+(a+i&1)&1;break;default:throw new k("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,i){let a=0;const l=i?t.getHeight():t.getWidth(),s=i?t.getWidth():t.getHeight(),u=t.getArray();for(let c=0;c<l;c++){let g=0,p=-1;for(let C=0;C<s;C++){const T=i?u[c][C]:u[C][c];T===p?g++:(g>=5&&(a+=Gt.N1+(g-5)),g=1,p=T)}g>=5&&(a+=Gt.N1+(g-5))}return a}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class Sr{constructor(t,i){this.width=t,this.height=i;const a=new Array(i);for(let l=0;l!==i;l++)a[l]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,a){this.bytes[i][t]=a}setBoolean(t,i,a){this.bytes[i][t]=a?1:0}clear(t){for(const i of this.bytes)we.fill(i,t)}equals(t){if(!(t instanceof Sr))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,l=this.height;a<l;++a){const s=this.bytes[a],u=i.bytes[a];for(let c=0,g=this.width;c<g;++c)if(s[c]!==u[c])return!1}return!0}toString(){const t=new $e;for(let i=0,a=this.height;i<a;++i){const l=this.bytes[i];for(let s=0,u=this.width;s<u;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class $i{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new $e;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<$i.NUM_MASK_PATTERNS}}$i.NUM_MASK_PATTERNS=8;class It extends w{}It.kind="WriterException";class He{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,a,l,s){He.clearMatrix(s),He.embedBasicPatterns(a,s),He.embedTypeInfo(i,l,s),He.maybeEmbedVersionInfo(a,s),He.embedDataBits(t,l,s)}static embedBasicPatterns(t,i){He.embedPositionDetectionPatternsAndSeparators(i),He.embedDarkDotAtLeftBottomCorner(i),He.maybeEmbedPositionAdjustmentPatterns(t,i),He.embedTimingPatterns(i)}static embedTypeInfo(t,i,a){const l=new Ie;He.makeTypeInfoBits(t,i,l);for(let s=0,u=l.getSize();s<u;++s){const c=l.get(l.getSize()-1-s),g=He.TYPE_INFO_COORDINATES[s],p=g[0],C=g[1];if(a.setBoolean(p,C,c),s<8){const T=a.getWidth()-s-1;a.setBoolean(T,8,c)}else{const v=a.getHeight()-7+(s-8);a.setBoolean(8,v,c)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const a=new Ie;He.makeVersionInfoBits(t,a);let l=6*3-1;for(let s=0;s<6;++s)for(let u=0;u<3;++u){const c=a.get(l);l--,i.setBoolean(s,i.getHeight()-11+u,c),i.setBoolean(i.getHeight()-11+u,s,c)}}static embedDataBits(t,i,a){let l=0,s=-1,u=a.getWidth()-1,c=a.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);c>=0&&c<a.getHeight();){for(let g=0;g<2;++g){const p=u-g;if(!He.isEmpty(a.get(p,c)))continue;let C;l<t.getSize()?(C=t.get(l),++l):C=!1,i!==255&&Gt.getDataMaskBit(i,p,c)&&(C=!C),a.setBoolean(p,c,C)}c+=s}s=-s,c+=s,u-=2}if(l!==t.getSize())throw new It("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-oe.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new k("0 polynomial");const a=He.findMSBSet(i);for(t<<=a-1;He.findMSBSet(t)>=a;)t^=i<<He.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,i,a){if(!$i.isValidMaskPattern(i))throw new It("Invalid mask pattern");const l=t.getBits()<<3|i;a.appendBits(l,5);const s=He.calculateBCHCode(l,He.TYPE_INFO_POLY);a.appendBits(s,10);const u=new Ie;if(u.appendBits(He.TYPE_INFO_MASK_PATTERN,15),a.xor(u),a.getSize()!==15)throw new It("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const a=He.calculateBCHCode(t.getVersionNumber(),He.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new It("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const a=(i+1)%2;He.isEmpty(t.get(i,6))&&t.setNumber(i,6,a),He.isEmpty(t.get(6,i))&&t.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new It;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,a){for(let l=0;l<8;++l){if(!He.isEmpty(a.get(t+l,i)))throw new It;a.setNumber(t+l,i,0)}}static embedVerticalSeparationPattern(t,i,a){for(let l=0;l<7;++l){if(!He.isEmpty(a.get(t,i+l)))throw new It;a.setNumber(t,i+l,0)}}static embedPositionAdjustmentPattern(t,i,a){for(let l=0;l<5;++l){const s=He.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)a.setNumber(t+u,i+l,s[u])}}static embedPositionDetectionPattern(t,i,a){for(let l=0;l<7;++l){const s=He.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)a.setNumber(t+u,i+l,s[u])}}static embedPositionDetectionPatternsAndSeparators(t){const i=He.POSITION_DETECTION_PATTERN[0].length;He.embedPositionDetectionPattern(0,0,t),He.embedPositionDetectionPattern(t.getWidth()-i,0,t),He.embedPositionDetectionPattern(0,t.getWidth()-i,t);const a=8;He.embedHorizontalSeparationPattern(0,a-1,t),He.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),He.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const l=7;He.embedVerticalSeparationPattern(l,0,t),He.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),He.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,l=He.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let s=0,u=l.length;s!==u;s++){const c=l[s];if(c>=0)for(let g=0;g!==u;g++){const p=l[g];p>=0&&He.isEmpty(i.get(p,c))&&He.embedPositionAdjustmentPattern(p-2,c-2,i)}}}}He.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),He.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),He.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),He.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),He.VERSION_INFO_POLY=7973,He.TYPE_INFO_POLY=1335,He.TYPE_INFO_MASK_PATTERN=21522;class nu{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(t){return Gt.applyMaskPenaltyRule1(t)+Gt.applyMaskPenaltyRule2(t)+Gt.applyMaskPenaltyRule3(t)+Gt.applyMaskPenaltyRule4(t)}static encode(t,i,a=null){let l=kt.DEFAULT_BYTE_MODE_ENCODING;const s=a!==null&&a.get(sn.CHARACTER_SET)!==void 0;s&&(l=a.get(sn.CHARACTER_SET).toString());const u=this.chooseMode(t,l),c=new Ie;if(u===ke.BYTE&&(s||kt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Ae=X.getCharacterSetECIByName(l);Ae!==void 0&&this.appendECI(Ae,c)}this.appendModeInfo(u,c);const g=new Ie;this.appendBytes(t,u,g,l);let p;if(a!==null&&a.get(sn.QR_VERSION)!==void 0){const Ae=Number.parseInt(a.get(sn.QR_VERSION).toString(),10);p=Re.getVersionForNumber(Ae);const ge=this.calculateBitsNeeded(u,c,g,p);if(!this.willFit(ge,p,i))throw new It("Data too big for requested version")}else p=this.recommendVersion(i,u,c,g);const C=new Ie;C.appendBitArray(c);const T=u===ke.BYTE?g.getSizeInBytes():t.length;this.appendLengthInfo(T,p,u,C),C.appendBitArray(g);const v=p.getECBlocksForLevel(i),_=p.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(_,C);const z=this.interleaveWithECBytes(C,p.getTotalCodewords(),_,v.getNumBlocks()),F=new $i;F.setECLevel(i),F.setMode(u),F.setVersion(p);const V=p.getDimensionForVersion(),W=new Sr(V,V),pe=this.chooseMaskPattern(z,i,p,W);return F.setMaskPattern(pe),He.buildMatrix(z,i,p,pe,W),F.setMatrix(W),F}static recommendVersion(t,i,a,l){const s=this.calculateBitsNeeded(i,a,l,Re.getVersionForNumber(1)),u=this.chooseVersion(s,t),c=this.calculateBitsNeeded(i,a,l,u);return this.chooseVersion(c,t)}static calculateBitsNeeded(t,i,a,l){return i.getSize()+t.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(t){return t<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(X.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return ke.KANJI;let a=!1,l=!1;for(let s=0,u=t.length;s<u;++s){const c=t.charAt(s);if(kt.isDigit(c))a=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)l=!0;else return ke.BYTE}return l?ke.ALPHANUMERIC:a?ke.NUMERIC:ke.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Et.encode(t,X.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const s=i[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,i,a,l){let s=Number.MAX_SAFE_INTEGER,u=-1;for(let c=0;c<$i.NUM_MASK_PATTERNS;c++){He.buildMatrix(t,i,a,c,l);let g=this.calculateMaskPenalty(l);g<s&&(s=g,u=c)}return u}static chooseVersion(t,i){for(let a=1;a<=40;a++){const l=Re.getVersionForNumber(a);if(kt.willFit(t,l,i))return l}throw new It("Data too big")}static willFit(t,i,a){const l=i.getTotalCodewords(),u=i.getECBlocksForLevel(a).getTotalECCodewords(),c=l-u,g=(t+7)/8;return c>=g}static terminateBits(t,i){const a=t*8;if(i.getSize()>a)throw new It("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let u=0;u<4&&i.getSize()<a;++u)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let u=l;u<8;u++)i.appendBit(!1);const s=t-i.getSizeInBytes();for(let u=0;u<s;++u)i.appendBits((u&1)===0?236:17,8);if(i.getSize()!==a)throw new It("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,a,l,s,u){if(l>=a)throw new It("Block ID too large");const c=t%a,g=a-c,p=Math.floor(t/a),C=p+1,T=Math.floor(i/a),v=T+1,_=p-T,z=C-v;if(_!==z)throw new It("EC bytes mismatch");if(a!==g+c)throw new It("RS blocks mismatch");if(t!==(T+_)*g+(v+z)*c)throw new It("Total bytes mismatch");l<g?(s[0]=T,u[0]=_):(s[0]=v,u[0]=z)}static interleaveWithECBytes(t,i,a,l){if(t.getSizeInBytes()!==a)throw new It("Number of bits and data bytes does not match");let s=0,u=0,c=0;const g=new Array;for(let C=0;C<l;++C){const T=new Int32Array(1),v=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(i,a,l,C,T,v);const _=T[0],z=new Uint8Array(_);t.toBytes(8*s,z,0,_);const F=kt.generateECBytes(z,v[0]);g.push(new nu(z,F)),u=Math.max(u,_),c=Math.max(c,F.length),s+=T[0]}if(a!==s)throw new It("Data bytes does not match offset");const p=new Ie;for(let C=0;C<u;++C)for(const T of g){const v=T.getDataBytes();C<v.length&&p.appendBits(v[C],8)}for(let C=0;C<c;++C)for(const T of g){const v=T.getErrorCorrectionBytes();C<v.length&&p.appendBits(v[C],8)}if(i!==p.getSizeInBytes())throw new It("Interleaving error: "+i+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(t,i){const a=t.length,l=new Int32Array(a+i);for(let u=0;u<a;u++)l[u]=t[u]&255;new Bl(Be.QR_CODE_FIELD_256).encode(l,i);const s=new Uint8Array(i);for(let u=0;u<i;u++)s[u]=l[a+u];return s}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,a,l){const s=a.getCharacterCountBits(i);if(t>=1<<s)throw new It(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,i,a,l){switch(i){case ke.NUMERIC:kt.appendNumericBytes(t,a);break;case ke.ALPHANUMERIC:kt.appendAlphanumericBytes(t,a);break;case ke.BYTE:kt.append8BitBytes(t,a,l);break;case ke.KANJI:kt.appendKanjiBytes(t,a);break;default:throw new It("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=kt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const a=t.length;let l=0;for(;l<a;){const s=kt.getDigit(t.charAt(l));if(l+2<a){const u=kt.getDigit(t.charAt(l+1)),c=kt.getDigit(t.charAt(l+2));i.appendBits(s*100+u*10+c,10),l+=3}else if(l+1<a){const u=kt.getDigit(t.charAt(l+1));i.appendBits(s*10+u,7),l+=2}else i.appendBits(s,4),l++}}static appendAlphanumericBytes(t,i){const a=t.length;let l=0;for(;l<a;){const s=kt.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new It;if(l+1<a){const u=kt.getAlphanumericCode(t.charCodeAt(l+1));if(u===-1)throw new It;i.appendBits(s*45+u,11),l+=2}else i.appendBits(s,6),l++}}static append8BitBytes(t,i,a){let l;try{l=Et.encode(t,a)}catch(s){throw new It(s)}for(let s=0,u=l.length;s!==u;s++){const c=l[s];i.appendBits(c,8)}}static appendKanjiBytes(t,i){let a;try{a=Et.encode(t,X.SJIS)}catch(s){throw new It(s)}const l=a.length;for(let s=0;s<l;s+=2){const u=a[s]&255,c=a[s+1]&255,g=u<<8&4294967295|c;let p=-1;if(g>=33088&&g<=40956?p=g-33088:g>=57408&&g<=60351&&(p=g-49472),p===-1)throw new It("Invalid byte sequence");const C=(p>>8)*192+(p&255);i.appendBits(C,13)}}static appendECI(t,i){i.appendBits(ke.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class ea{write(t,i,a,l=null){if(t.length===0)throw new k("Found empty contents");if(i<0||a<0)throw new k("Requested dimensions are too small: "+i+"x"+a);let s=it.L,u=ea.QUIET_ZONE_SIZE;l!==null&&(l.get(sn.ERROR_CORRECTION)!==void 0&&(s=it.fromString(l.get(sn.ERROR_CORRECTION).toString())),l.get(sn.MARGIN)!==void 0&&(u=Number.parseInt(l.get(sn.MARGIN).toString(),10)));const c=kt.encode(t,s,l);return this.renderResult(c,i,a,u)}writeToDom(t,i,a,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(i,a,l,s);t&&t.appendChild(u)}renderResult(t,i,a,l){const s=t.getMatrix();if(s===null)throw new Tt;const u=s.getWidth(),c=s.getHeight(),g=u+l*2,p=c+l*2,C=Math.max(i,g),T=Math.max(a,p),v=Math.min(Math.floor(C/g),Math.floor(T/p)),_=Math.floor((C-u*v)/2),z=Math.floor((T-c*v)/2),F=this.createSVGElement(C,T);for(let V=0,W=z;V<c;V++,W+=v)for(let pe=0,Ae=_;pe<u;pe++,Ae+=v)if(s.get(pe,V)===1){const ge=this.createSvgRectElement(Ae,W,v,v);F.appendChild(ge)}return F}createSVGElement(t,i){const a=document.createElementNS(ea.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(t,i,a,l){const s=document.createElementNS(ea.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"height",a.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}ea.QUIET_ZONE_SIZE=4,ea.SVG_NS="http://www.w3.org/2000/svg";class ka{encode(t,i,a,l,s){if(t.length===0)throw new k("Found empty contents");if(i!==te.QR_CODE)throw new k("Can only encode QR_CODE, but got "+i);if(a<0||l<0)throw new k(`Requested dimensions are too small: ${a}x${l}`);let u=it.L,c=ka.QUIET_ZONE_SIZE;s!==null&&(s.get(sn.ERROR_CORRECTION)!==void 0&&(u=it.fromString(s.get(sn.ERROR_CORRECTION).toString())),s.get(sn.MARGIN)!==void 0&&(c=Number.parseInt(s.get(sn.MARGIN).toString(),10)));const g=kt.encode(t,u,s);return ka.renderResult(g,a,l,c)}static renderResult(t,i,a,l){const s=t.getMatrix();if(s===null)throw new Tt;const u=s.getWidth(),c=s.getHeight(),g=u+l*2,p=c+l*2,C=Math.max(i,g),T=Math.max(a,p),v=Math.min(Math.floor(C/g),Math.floor(T/p)),_=Math.floor((C-u*v)/2),z=Math.floor((T-c*v)/2),F=new bt(C,T);for(let V=0,W=z;V<c;V++,W+=v)for(let pe=0,Ae=_;pe<u;pe++,Ae+=v)s.get(pe,V)===1&&F.setRegion(Ae,W,v,v);return F}}ka.QUIET_ZONE_SIZE=4;class iu{encode(t,i,a,l,s){let u;switch(i){case te.QR_CODE:u=new ka;break;default:throw new k("No encoder available for format "+i)}return u.encode(t,i,a,l,s)}}class ui extends Ue{constructor(t,i,a,l,s,u,c,g){if(super(u,c),this.yuvData=t,this.dataWidth=i,this.dataHeight=a,this.left=l,this.top=s,l+u>i||s+c>a)throw new k("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(u,c)}getRow(t,i){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return fe.arraycopy(this.yuvData,l,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=t*i,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return fe.arraycopy(this.yuvData,s,l,0,a),l;for(let u=0;u<i;u++){const c=u*t;fe.arraycopy(this.yuvData,s,l,c,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,a,l){return new ui(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,a,l,!1)}renderThumbnail(){const t=this.getWidth()/ui.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/ui.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*i),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let u=0;u<i;u++){const c=u*t;for(let g=0;g<t;g++){const p=l[s+g*ui.THUMBNAIL_SCALE_FACTOR]&255;a[c+g]=4278190080|p*65793}s+=this.dataWidth*ui.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/ui.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ui.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const a=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<i;l++,s+=this.dataWidth){const u=s+t/2;for(let c=s,g=s+t-1;c<u;c++,g--){const p=a[c];a[c]=a[g],a[g]=p}}}invert(){return new st(this)}}ui.THUMBNAIL_SCALE_FACTOR=2;class br extends Ue{constructor(t,i,a,l,s,u,c){if(super(i,a),this.dataWidth=l,this.dataHeight=s,this.left=u,this.top=c,t.BYTES_PER_ELEMENT===4){const g=i*a,p=new Uint8ClampedArray(g);for(let C=0;C<g;C++){const T=t[C],v=T>>16&255,_=T>>7&510,z=T&255;p[C]=(v+_+z)/4&255}this.luminances=p}else this.luminances=t;if(l===void 0&&(this.dataWidth=i),s===void 0&&(this.dataHeight=a),u===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new k("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return fe.arraycopy(this.luminances,l,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=t*i,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return fe.arraycopy(this.luminances,s,l,0,a),l;for(let u=0;u<i;u++){const c=u*t;fe.arraycopy(this.luminances,s,l,c,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,a,l){return new br(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new st(this)}}class za extends X{static forName(t){return this.getCharacterSetECIByName(t)}}class Ll{}Ll.ISO_8859_1=X.ISO8859_1;class Ul{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class kl{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Us{constructor(t){this.previous=t}getPrevious(){return this.previous}}class ta extends Us{constructor(t,i,a){super(t),this.value=i,this.bitCount=a}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new ta(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ta(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+oe.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class el extends ta{constructor(t,i,a){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(t,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(t,i){return new el(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Fa(b,t,i){return new el(b,t,i)}function Tr(b,t,i){return new ta(b,t,i)}const au=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Pi=0,vr=1,Vn=2,Pa=3,kn=4,ru=new ta(null,0,0),Ha=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ks(b){for(let t of b)we.fill(t,-1);return b[Pi][kn]=0,b[vr][kn]=0,b[vr][Pi]=28,b[Pa][kn]=0,b[Vn][kn]=0,b[Vn][Pi]=15,b}const zl=ks(we.createInt32Array(6,6));class Zn{constructor(t,i,a,l){this.token=t,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let a=this.bitCount,l=this.token;if(t!==this.mode){let u=Ha[this.mode][t];l=Tr(l,u&65535,u>>16),a+=u>>16}let s=t===Vn?4:5;return l=Tr(l,i,s),new Zn(l,t,0,a+s)}shiftAndAppend(t,i){let a=this.token,l=this.mode===Vn?4:5;return a=Tr(a,zl[this.mode][t],l),a=Tr(a,i,5),new Zn(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let i=this.token,a=this.mode,l=this.bitCount;if(this.mode===kn||this.mode===Vn){let c=Ha[a][Pi];i=Tr(i,c&65535,c>>16),l+=c>>16,a=Pi}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Zn(i,a,this.binaryShiftByteCount+1,l+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Fa(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Zn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Ha[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Zn.calculateBinaryShiftCost(t)-Zn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())i.unshift(l);let a=new Ie;for(const l of i)l.appendTo(a,t);return a}toString(){return De.format("%s bits=%d bytes=%d",au[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Zn.INITIAL_STATE=new Zn(ru,Pi,0,0);function Fl(b){const t=De.getCharCode(" "),i=De.getCharCode("."),a=De.getCharCode(",");b[Pi][t]=1;const l=De.getCharCode("Z"),s=De.getCharCode("A");for(let v=s;v<=l;v++)b[Pi][v]=v-s+2;b[vr][t]=1;const u=De.getCharCode("z"),c=De.getCharCode("a");for(let v=c;v<=u;v++)b[vr][v]=v-c+2;b[Vn][t]=1;const g=De.getCharCode("9"),p=De.getCharCode("0");for(let v=p;v<=g;v++)b[Vn][v]=v-p+2;b[Vn][a]=12,b[Vn][i]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<C.length;v++)b[Pa][De.getCharCode(C[v])]=v;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<T.length;v++)De.getCharCode(T[v])>0&&(b[kn][De.getCharCode(T[v])]=v);return b}const tl=Fl(we.createInt32Array(5,256));class ja{constructor(t){this.text=t}encode(){const t=De.getCharCode(" "),i=De.getCharCode(`
`);let a=kl.singletonList(Zn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let u,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case De.getCharCode("\r"):u=c===i?2:0;break;case De.getCharCode("."):u=c===t?3:0;break;case De.getCharCode(","):u=c===t?4:0;break;case De.getCharCode(":"):u=c===t?5:0;break;default:u=0}u>0?(a=ja.updateStateListForPair(a,s,u),s++):a=this.updateStateListForChar(a,s)}return kl.min(a,(s,u)=>s.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const a=[];for(let l of t)this.updateStateForChar(l,i,a);return ja.simplifyStates(a)}updateStateForChar(t,i,a){let l=this.text[i]&255,s=tl[t.getMode()][l]>0,u=null;for(let c=0;c<=kn;c++){let g=tl[c][l];if(g>0){if(u==null&&(u=t.endBinaryShift(i)),!s||c===t.getMode()||c===Vn){const p=u.latchAndAppend(c,g);a.push(p)}if(!s&&zl[t.getMode()][c]>=0){const p=u.shiftAndAppend(c,g);a.push(p)}}}if(t.getBinaryShiftByteCount()>0||tl[t.getMode()][l]===0){let c=t.addBinaryShiftChar(i);a.push(c)}}static updateStateListForPair(t,i,a){const l=[];for(let s of t)this.updateStateForPair(s,i,a,l);return this.simplifyStates(l)}static updateStateForPair(t,i,a,l){let s=t.endBinaryShift(i);if(l.push(s.latchAndAppend(kn,a)),t.getMode()!==kn&&l.push(s.shiftAndAppend(kn,a)),a===3||a===4){let u=s.latchAndAppend(Vn,16-a).latchAndAppend(Vn,1);l.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(u)}}static simplifyStates(t){let i=[];for(const a of t){let l=!0;for(const s of i){if(s.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(s)&&(i=i.filter(u=>u!==s))}l&&i.push(a)}return i}}class dt{constructor(){}static encodeBytes(t){return dt.encode(t,dt.DEFAULT_EC_PERCENT,dt.DEFAULT_AZTEC_LAYERS)}static encode(t,i,a){let l=new ja(t).encode(),s=oe.truncDivision(l.getSize()*i,100)+11,u=l.getSize()+s,c,g,p,C,T;if(a!==dt.DEFAULT_AZTEC_LAYERS){if(c=a<0,g=Math.abs(a),g>(c?dt.MAX_NB_BITS_COMPACT:dt.MAX_NB_BITS))throw new k(De.format("Illegal value %s for layers",a));p=dt.totalBitsInLayer(g,c),C=dt.WORD_SIZE[g];let ge=p-p%C;if(T=dt.stuffBits(l,C),T.getSize()+s>ge)throw new k("Data to large for user specified layer");if(c&&T.getSize()>C*64)throw new k("Data to large for user specified layer")}else{C=0,T=null;for(let ge=0;;ge++){if(ge>dt.MAX_NB_BITS)throw new k("Data too large for an Aztec code");if(c=ge<=3,g=c?ge+1:ge,p=dt.totalBitsInLayer(g,c),u>p)continue;(T==null||C!==dt.WORD_SIZE[g])&&(C=dt.WORD_SIZE[g],T=dt.stuffBits(l,C));let at=p-p%C;if(!(c&&T.getSize()>C*64)&&T.getSize()+s<=at)break}}let v=dt.generateCheckWords(T,p,C),_=T.getSize()/C,z=dt.generateModeMessage(c,g,_),F=(c?11:14)+g*4,V=new Int32Array(F),W;if(c){W=F;for(let ge=0;ge<V.length;ge++)V[ge]=ge}else{W=F+1+2*oe.truncDivision(oe.truncDivision(F,2)-1,15);let ge=oe.truncDivision(F,2),at=oe.truncDivision(W,2);for(let Ge=0;Ge<ge;Ge++){let In=Ge+oe.truncDivision(Ge,15);V[ge-Ge-1]=at-In-1,V[ge+Ge]=at+In+1}}let pe=new bt(W);for(let ge=0,at=0;ge<g;ge++){let Ge=(g-ge)*4+(c?9:12);for(let In=0;In<Ge;In++){let Qn=In*2;for(let On=0;On<2;On++)v.get(at+Qn+On)&&pe.set(V[ge*2+On],V[ge*2+In]),v.get(at+Ge*2+Qn+On)&&pe.set(V[ge*2+In],V[F-1-ge*2-On]),v.get(at+Ge*4+Qn+On)&&pe.set(V[F-1-ge*2-On],V[F-1-ge*2-In]),v.get(at+Ge*6+Qn+On)&&pe.set(V[F-1-ge*2-In],V[ge*2+On])}at+=Ge*8}if(dt.drawModeMessage(pe,c,W,z),c)dt.drawBullsEye(pe,oe.truncDivision(W,2),5);else{dt.drawBullsEye(pe,oe.truncDivision(W,2),7);for(let ge=0,at=0;ge<oe.truncDivision(F,2)-1;ge+=15,at+=16)for(let Ge=oe.truncDivision(W,2)&1;Ge<W;Ge+=2)pe.set(oe.truncDivision(W,2)-at,Ge),pe.set(oe.truncDivision(W,2)+at,Ge),pe.set(Ge,oe.truncDivision(W,2)-at),pe.set(Ge,oe.truncDivision(W,2)+at)}let Ae=new Ul;return Ae.setCompact(c),Ae.setSize(W),Ae.setLayers(g),Ae.setCodeWords(_),Ae.setMatrix(pe),Ae}static drawBullsEye(t,i,a){for(let l=0;l<a;l+=2)for(let s=i-l;s<=i+l;s++)t.set(s,i-l),t.set(s,i+l),t.set(i-l,s),t.set(i+l,s);t.set(i-a,i-a),t.set(i-a+1,i-a),t.set(i-a,i-a+1),t.set(i+a,i-a),t.set(i+a,i-a+1),t.set(i+a,i+a-1)}static generateModeMessage(t,i,a){let l=new Ie;return t?(l.appendBits(i-1,2),l.appendBits(a-1,6),l=dt.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(a-1,11),l=dt.generateCheckWords(l,40,4)),l}static drawModeMessage(t,i,a,l){let s=oe.truncDivision(a,2);if(i)for(let u=0;u<7;u++){let c=s-3+u;l.get(u)&&t.set(c,s-5),l.get(u+7)&&t.set(s+5,c),l.get(20-u)&&t.set(c,s+5),l.get(27-u)&&t.set(s-5,c)}else for(let u=0;u<10;u++){let c=s-5+u+oe.truncDivision(u,5);l.get(u)&&t.set(c,s-7),l.get(u+10)&&t.set(s+7,c),l.get(29-u)&&t.set(c,s+7),l.get(39-u)&&t.set(s-7,c)}}static generateCheckWords(t,i,a){let l=t.getSize()/a,s=new Bl(dt.getGF(a)),u=oe.truncDivision(i,a),c=dt.bitsToWords(t,a,u);s.encode(c,u-l);let g=i%a,p=new Ie;p.appendBits(0,g);for(const C of Array.from(c))p.appendBits(C,a);return p}static bitsToWords(t,i,a){let l=new Int32Array(a),s,u;for(s=0,u=t.getSize()/i;s<u;s++){let c=0;for(let g=0;g<i;g++)c|=t.get(s*i+g)?1<<i-g-1:0;l[s]=c}return l}static getGF(t){switch(t){case 4:return Be.AZTEC_PARAM;case 6:return Be.AZTEC_DATA_6;case 8:return Be.AZTEC_DATA_8;case 10:return Be.AZTEC_DATA_10;case 12:return Be.AZTEC_DATA_12;default:throw new k("Unsupported word size "+t)}}static stuffBits(t,i){let a=new Ie,l=t.getSize(),s=(1<<i)-2;for(let u=0;u<l;u+=i){let c=0;for(let g=0;g<i;g++)(u+g>=l||t.get(u+g))&&(c|=1<<i-1-g);(c&s)===s?(a.appendBits(c&s,i),u--):(c&s)===0?(a.appendBits(c|1,i),u--):a.appendBits(c,i)}return a}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}dt.DEFAULT_EC_PERCENT=33,dt.DEFAULT_AZTEC_LAYERS=0,dt.MAX_NB_BITS=32,dt.MAX_NB_BITS_COMPACT=4,dt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class nl{encode(t,i,a,l){return this.encodeWithHints(t,i,a,l,null)}encodeWithHints(t,i,a,l,s){let u=Ll.ISO_8859_1,c=dt.DEFAULT_EC_PERCENT,g=dt.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(sn.CHARACTER_SET)&&(u=za.forName(s.get(sn.CHARACTER_SET).toString())),s.has(sn.ERROR_CORRECTION)&&(c=oe.parseInt(s.get(sn.ERROR_CORRECTION).toString())),s.has(sn.AZTEC_LAYERS)&&(g=oe.parseInt(s.get(sn.AZTEC_LAYERS).toString()))),nl.encodeLayers(t,i,a,l,u,c,g)}static encodeLayers(t,i,a,l,s,u,c){if(i!==te.AZTEC)throw new k("Can only encode AZTEC, but got "+i);let g=dt.encode(De.getBytes(t,s),u,c);return nl.renderResult(g,a,l)}static renderResult(t,i,a){let l=t.getMatrix();if(l==null)throw new Tt;let s=l.getWidth(),u=l.getHeight(),c=Math.max(i,s),g=Math.max(a,u),p=Math.min(c/s,g/u),C=(c-s*p)/2,T=(g-u*p)/2,v=new bt(c,g);for(let _=0,z=T;_<u;_++,z+=p)for(let F=0,V=C;F<s;F++,V+=p)l.get(F,_)&&v.setRegion(V,z,p,p);return v}}d.AbstractExpandedDecoder=wn,d.ArgumentException=L,d.ArithmeticException=pt,d.AztecCode=Ul,d.AztecCodeReader=Ii,d.AztecCodeWriter=nl,d.AztecDecoder=et,d.AztecDetector=ba,d.AztecDetectorResult=Yr,d.AztecEncoder=dt,d.AztecHighLevelEncoder=ja,d.AztecPoint=un,d.BarcodeFormat=te,d.Binarizer=ae,d.BinaryBitmap=J,d.BitArray=Ie,d.BitMatrix=bt,d.BitSource=Jn,d.BrowserAztecCodeReader=Il,d.BrowserBarcodeReader=Zo,d.BrowserCodeReader=de,d.BrowserDatamatrixCodeReader=Qr,d.BrowserMultiFormatReader=$o,d.BrowserPDF417Reader=eu,d.BrowserQRCodeReader=tu,d.BrowserQRCodeSvgWriter=ea,d.CharacterSetECI=X,d.ChecksumException=ne,d.Code128Reader=Ee,d.Code39Reader=an,d.DataMatrixDecodedBitStreamParser=Ei,d.DataMatrixReader=wi,d.DecodeHintType=je,d.DecoderResult=Fe,d.DefaultGridSampler=dr,d.DetectorResult=Sa,d.EAN13Reader=si,d.EncodeHintType=sn,d.Exception=w,d.FormatException=me,d.GenericGF=Be,d.GenericGFPoly=Ye,d.GlobalHistogramBinarizer=ye,d.GridSampler=hr,d.GridSamplerInstance=Pn,d.HTMLCanvasElementLuminanceSource=M,d.HybridBinarizer=Se,d.ITFReader=ct,d.IllegalArgumentException=k,d.IllegalStateException=Tt,d.InvertedLuminanceSource=st,d.LuminanceSource=Ue,d.MathUtils=We,d.MultiFormatOneDReader=Ln,d.MultiFormatReader=Ls,d.MultiFormatWriter=iu,d.NotFoundException=K,d.OneDReader=_t,d.PDF417DecodedBitStreamParser=Q,d.PDF417DecoderErrorCorrection=Er,d.PDF417Reader=pn,d.PDF417ResultMetadata=Kr,d.PerspectiveTransform=vn,d.PlanarYUVLuminanceSource=ui,d.QRCodeByteMatrix=Sr,d.QRCodeDataMask=Hn,d.QRCodeDecodedBitStreamParser=Ut,d.QRCodeDecoderErrorCorrectionLevel=it,d.QRCodeDecoderFormatInformation=cn,d.QRCodeEncoder=kt,d.QRCodeEncoderQRCode=$i,d.QRCodeMaskUtil=Gt,d.QRCodeMatrixUtil=He,d.QRCodeMode=ke,d.QRCodeReader=oi,d.QRCodeVersion=Re,d.QRCodeWriter=ka,d.RGBLuminanceSource=br,d.RSS14Reader=Mt,d.RSSExpandedReader=he,d.ReaderException=wr,d.ReedSolomonDecoder=Yt,d.ReedSolomonEncoder=Bl,d.ReedSolomonException=Qe,d.Result=re,d.ResultMetadataType=Ce,d.ResultPoint=Ne,d.StringUtils=De,d.UnsupportedOperationException=qe,d.VideoInputDevice=D,d.WhiteRectangleDetector=Xt,d.WriterException=It,d.ZXingArrays=we,d.ZXingCharset=za,d.ZXingInteger=oe,d.ZXingStandardCharsets=Ll,d.ZXingStringBuilder=$e,d.ZXingStringEncoding=Et,d.ZXingSystem=fe,d.createAbstractExpandedDecoder=Ki,Object.defineProperty(d,"__esModule",{value:!0})})}(vs,vs.exports)),vs.exports}var Vt=ox();const ux=tf(Vt),cx=g2({__proto__:null,default:ux},[Vt]);var Ah=function(){function h(x,d,A){if(this.formatMap=new Map([[Me.QR_CODE,Vt.BarcodeFormat.QR_CODE],[Me.AZTEC,Vt.BarcodeFormat.AZTEC],[Me.CODABAR,Vt.BarcodeFormat.CODABAR],[Me.CODE_39,Vt.BarcodeFormat.CODE_39],[Me.CODE_93,Vt.BarcodeFormat.CODE_93],[Me.CODE_128,Vt.BarcodeFormat.CODE_128],[Me.DATA_MATRIX,Vt.BarcodeFormat.DATA_MATRIX],[Me.MAXICODE,Vt.BarcodeFormat.MAXICODE],[Me.ITF,Vt.BarcodeFormat.ITF],[Me.EAN_13,Vt.BarcodeFormat.EAN_13],[Me.EAN_8,Vt.BarcodeFormat.EAN_8],[Me.PDF_417,Vt.BarcodeFormat.PDF_417],[Me.RSS_14,Vt.BarcodeFormat.RSS_14],[Me.RSS_EXPANDED,Vt.BarcodeFormat.RSS_EXPANDED],[Me.UPC_A,Vt.BarcodeFormat.UPC_A],[Me.UPC_E,Vt.BarcodeFormat.UPC_E],[Me.UPC_EAN_EXTENSION,Vt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!cx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=d,this.logger=A;var E=this.createZXingFormats(x),y=new Map;y.set(Vt.DecodeHintType.POSSIBLE_FORMATS,E),y.set(Vt.DecodeHintType.TRY_HARDER,!1),this.hints=y}return h.prototype.decodeAsync=function(x){var d=this;return new Promise(function(A,E){try{A(d.decode(x))}catch(y){E(y)}})},h.prototype.decode=function(x){var d=new Vt.MultiFormatReader(this.verbose,this.hints),A=new Vt.HTMLCanvasElementLuminanceSource(x),E=new Vt.BinaryBitmap(new Vt.HybridBinarizer(A)),y=d.decode(E);return{text:y.text,format:Xh.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}},h.prototype.createReverseFormatMap=function(){var x=new Map;return this.formatMap.forEach(function(d,A,E){x.set(d,A)}),x},h.prototype.toHtml5QrcodeSupportedFormats=function(x){if(!this.reverseFormatMap.has(x))throw"reverseFormatMap doesn't have ".concat(x);return this.reverseFormatMap.get(x)},h.prototype.createZXingFormats=function(x){for(var d=[],A=0,E=x;A<E.length;A++){var y=E[A];this.formatMap.has(y)?d.push(this.formatMap.get(y)):this.logger.logError("".concat(y," is not supported by")+"ZXingHtml5QrcodeShim")}return d},h.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},h}(),fx=function(h,x,d,A){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function B(L){try{w(A.next(L))}catch(k){N(k)}}function O(L){try{w(A.throw(L))}catch(k){N(k)}}function w(L){L.done?y(L.value):E(L.value).then(B,O)}w((A=A.apply(h,x||[])).next())})},hx=function(h,x){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,E,y,N;return N={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function B(w){return function(L){return O([w,L])}}function O(w){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,w[0]&&(d=0)),d;)try{if(A=1,E&&(y=w[0]&2?E.return:w[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,w[1])).done)return y;switch(E=0,y&&(w=[w[0]&2,y.value]),w[0]){case 0:case 1:y=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,E=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){d.label=w[1];break}if(w[0]===6&&d.label<y[1]){d.label=y[1],y=w;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(w);break}y[2]&&d.ops.pop(),d.trys.pop();continue}w=x.call(h,d)}catch(L){w=[6,L],E=0}finally{A=y=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},yh=function(){function h(x,d,A){if(this.formatMap=new Map([[Me.QR_CODE,"qr_code"],[Me.AZTEC,"aztec"],[Me.CODABAR,"codabar"],[Me.CODE_39,"code_39"],[Me.CODE_93,"code_93"],[Me.CODE_128,"code_128"],[Me.DATA_MATRIX,"data_matrix"],[Me.ITF,"itf"],[Me.EAN_13,"ean_13"],[Me.EAN_8,"ean_8"],[Me.PDF_417,"pdf417"],[Me.UPC_A,"upc_a"],[Me.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!h.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=d,this.logger=A;var E=this.createBarcodeDetectorFormats(x);if(this.detector=new BarcodeDetector(E),!this.detector)throw"BarcodeDetector detector not supported"}return h.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var x=new BarcodeDetector({formats:["qr_code"]});return typeof x<"u"},h.prototype.decodeAsync=function(x){return fx(this,void 0,void 0,function(){var d,A;return hx(this,function(E){switch(E.label){case 0:return[4,this.detector.detect(x)];case 1:if(d=E.sent(),!d||d.length===0)throw"No barcode or QR code detected.";return A=this.selectLargestBarcode(d),[2,{text:A.rawValue,format:Xh.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}]}})})},h.prototype.selectLargestBarcode=function(x){for(var d=null,A=0,E=0,y=x;E<y.length;E++){var N=y[E],B=N.boundingBox.width*N.boundingBox.height;B>A&&(A=B,d=N)}if(!d)throw"No largest barcode found";return d},h.prototype.createBarcodeDetectorFormats=function(x){for(var d=[],A=0,E=x;A<E.length;A++){var y=E[A];this.formatMap.has(y)?d.push(this.formatMap.get(y)):this.logger.warn("".concat(y," is not supported by")+"BarcodeDetectorDelegate")}return{formats:d}},h.prototype.toHtml5QrcodeSupportedFormats=function(x){if(!this.reverseFormatMap.has(x))throw"reverseFormatMap doesn't have ".concat(x);return this.reverseFormatMap.get(x)},h.prototype.createReverseFormatMap=function(){var x=new Map;return this.formatMap.forEach(function(d,A,E){x.set(d,A)}),x},h.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},h}(),Eh=function(h,x,d,A){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function B(L){try{w(A.next(L))}catch(k){N(k)}}function O(L){try{w(A.throw(L))}catch(k){N(k)}}function w(L){L.done?y(L.value):E(L.value).then(B,O)}w((A=A.apply(h,x||[])).next())})},wh=function(h,x){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,E,y,N;return N={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function B(w){return function(L){return O([w,L])}}function O(w){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,w[0]&&(d=0)),d;)try{if(A=1,E&&(y=w[0]&2?E.return:w[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,w[1])).done)return y;switch(E=0,y&&(w=[w[0]&2,y.value]),w[0]){case 0:case 1:y=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,E=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){d.label=w[1];break}if(w[0]===6&&d.label<y[1]){d.label=y[1],y=w;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(w);break}y[2]&&d.ops.pop(),d.trys.pop();continue}w=x.call(h,d)}catch(L){w=[6,L],E=0}finally{A=y=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},dx=function(){function h(x,d,A,E){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=A,d&&yh.isSupported()?(this.primaryDecoder=new yh(x,A,E),this.secondaryDecoder=new Ah(x,A,E)):this.primaryDecoder=new Ah(x,A,E)}return h.prototype.decodeAsync=function(x){return Eh(this,void 0,void 0,function(){var d;return wh(this,function(A){switch(A.label){case 0:d=performance.now(),A.label=1;case 1:return A.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(x)];case 2:return[2,A.sent()];case 3:return this.possiblyLogPerformance(d),[7];case 4:return[2]}})})},h.prototype.decodeRobustlyAsync=function(x){return Eh(this,void 0,void 0,function(){var d,A;return wh(this,function(E){switch(E.label){case 0:d=performance.now(),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(x)];case 2:return[2,E.sent()];case 3:if(A=E.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(x)];throw A;case 4:return this.possiblyLogPerformance(d),[7];case 5:return[2]}})})},h.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},h.prototype.possiblyLogPerformance=function(x){if(this.verbose){var d=performance.now()-x;this.executionResults.push(d),this.executions++,this.possiblyFlushPerformanceReport()}},h.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var x=0,d=0,A=this.executionResults;d<A.length;d++){var E=A[d];x+=E}var y=x/this.executionResults.length;console.log("".concat(y," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},h}(),uf=function(){var h=function(x,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(A[y]=E[y])},h(x,d)};return function(x,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");h(x,d);function A(){this.constructor=x}x.prototype=d===null?Object.create(d):(A.prototype=d.prototype,new A)}}(),jo=function(h,x,d,A){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function B(L){try{w(A.next(L))}catch(k){N(k)}}function O(L){try{w(A.throw(L))}catch(k){N(k)}}function w(L){L.done?y(L.value):E(L.value).then(B,O)}w((A=A.apply(h,x||[])).next())})},Vo=function(h,x){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,E,y,N;return N={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function B(w){return function(L){return O([w,L])}}function O(w){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,w[0]&&(d=0)),d;)try{if(A=1,E&&(y=w[0]&2?E.return:w[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,w[1])).done)return y;switch(E=0,y&&(w=[w[0]&2,y.value]),w[0]){case 0:case 1:y=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,E=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){d.label=w[1];break}if(w[0]===6&&d.label<y[1]){d.label=y[1],y=w;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(w);break}y[2]&&d.ops.pop(),d.trys.pop();continue}w=x.call(h,d)}catch(L){w=[6,L],E=0}finally{A=y=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Wh=function(){function h(x,d){this.name=x,this.track=d}return h.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},h.prototype.apply=function(x){var d={};d[this.name]=x;var A={advanced:[d]};return this.track.applyConstraints(A)},h.prototype.value=function(){var x=this.track.getSettings();if(this.name in x){var d=x[this.name];return d}return null},h}(),gx=function(h){uf(x,h);function x(d,A){return h.call(this,d,A)||this}return x.prototype.min=function(){return this.getCapabilities().min},x.prototype.max=function(){return this.getCapabilities().max},x.prototype.step=function(){return this.getCapabilities().step},x.prototype.apply=function(d){var A={};A[this.name]=d;var E={advanced:[A]};return this.track.applyConstraints(E)},x.prototype.getCapabilities=function(){this.failIfNotSupported();var d=this.track.getCapabilities(),A=d[this.name];return{min:A.min,max:A.max,step:A.step}},x.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},x}(Wh),xx=function(h){uf(x,h);function x(d){return h.call(this,"zoom",d)||this}return x}(gx),mx=function(h){uf(x,h);function x(d){return h.call(this,"torch",d)||this}return x}(Wh),px=function(){function h(x){this.track=x}return h.prototype.zoomFeature=function(){return new xx(this.track)},h.prototype.torchFeature=function(){return new mx(this.track)},h}(),Ax=function(){function h(x,d,A){this.isClosed=!1,this.parentElement=x,this.mediaStream=d,this.callbacks=A,this.surface=this.createVideoElement(this.parentElement.clientWidth),x.append(this.surface)}return h.prototype.createVideoElement=function(x){var d=document.createElement("video");return d.style.width="".concat(x,"px"),d.style.display="block",d.muted=!0,d.setAttribute("muted","true"),d.playsInline=!0,d},h.prototype.setupSurface=function(){var x=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var d=function(){var A=x.surface.clientWidth,E=x.surface.clientHeight;x.callbacks.onRenderSurfaceReady(A,E),x.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.srcObject=this.mediaStream,this.surface.play()},h.create=function(x,d,A,E){return jo(this,void 0,void 0,function(){var y,N;return Vo(this,function(B){switch(B.label){case 0:return y=new h(x,d,E),A.aspectRatio?(N={aspectRatio:A.aspectRatio},[4,y.getFirstTrackOrFail().applyConstraints(N)]):[3,2];case 1:B.sent(),B.label=2;case 2:return y.setupSurface(),[2,y]}})})},h.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},h.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},h.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},h.prototype.resume=function(x){this.failIfClosed();var d=this,A=function(){setTimeout(x,200),d.surface.removeEventListener("playing",A)};this.surface.addEventListener("playing",A),this.surface.play()},h.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},h.prototype.getSurface=function(){return this.failIfClosed(),this.surface},h.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},h.prototype.applyVideoConstraints=function(x){return jo(this,void 0,void 0,function(){return Vo(this,function(d){if("aspectRatio"in x)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(x)]})})},h.prototype.close=function(){if(this.isClosed)return Promise.resolve();var x=this;return new Promise(function(d,A){var E=x.mediaStream.getVideoTracks(),y=E.length,N=0;x.mediaStream.getVideoTracks().forEach(function(B){x.mediaStream.removeTrack(B),B.stop(),++N,N>=y&&(x.isClosed=!0,x.parentElement.removeChild(x.surface),d())})})},h.prototype.getCapabilities=function(){return new px(this.getFirstTrackOrFail())},h}(),yx=function(){function h(x){this.mediaStream=x}return h.prototype.render=function(x,d,A){return jo(this,void 0,void 0,function(){return Vo(this,function(E){return[2,Ax.create(x,this.mediaStream,d,A)]})})},h.create=function(x){return jo(this,void 0,void 0,function(){var d,A;return Vo(this,function(E){switch(E.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return d={audio:!1,video:x},[4,navigator.mediaDevices.getUserMedia(d)];case 1:return A=E.sent(),[2,new h(A)]}})})},h}(),Ch=function(h,x,d,A){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function B(L){try{w(A.next(L))}catch(k){N(k)}}function O(L){try{w(A.throw(L))}catch(k){N(k)}}function w(L){L.done?y(L.value):E(L.value).then(B,O)}w((A=A.apply(h,x||[])).next())})},Sh=function(h,x){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,E,y,N;return N={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function B(w){return function(L){return O([w,L])}}function O(w){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,w[0]&&(d=0)),d;)try{if(A=1,E&&(y=w[0]&2?E.return:w[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,w[1])).done)return y;switch(E=0,y&&(w=[w[0]&2,y.value]),w[0]){case 0:case 1:y=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,E=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){d.label=w[1];break}if(w[0]===6&&d.label<y[1]){d.label=y[1],y=w;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(w);break}y[2]&&d.ops.pop(),d.trys.pop();continue}w=x.call(h,d)}catch(L){w=[6,L],E=0}finally{A=y=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Ex=function(){function h(){}return h.failIfNotSupported=function(){return Ch(this,void 0,void 0,function(){return Sh(this,function(x){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new h]})})},h.prototype.create=function(x){return Ch(this,void 0,void 0,function(){return Sh(this,function(d){return[2,yx.create(x)]})})},h}(),wx=function(h,x,d,A){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function B(L){try{w(A.next(L))}catch(k){N(k)}}function O(L){try{w(A.throw(L))}catch(k){N(k)}}function w(L){L.done?y(L.value):E(L.value).then(B,O)}w((A=A.apply(h,x||[])).next())})},Cx=function(h,x){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,E,y,N;return N={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function B(w){return function(L){return O([w,L])}}function O(w){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,w[0]&&(d=0)),d;)try{if(A=1,E&&(y=w[0]&2?E.return:w[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,w[1])).done)return y;switch(E=0,y&&(w=[w[0]&2,y.value]),w[0]){case 0:case 1:y=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,E=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){d.label=w[1];break}if(w[0]===6&&d.label<y[1]){d.label=y[1],y=w;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(w);break}y[2]&&d.ops.pop(),d.trys.pop();continue}w=x.call(h,d)}catch(L){w=[6,L],E=0}finally{A=y=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Sx=function(){function h(){}return h.retrieve=function(){if(navigator.mediaDevices)return h.getCamerasFromMediaDevices();var x=MediaStreamTrack;return MediaStreamTrack&&x.getSources?h.getCamerasFromMediaStreamTrack():h.rejectWithError()},h.rejectWithError=function(){var x=Nl.unableToQuerySupportedDevices();return h.isHttpsOrLocalhost()||(x=Nl.insecureContextCameraQueryError()),Promise.reject(x)},h.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var x=location.host.split(":")[0];return x==="127.0.0.1"||x==="localhost"},h.getCamerasFromMediaDevices=function(){return wx(this,void 0,void 0,function(){var x,d,A,E,y,N,B;return Cx(this,function(O){switch(O.label){case 0:return x=function(w){for(var L=w.getVideoTracks(),k=0,J=L;k<J.length;k++){var ne=J[k];ne.enabled=!1,ne.stop(),w.removeTrack(ne)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return d=O.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(A=O.sent(),E=[],y=0,N=A;y<N.length;y++)B=N[y],B.kind==="videoinput"&&E.push({id:B.deviceId,label:B.label});return x(d),[2,E]}})})},h.getCamerasFromMediaStreamTrack=function(){return new Promise(function(x,d){var A=function(y){for(var N=[],B=0,O=y;B<O.length;B++){var w=O[B];w.kind==="video"&&N.push({id:w.id,label:w.label})}x(N)},E=MediaStreamTrack;E.getSources(A)})},h}(),nn;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.NOT_STARTED=1]="NOT_STARTED",h[h.SCANNING=2]="SCANNING",h[h.PAUSED=3]="PAUSED"})(nn||(nn={}));var bx=function(){function h(){this.state=nn.NOT_STARTED,this.onGoingTransactionNewState=nn.UNKNOWN}return h.prototype.directTransition=function(x){this.failIfTransitionOngoing(),this.validateTransition(x),this.state=x},h.prototype.startTransition=function(x){return this.failIfTransitionOngoing(),this.validateTransition(x),this.onGoingTransactionNewState=x,this},h.prototype.execute=function(){if(this.onGoingTransactionNewState===nn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var x=this.onGoingTransactionNewState;this.onGoingTransactionNewState=nn.UNKNOWN,this.directTransition(x)},h.prototype.cancel=function(){if(this.onGoingTransactionNewState===nn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=nn.UNKNOWN},h.prototype.getState=function(){return this.state},h.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==nn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},h.prototype.validateTransition=function(x){switch(this.state){case nn.UNKNOWN:throw"Transition from unknown is not allowed";case nn.NOT_STARTED:this.failIfNewStateIs(x,[nn.PAUSED]);break;case nn.SCANNING:break;case nn.PAUSED:break}},h.prototype.failIfNewStateIs=function(x,d){for(var A=0,E=d;A<E.length;A++){var y=E[A];if(x===y)throw"Cannot transition from ".concat(this.state," to ").concat(x)}},h}(),Tx=function(){function h(x){this.stateManager=x}return h.prototype.startTransition=function(x){return this.stateManager.startTransition(x)},h.prototype.directTransition=function(x){this.stateManager.directTransition(x)},h.prototype.getState=function(){return this.stateManager.getState()},h.prototype.canScanFile=function(){return this.stateManager.getState()===nn.NOT_STARTED},h.prototype.isScanning=function(){return this.stateManager.getState()!==nn.NOT_STARTED},h.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===nn.SCANNING},h.prototype.isPaused=function(){return this.stateManager.getState()===nn.PAUSED},h}(),vx=function(){function h(){}return h.create=function(){return new Tx(new bx)},h}(),Nx=function(){var h=function(x,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(A[y]=E[y])},h(x,d)};return function(x,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");h(x,d);function A(){this.constructor=x}x.prototype=d===null?Object.create(d):(A.prototype=d.prototype,new A)}}(),ai=function(h){Nx(x,h);function x(){return h!==null&&h.apply(this,arguments)||this}return x.DEFAULT_WIDTH=300,x.DEFAULT_WIDTH_OFFSET=2,x.FILE_SCAN_MIN_HEIGHT=300,x.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,x.MIN_QR_BOX_SIZE=50,x.SHADED_LEFT=1,x.SHADED_RIGHT=2,x.SHADED_TOP=3,x.SHADED_BOTTOM=4,x.SHADED_REGION_ELEMENT_ID="qr-shaded-region",x.VERBOSE=!1,x.BORDER_SHADER_DEFAULT_COLOR="#ffffff",x.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",x}(Ni),Mx=function(){function h(x,d){this.logger=d,this.fps=ai.SCAN_DEFAULT_FPS,x?(x.fps&&(this.fps=x.fps),this.disableFlip=x.disableFlip===!0,this.qrbox=x.qrbox,this.aspectRatio=x.aspectRatio,this.videoConstraints=x.videoConstraints):this.disableFlip=ai.DEFAULT_DISABLE_FLIP}return h.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Qh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},h.prototype.isShadedBoxEnabled=function(){return!qi(this.qrbox)},h.create=function(x,d){return new h(x,d)},h}(),bh=function(){function h(x,d){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(x))throw"HTML Element with id=".concat(x," not found");this.elementId=x,this.verbose=!1;var A;typeof d=="boolean"?this.verbose=d===!0:d&&(A=d,this.verbose=A.verbose===!0,A.experimentalFeatures),this.logger=new Zh(this.verbose),this.qrcode=new dx(this.getSupportedFormats(d),this.getUseBarCodeDetectorIfSupported(A),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=vx.create()}return h.prototype.start=function(x,d,A,E){var y=this;if(!x)throw"cameraIdOrConfig is required";if(!A||typeof A!="function")throw"qrCodeSuccessCallback is required and should be a function.";var N;E?N=E:N=this.verbose?this.logger.log:function(){};var B=Mx.create(d,this.logger);this.clearElement();var O=!1;B.videoConstraints&&(B.isMediaStreamConstraintsValid()?O=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=O,L=document.getElementById(this.elementId);L.clientWidth?L.clientWidth:ai.DEFAULT_WIDTH,L.style.position="relative",this.shouldScan=!0,this.element=L;var k=this,J=this.stateManagerProxy.startTransition(nn.SCANNING);return new Promise(function(ne,ae){var fe=w?B.videoConstraints:k.createVideoConstraints(x);if(!fe){J.cancel(),ae("videoConstraints should be defined");return}var $={};(!w||B.aspectRatio)&&($.aspectRatio=B.aspectRatio);var ce={onRenderSurfaceReady:function(we,oe){k.setupUi(we,oe,B),k.isScanning=!0,k.foreverScan(B,A,N)}};Ex.failIfNotSupported().then(function(we){we.create(fe).then(function(oe){return oe.render(y.element,$,ce).then(function(Ie){k.renderedCamera=Ie,J.execute(),ne(null)}).catch(function(Ie){J.cancel(),ae(Ie)})}).catch(function(oe){J.cancel(),ae(Nl.errorGettingUserMedia(oe))})}).catch(function(we){J.cancel(),ae(Nl.cameraStreamingNotSupported())})})},h.prototype.pause=function(x){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(nn.PAUSED),this.showPausedState(),(qi(x)||x!==!0)&&(x=!1),x&&this.renderedCamera&&this.renderedCamera.pause()},h.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var x=this,d=function(){x.stateManagerProxy.directTransition(nn.SCANNING),x.hidePausedState()};if(!this.renderedCamera.isPaused()){d();return}this.renderedCamera.resume(function(){d()})},h.prototype.getState=function(){return this.stateManagerProxy.getState()},h.prototype.stop=function(){var x=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var d=this.stateManagerProxy.startTransition(nn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var A=function(){if(x.element){var y=document.getElementById(ai.SHADED_REGION_ELEMENT_ID);y&&x.element.removeChild(y)}},E=this;return this.renderedCamera.close().then(function(){return E.renderedCamera=null,E.element&&(E.element.removeChild(E.canvasElement),E.canvasElement=null),A(),E.qrRegion&&(E.qrRegion=null),E.context&&(E.context=null),d.execute(),E.hidePausedState(),E.isScanning=!1,Promise.resolve()})},h.prototype.scanFile=function(x,d){return this.scanFileV2(x,d).then(function(A){return A.decodedText})},h.prototype.scanFileV2=function(x,d){var A=this;if(!x||!(x instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(qi(d)&&(d=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(E,y){A.possiblyCloseLastScanImageFile(),A.clearElement(),A.lastScanImageFile=URL.createObjectURL(x);var N=new Image;N.onload=function(){var B=N.width,O=N.height,w=document.getElementById(A.elementId),L=w.clientWidth?w.clientWidth:ai.DEFAULT_WIDTH,k=Math.max(w.clientHeight?w.clientHeight:O,ai.FILE_SCAN_MIN_HEIGHT),J=A.computeCanvasDrawConfig(B,O,L,k);if(d){var ne=A.createCanvasElement(L,k,"qr-canvas-visible");ne.style.display="inline-block",w.appendChild(ne);var ae=ne.getContext("2d");if(!ae)throw"Unable to get 2d context from canvas";ae.canvas.width=L,ae.canvas.height=k,ae.drawImage(N,0,0,B,O,J.x,J.y,J.width,J.height)}var fe=ai.FILE_SCAN_HIDDEN_CANVAS_PADDING,$=Math.max(N.width,J.width),ce=Math.max(N.height,J.height),we=$+2*fe,oe=ce+2*fe,Ie=A.createCanvasElement(we,oe);w.appendChild(Ie);var Le=Ie.getContext("2d");if(!Le)throw"Unable to get 2d context from canvas";Le.canvas.width=we,Le.canvas.height=oe,Le.drawImage(N,0,0,B,O,fe,fe,$,ce);try{A.qrcode.decodeRobustlyAsync(Ie).then(function(je){E(xh.createFromQrcodeResult(je))}).catch(y)}catch(je){y("QR code parse error, error = ".concat(je))}},N.onerror=y,N.onabort=y,N.onstalled=y,N.onsuspend=y,N.src=URL.createObjectURL(x)})},h.prototype.clear=function(){this.clearElement()},h.getCameras=function(){return Sx.retrieve()},h.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},h.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},h.prototype.applyVideoConstraints=function(x){if(x){if(!Qh.isMediaStreamConstraintsValid(x,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(x)},h.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},h.prototype.getSupportedFormats=function(x){var d=[Me.QR_CODE,Me.AZTEC,Me.CODABAR,Me.CODE_39,Me.CODE_93,Me.CODE_128,Me.DATA_MATRIX,Me.MAXICODE,Me.ITF,Me.EAN_13,Me.EAN_8,Me.PDF_417,Me.RSS_14,Me.RSS_EXPANDED,Me.UPC_A,Me.UPC_E,Me.UPC_EAN_EXTENSION];if(!x||typeof x=="boolean"||!x.formatsToSupport)return d;if(!Array.isArray(x.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(x.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var A=[],E=0,y=x.formatsToSupport;E<y.length;E++){var N=y[E];rx(N)?A.push(N):this.logger.warn("Invalid format: ".concat(N," passed in config, ignoring."))}if(A.length===0)throw"None of formatsToSupport match supported values.";return A},h.prototype.getUseBarCodeDetectorIfSupported=function(x){if(qi(x))return!0;if(!qi(x.useBarCodeDetectorIfSupported))return x.useBarCodeDetectorIfSupported!==!1;if(qi(x.experimentalFeatures))return!0;var d=x.experimentalFeatures;return qi(d.useBarCodeDetectorIfSupported)?!0:d.useBarCodeDetectorIfSupported!==!1},h.prototype.validateQrboxSize=function(x,d,A){var E=this,y=A.qrbox;this.validateQrboxConfig(y);var N=this.toQrdimensions(x,d,y),B=function(w){if(w<ai.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ai.MIN_QR_BOX_SIZE,"px.")},O=function(w){return w>x&&(E.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=x),w};B(N.width),B(N.height),N.width=O(N.width)},h.prototype.validateQrboxConfig=function(x){if(typeof x!="number"&&typeof x!="function"&&(x.width===void 0||x.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},h.prototype.toQrdimensions=function(x,d,A){if(typeof A=="number")return{width:A,height:A};if(typeof A=="function")try{return A(x,d)}catch(E){throw new Error("qrbox config was passed as a function but it failed with unknown error"+E)}return A},h.prototype.setupUi=function(x,d,A){A.isShadedBoxEnabled()&&this.validateQrboxSize(x,d,A);var E=qi(A.qrbox)?{width:x,height:d}:A.qrbox;this.validateQrboxConfig(E);var y=this.toQrdimensions(x,d,E);y.height>d&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var N=A.isShadedBoxEnabled()&&y.height<=d,B={x:0,y:0,width:x,height:d},O=N?this.getShadedRegionBounds(x,d,y):B,w=this.createCanvasElement(O.width,O.height),L={willReadFrequently:!0},k=w.getContext("2d",L);k.canvas.width=O.width,k.canvas.height=O.height,this.element.append(w),N&&this.possiblyInsertShadingElement(this.element,x,d,y),this.createScannerPausedUiElement(this.element),this.qrRegion=O,this.context=k,this.canvasElement=w},h.prototype.createScannerPausedUiElement=function(x){var d=document.createElement("div");d.innerText=Nl.scannerPaused(),d.style.display="none",d.style.position="absolute",d.style.top="0px",d.style.zIndex="1",d.style.background="rgba(9, 9, 9, 0.46)",d.style.color="#FFECEC",d.style.textAlign="center",d.style.width="100%",x.appendChild(d),this.scannerPausedUiElement=d},h.prototype.scanContext=function(x,d){var A=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(E){return x(E.text,xh.createFromQrcodeResult(E)),A.possiblyUpdateShaders(!0),!0}).catch(function(E){A.possiblyUpdateShaders(!1);var y=Nl.codeParseError(E);return d(y,qh.createFrom(y)),!1})},h.prototype.foreverScan=function(x,d,A){var E=this;if(this.shouldScan&&this.renderedCamera){var y=this.renderedCamera.getSurface(),N=y.videoWidth/y.clientWidth,B=y.videoHeight/y.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var O=this.qrRegion.width*N,w=this.qrRegion.height*B,L=this.qrRegion.x*N,k=this.qrRegion.y*B;this.context.drawImage(y,L,k,O,w,0,0,this.qrRegion.width,this.qrRegion.height);var J=function(){E.foreverScanTimeout=setTimeout(function(){E.foreverScan(x,d,A)},E.getTimeoutFps(x.fps))};this.scanContext(d,A).then(function(ne){!ne&&x.disableFlip!==!0?(E.context.translate(E.context.canvas.width,0),E.context.scale(-1,1),E.scanContext(d,A).finally(function(){J()})):J()}).catch(function(ne){E.logger.logError("Error happend while scanning context",ne),J()})}},h.prototype.createVideoConstraints=function(x){if(typeof x=="string")return{deviceId:{exact:x}};if(typeof x=="object"){var d="facingMode",A="deviceId",E={user:!0,environment:!0},y="exact",N=function(ae){if(ae in E)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ae,"'")},B=Object.keys(x);if(B.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(B.length," keys");var O=Object.keys(x)[0];if(O!==d&&O!==A)throw"Only '".concat(d,"' and '").concat(A,"' ")+" are supported for 'cameraIdOrConfig'";if(O===d){var w=x.facingMode;if(typeof w=="string"){if(N(w))return{facingMode:w}}else if(typeof w=="object")if(y in w){if(N(w["".concat(y)]))return{facingMode:{exact:w["".concat(y)]}}}else throw"'facingMode' should be string or object with"+" ".concat(y," as key.");else{var L=typeof w;throw"Invalid type of 'facingMode' = ".concat(L)}}else{var k=x.deviceId;if(typeof k=="string")return{deviceId:k};if(typeof k=="object"){if(y in k)return{deviceId:{exact:k["".concat(y)]}};throw"'deviceId' should be string or object with"+" ".concat(y," as key.")}else{var J=typeof k;throw"Invalid type of 'deviceId' = ".concat(J)}}}var ne=typeof x;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ne)},h.prototype.computeCanvasDrawConfig=function(x,d,A,E){if(x<=A&&d<=E){var y=(A-x)/2,N=(E-d)/2;return{x:y,y:N,width:x,height:d}}else{var B=x,O=d;return x>A&&(d=A/x*d,x=A),d>E&&(x=E/d*x,d=E),this.logger.log("Image downsampled from "+"".concat(B,"X").concat(O)+" to ".concat(x,"X").concat(d,".")),this.computeCanvasDrawConfig(x,d,A,E)}},h.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var x=document.getElementById(this.elementId);x&&(x.innerHTML="")},h.prototype.possiblyUpdateShaders=function(x){this.qrMatch!==x&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(d){d.style.backgroundColor=x?ai.BORDER_SHADER_MATCH_COLOR:ai.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=x)},h.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},h.prototype.createCanvasElement=function(x,d,A){var E=x,y=d,N=document.createElement("canvas");return N.style.width="".concat(E,"px"),N.style.height="".concat(y,"px"),N.style.display="none",N.id=qi(A)?"qr-canvas":A,N},h.prototype.getShadedRegionBounds=function(x,d,A){if(A.width>x||A.height>d)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(x-A.width)/2,y:(d-A.height)/2,width:A.width,height:A.height}},h.prototype.possiblyInsertShadingElement=function(x,d,A,E){if(!(d-E.width<1||A-E.height<1)){var y=document.createElement("div");y.style.position="absolute";var N=(d-E.width)/2,B=(A-E.height)/2;if(y.style.borderLeft="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderRight="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderTop="".concat(B,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderBottom="".concat(B,"px solid rgba(0, 0, 0, 0.48)"),y.style.boxSizing="border-box",y.style.top="0px",y.style.bottom="0px",y.style.left="0px",y.style.right="0px",y.id="".concat(ai.SHADED_REGION_ELEMENT_ID),d-E.width<11||A-E.height<11)this.hasBorderShaders=!1;else{var O=5,w=40;this.insertShaderBorders(y,w,O,-O,null,0,!0),this.insertShaderBorders(y,w,O,-O,null,0,!1),this.insertShaderBorders(y,w,O,null,-O,0,!0),this.insertShaderBorders(y,w,O,null,-O,0,!1),this.insertShaderBorders(y,O,w+O,-O,null,-O,!0),this.insertShaderBorders(y,O,w+O,null,-O,-O,!0),this.insertShaderBorders(y,O,w+O,-O,null,-O,!1),this.insertShaderBorders(y,O,w+O,null,-O,-O,!1),this.hasBorderShaders=!0}x.append(y)}},h.prototype.insertShaderBorders=function(x,d,A,E,y,N,B){var O=document.createElement("div");O.style.position="absolute",O.style.backgroundColor=ai.BORDER_SHADER_DEFAULT_COLOR,O.style.width="".concat(d,"px"),O.style.height="".concat(A,"px"),E!==null&&(O.style.top="".concat(E,"px")),y!==null&&(O.style.bottom="".concat(y,"px")),B?O.style.left="".concat(N,"px"):O.style.right="".concat(N,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(O),x.appendChild(O)},h.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},h.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},h.prototype.getTimeoutFps=function(x){return 1e3/x},h}(),cf="data:image/svg+xml;base64,",Ix=cf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Ox=cf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Th=cf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Rx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",vh=function(){function h(){}return h.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},h}(),_x=function(){function h(){this.data=vh.createDefault();var x=localStorage.getItem(h.LOCAL_STORAGE_KEY);x?this.data=JSON.parse(x):this.reset()}return h.prototype.hasCameraPermissions=function(){return this.data.hasPermission},h.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},h.prototype.setHasPermission=function(x){this.data.hasPermission=x,this.flush()},h.prototype.setLastUsedCameraId=function(x){this.data.lastUsedCameraId=x,this.flush()},h.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},h.prototype.reset=function(){this.data=vh.createDefault(),this.flush()},h.prototype.flush=function(){localStorage.setItem(h.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},h.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",h}(),Dx=function(){function h(){this.infoDiv=document.createElement("div")}return h.prototype.renderInto=function(x){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=mh.poweredBy();var d=document.createElement("a");d.innerText="ScanApp",d.href="https://scanapp.org",d.target="new",d.style.color="white",this.infoDiv.appendChild(d);var A=document.createElement("br"),E=document.createElement("br");this.infoDiv.appendChild(A),this.infoDiv.appendChild(E);var y=document.createElement("a");y.innerText=mh.reportIssues(),y.href="https://github.com/mebjas/html5-qrcode/issues",y.target="new",y.style.color="white",this.infoDiv.appendChild(y),x.appendChild(this.infoDiv)},h.prototype.show=function(){this.infoDiv.style.display="block"},h.prototype.hide=function(){this.infoDiv.style.display="none"},h}(),Bx=function(){function h(x,d){this.isShowingInfoIcon=!0,this.onTapIn=x,this.onTapOut=d,this.infoIcon=document.createElement("img")}return h.prototype.renderInto=function(x){var d=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Th,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(A){return d.onHoverIn()},this.infoIcon.onmouseout=function(A){return d.onHoverOut()},this.infoIcon.onclick=function(A){return d.onClick()},x.appendChild(this.infoIcon)},h.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},h.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},h.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Rx,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Th,this.infoIcon.style.opacity="0.6")},h}(),Lx=function(){function h(){var x=this;this.infoDiv=new Dx,this.infoIcon=new Bx(function(){x.infoDiv.show()},function(){x.infoDiv.hide()})}return h.prototype.renderInto=function(x){this.infoDiv.renderInto(x),this.infoIcon.renderInto(x)},h}(),Ux=function(h,x,d,A){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function B(L){try{w(A.next(L))}catch(k){N(k)}}function O(L){try{w(A.throw(L))}catch(k){N(k)}}function w(L){L.done?y(L.value):E(L.value).then(B,O)}w((A=A.apply(h,x||[])).next())})},kx=function(h,x){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,E,y,N;return N={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function B(w){return function(L){return O([w,L])}}function O(w){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,w[0]&&(d=0)),d;)try{if(A=1,E&&(y=w[0]&2?E.return:w[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,w[1])).done)return y;switch(E=0,y&&(w=[w[0]&2,y.value]),w[0]){case 0:case 1:y=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,E=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){d.label=w[1];break}if(w[0]===6&&d.label<y[1]){d.label=y[1],y=w;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(w);break}y[2]&&d.ops.pop(),d.trys.pop();continue}w=x.call(h,d)}catch(L){w=[6,L],E=0}finally{A=y=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Nh=function(){function h(){}return h.hasPermissions=function(){return Ux(this,void 0,void 0,function(){var x,d,A,E;return kx(this,function(y){switch(y.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(x=y.sent(),d=0,A=x;d<A.length;d++)if(E=A[d],E.kind==="videoinput"&&E.label)return[2,!0];return[2,!1]}})})},h}(),ur=function(){function h(x){this.supportedScanTypes=this.validateAndReturnScanTypes(x)}return h.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},h.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},h.prototype.isCameraScanRequired=function(){for(var x=0,d=this.supportedScanTypes;x<d.length;x++){var A=d[x];if(h.isCameraScanType(A))return!0}return!1},h.isCameraScanType=function(x){return x===cr.SCAN_TYPE_CAMERA},h.isFileScanType=function(x){return x===cr.SCAN_TYPE_FILE},h.prototype.validateAndReturnScanTypes=function(x){if(!x||x.length===0)return Ni.DEFAULT_SUPPORTED_SCAN_TYPE;var d=Ni.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(x.length>d)throw"Max ".concat(d," values expected for ")+"supportedScanTypes";for(var A=0,E=x;A<E.length;A++){var y=E[A];if(!Ni.DEFAULT_SUPPORTED_SCAN_TYPE.includes(y))throw"Unsupported scan type ".concat(y)}return x},h}(),li=function(){function h(){}return h.ALL_ELEMENT_CLASS="html5-qrcode-element",h.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",h.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",h.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",h.TORCH_BUTTON_ID="html5-qrcode-button-torch",h.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",h.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",h.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",h.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",h.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",h.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",h}(),ya=function(){function h(){}return h.createElement=function(x,d){var A=document.createElement(x);return A.id=d,A.classList.add(li.ALL_ELEMENT_CLASS),x==="button"&&A.setAttribute("type","button"),A},h}(),Kh=function(h,x,d,A){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function B(L){try{w(A.next(L))}catch(k){N(k)}}function O(L){try{w(A.throw(L))}catch(k){N(k)}}function w(L){L.done?y(L.value):E(L.value).then(B,O)}w((A=A.apply(h,x||[])).next())})},Jh=function(h,x){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,E,y,N;return N={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function B(w){return function(L){return O([w,L])}}function O(w){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,w[0]&&(d=0)),d;)try{if(A=1,E&&(y=w[0]&2?E.return:w[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,w[1])).done)return y;switch(E=0,y&&(w=[w[0]&2,y.value]),w[0]){case 0:case 1:y=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,E=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){d.label=w[1];break}if(w[0]===6&&d.label<y[1]){d.label=y[1],y=w;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(w);break}y[2]&&d.ops.pop(),d.trys.pop();continue}w=x.call(h,d)}catch(L){w=[6,L],E=0}finally{A=y=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Mh=function(){function h(x,d,A){this.isTorchOn=!1,this.torchCapability=x,this.buttonController=d,this.onTorchActionFailureCallback=A}return h.prototype.isTorchEnabled=function(){return this.isTorchOn},h.prototype.flipState=function(){return Kh(this,void 0,void 0,function(){var x,d;return Jh(this,function(A){switch(A.label){case 0:this.buttonController.disable(),x=!this.isTorchOn,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.torchCapability.apply(x)];case 2:return A.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),x),[3,4];case 3:return d=A.sent(),this.propagateFailure(x,d),this.buttonController.enable(),[3,4];case 4:return[2]}})})},h.prototype.updateUiBasedOnLatestSettings=function(x,d){x===d?(this.buttonController.setText(d?Rt.torchOffButton():Rt.torchOnButton()),this.isTorchOn=d):this.propagateFailure(d),this.buttonController.enable()},h.prototype.propagateFailure=function(x,d){var A=x?Rt.torchOnFailedMessage():Rt.torchOffFailedMessage();d&&(A+="; Error = "+d),this.onTorchActionFailureCallback(A)},h.prototype.reset=function(){this.isTorchOn=!1},h}(),zx=function(){function h(x,d){this.onTorchActionFailureCallback=d,this.torchButton=ya.createElement("button",li.TORCH_BUTTON_ID),this.torchController=new Mh(x,this,d)}return h.prototype.render=function(x,d){var A=this;this.torchButton.innerText=Rt.torchOnButton(),this.torchButton.style.display=d.display,this.torchButton.style.marginLeft=d.marginLeft;var E=this;this.torchButton.addEventListener("click",function(y){return Kh(A,void 0,void 0,function(){return Jh(this,function(N){switch(N.label){case 0:return[4,E.torchController.flipState()];case 1:return N.sent(),E.torchController.isTorchEnabled()?(E.torchButton.classList.remove(li.TORCH_BUTTON_CLASS_TORCH_OFF),E.torchButton.classList.add(li.TORCH_BUTTON_CLASS_TORCH_ON)):(E.torchButton.classList.remove(li.TORCH_BUTTON_CLASS_TORCH_ON),E.torchButton.classList.add(li.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),x.appendChild(this.torchButton)},h.prototype.updateTorchCapability=function(x){this.torchController=new Mh(x,this,this.onTorchActionFailureCallback)},h.prototype.getTorchButton=function(){return this.torchButton},h.prototype.hide=function(){this.torchButton.style.display="none"},h.prototype.show=function(){this.torchButton.style.display="inline-block"},h.prototype.disable=function(){this.torchButton.disabled=!0},h.prototype.enable=function(){this.torchButton.disabled=!1},h.prototype.setText=function(x){this.torchButton.innerText=x},h.prototype.reset=function(){this.torchButton.innerText=Rt.torchOnButton(),this.torchController.reset()},h.create=function(x,d,A,E){var y=new h(d,E);return y.render(x,A),y},h}(),Fx=function(){function h(x,d,A){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=d?"block":"none",x.appendChild(this.fileBasedScanRegion);var E=document.createElement("label");E.setAttribute("for",this.getFileScanInputId()),E.style.display="inline-block",this.fileBasedScanRegion.appendChild(E),this.fileSelectionButton=ya.createElement("button",li.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(B){E.click()}),E.append(this.fileSelectionButton),this.fileScanInput=ya.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",E.appendChild(this.fileScanInput);var y=this;this.fileScanInput.addEventListener("change",function(B){if(!(B==null||B.target==null)){var O=B.target;if(!(O.files&&O.files.length===0)){var w=O.files,L=w[0],k=L.name;y.setImageNameToButton(k),A(L)}}});var N=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(N),this.fileBasedScanRegion.addEventListener("dragenter",function(B){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),B.stopPropagation(),B.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(B){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder(),B.stopPropagation(),B.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(B){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),B.stopPropagation(),B.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(B){B.stopPropagation(),B.preventDefault(),y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder();var O=B.dataTransfer;if(O){var w=O.files;if(!w||w.length===0)return;for(var L=!1,k=0;k<w.length;++k){var J=w.item(k);if(J){var ne=/image.*/;if(J.type.match(ne)){L=!0;var ae=J.name;y.setImageNameToButton(ae),A(J),N.innerText=Rt.dragAndDropMessage();break}}}L||(N.innerText=Rt.dragAndDropMessageOnlyImages())}})}return h.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},h.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},h.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},h.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},h.prototype.createFileBasedScanRegion=function(){var x=document.createElement("div");return x.style.textAlign="center",x.style.margin="auto",x.style.width="80%",x.style.maxWidth="600px",x.style.border=this.fileBasedScanRegionDefaultBorder(),x.style.padding="10px",x.style.marginBottom="10px",x},h.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},h.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},h.prototype.createDragAndDropMessage=function(){var x=document.createElement("div");return x.innerText=Rt.dragAndDropMessage(),x.style.fontWeight="400",x},h.prototype.setImageNameToButton=function(x){var d=20;if(x.length>d){var A=x.substring(0,8),E=x.length,y=x.substring(E-8,E);x="".concat(A,"....").concat(y)}var N=Rt.fileSelectionChooseAnother()+" - "+x;this.fileSelectionButton.innerText=N},h.prototype.setInitialValueToButton=function(){var x=Rt.fileSelectionChooseImage()+" - "+Rt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=x},h.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},h.create=function(x,d,A){var E=new h(x,d,A);return E},h}(),Px=function(){function h(x){this.selectElement=ya.createElement("select",li.CAMERA_SELECTION_SELECT_ID),this.cameras=x,this.options=[]}return h.prototype.render=function(x){var d=document.createElement("span");d.style.marginRight="10px";var A=this.cameras.length;if(A===0)throw new Error("No cameras found");if(A===1)d.style.display="none";else{var E=Rt.selectCamera();d.innerText="".concat(E," (").concat(this.cameras.length,")  ")}for(var y=1,N=0,B=this.cameras;N<B.length;N++){var O=B[N],w=O.id,L=O.label==null?w:O.label;(!L||L==="")&&(L=[Rt.anonymousCameraPrefix(),y++].join(" "));var k=document.createElement("option");k.value=w,k.innerText=L,this.options.push(k),this.selectElement.appendChild(k)}d.appendChild(this.selectElement),x.appendChild(d)},h.prototype.disable=function(){this.selectElement.disabled=!0},h.prototype.isDisabled=function(){return this.selectElement.disabled===!0},h.prototype.enable=function(){this.selectElement.disabled=!1},h.prototype.getValue=function(){return this.selectElement.value},h.prototype.hasValue=function(x){for(var d=0,A=this.options;d<A.length;d++){var E=A[d];if(E.value===x)return!0}return!1},h.prototype.setValue=function(x){if(!this.hasValue(x))throw new Error("".concat(x," is not present in the camera list."));this.selectElement.value=x},h.prototype.hasSingleItem=function(){return this.cameras.length===1},h.prototype.numCameras=function(){return this.cameras.length},h.create=function(x,d){var A=new h(d);return A.render(x),A},h}(),Hx=function(){function h(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ya.createElement("input",li.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return h.prototype.render=function(x,d){this.zoomElementContainer.style.display=d?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",x.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var A=Rt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(A),this.rangeText.style.marginRight="10px";var E=this;this.rangeInput.addEventListener("input",function(){return E.onValueChange()}),this.rangeInput.addEventListener("change",function(){return E.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},h.prototype.onValueChange=function(){var x=Rt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(x),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},h.prototype.setValues=function(x,d,A,E){this.rangeInput.min=x.toString(),this.rangeInput.max=d.toString(),this.rangeInput.step=E.toString(),this.rangeInput.value=A.toString(),this.onValueChange()},h.prototype.show=function(){this.zoomElementContainer.style.display="block"},h.prototype.hide=function(){this.zoomElementContainer.style.display="none"},h.prototype.setOnCameraZoomValueChangeCallback=function(x){this.onChangeCallback=x},h.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},h.create=function(x,d){var A=new h;return A.render(x,d),A},h}(),ri;(function(h){h[h.STATUS_DEFAULT=0]="STATUS_DEFAULT",h[h.STATUS_SUCCESS=1]="STATUS_SUCCESS",h[h.STATUS_WARNING=2]="STATUS_WARNING",h[h.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ri||(ri={}));function jx(h){return{fps:h.fps,qrbox:h.qrbox,aspectRatio:h.aspectRatio,disableFlip:h.disableFlip,videoConstraints:h.videoConstraints}}function Vx(h,x){return{formatsToSupport:h.formatsToSupport,useBarCodeDetectorIfSupported:h.useBarCodeDetectorIfSupported,experimentalFeatures:h.experimentalFeatures,verbose:x}}var Yx=function(){function h(x,d,A){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=x,this.config=this.createConfig(d),this.verbose=A===!0,!document.getElementById(x))throw"HTML Element with id=".concat(x," not found");this.scanTypeSelector=new ur(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Zh(this.verbose),this.persistedDataManager=new _x,d.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return h.prototype.render=function(x,d){var A=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(y,N){if(x)x(y,N);else{if(A.lastMatchFound===y)return;A.lastMatchFound=y,A.setHeaderMessage(Rt.lastMatch(y),ri.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(y,N){d&&d(y,N)};var E=document.getElementById(this.elementId);if(!E)throw"HTML Element with id=".concat(this.elementId," not found");E.innerHTML="",this.createBasicLayout(E),this.html5Qrcode=new bh(this.getScanRegionId(),Vx(this.config,this.verbose))},h.prototype.pause=function(x){(qi(x)||x!==!0)&&(x=!1),this.getHtml5QrcodeOrFail().pause(x)},h.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},h.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},h.prototype.clear=function(){var x=this,d=function(){var A=document.getElementById(x.elementId);A&&(A.innerHTML="",x.resetBasicLayout(A))};return this.html5Qrcode?new Promise(function(A,E){if(!x.html5Qrcode){A();return}x.html5Qrcode.isScanning?x.html5Qrcode.stop().then(function(y){if(!x.html5Qrcode){A();return}x.html5Qrcode.clear(),d(),A()}).catch(function(y){x.verbose&&x.logger.logError("Unable to stop qrcode scanner",y),E(y)}):(x.html5Qrcode.clear(),d(),A())}):Promise.resolve()},h.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},h.prototype.applyVideoConstraints=function(x){return this.getHtml5QrcodeOrFail().applyVideoConstraints(x)},h.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},h.prototype.createConfig=function(x){return x?(x.fps||(x.fps=Ni.SCAN_DEFAULT_FPS),x.rememberLastUsedCamera!==!Ni.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(x.rememberLastUsedCamera=Ni.DEFAULT_REMEMBER_LAST_CAMERA_USED),x.supportedScanTypes||(x.supportedScanTypes=Ni.DEFAULT_SUPPORTED_SCAN_TYPE),x):{fps:Ni.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ni.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ni.DEFAULT_SUPPORTED_SCAN_TYPE}},h.prototype.createBasicLayout=function(x){x.style.position="relative",x.style.padding="0px",x.style.border="1px solid silver",this.createHeader(x);var d=document.createElement("div"),A=this.getScanRegionId();d.id=A,d.style.width="100%",d.style.minHeight="100px",d.style.textAlign="center",x.appendChild(d),ur.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var E=document.createElement("div"),y=this.getDashboardId();E.id=y,E.style.width="100%",x.appendChild(E),this.setupInitialDashboard(E)},h.prototype.resetBasicLayout=function(x){x.style.border="none"},h.prototype.setupInitialDashboard=function(x){this.createSection(x),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},h.prototype.createHeader=function(x){var d=document.createElement("div");d.style.textAlign="left",d.style.margin="0px",x.appendChild(d);var A=new Lx;A.renderInto(d);var E=document.createElement("div");E.id=this.getHeaderMessageContainerId(),E.style.display="none",E.style.textAlign="center",E.style.fontSize="14px",E.style.padding="2px 10px",E.style.margin="4px",E.style.borderTop="1px solid #f6f6f6",d.appendChild(E)},h.prototype.createSection=function(x){var d=document.createElement("div");d.id=this.getDashboardSectionId(),d.style.width="100%",d.style.padding="10px 0px 10px 0px",d.style.textAlign="left",x.appendChild(d)},h.prototype.createCameraListUi=function(x,d,A){var E=this;E.showHideScanTypeSwapLink(!1),E.setHeaderMessage(Rt.cameraPermissionRequesting());var y=function(){A||E.createPermissionButton(x,d)};bh.getCameras().then(function(N){E.persistedDataManager.setHasPermission(!0),E.showHideScanTypeSwapLink(!0),E.resetHeaderMessage(),N&&N.length>0?(x.removeChild(d),E.renderCameraSelection(N)):(E.setHeaderMessage(Rt.noCameraFound(),ri.STATUS_WARNING),y())}).catch(function(N){E.persistedDataManager.setHasPermission(!1),A?A.disabled=!1:y(),E.setHeaderMessage(N,ri.STATUS_WARNING),E.showHideScanTypeSwapLink(!0)})},h.prototype.createPermissionButton=function(x,d){var A=this,E=ya.createElement("button",this.getCameraPermissionButtonId());E.innerText=Rt.cameraPermissionTitle(),E.addEventListener("click",function(){E.disabled=!0,A.createCameraListUi(x,d,E)}),d.appendChild(E)},h.prototype.createPermissionsUi=function(x,d){var A=this;if(ur.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Nh.hasPermissions().then(function(E){E?A.createCameraListUi(x,d):(A.persistedDataManager.setHasPermission(!1),A.createPermissionButton(x,d))}).catch(function(E){A.persistedDataManager.setHasPermission(!1),A.createPermissionButton(x,d)});return}this.createPermissionButton(x,d)},h.prototype.createSectionControlPanel=function(){var x=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");x.appendChild(d);var A=document.createElement("div");A.id=this.getDashboardSectionCameraScanRegionId(),A.style.display=ur.isCameraScanType(this.currentScanType)?"block":"none",d.appendChild(A);var E=document.createElement("div");E.style.textAlign="center",A.appendChild(E),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(A,E),this.renderFileScanUi(d)},h.prototype.renderFileScanUi=function(x){var d=ur.isFileScanType(this.currentScanType),A=this,E=function(y){if(!A.html5Qrcode)throw"html5Qrcode not defined";ur.isFileScanType(A.currentScanType)&&(A.setHeaderMessage(Rt.loadingImage()),A.html5Qrcode.scanFileV2(y,!0).then(function(N){A.resetHeaderMessage(),A.qrCodeSuccessCallback(N.decodedText,N)}).catch(function(N){A.setHeaderMessage(N,ri.STATUS_WARNING),A.qrCodeErrorCallback(N,qh.createFrom(N))}))};this.fileSelectionUi=Fx.create(x,d,E)},h.prototype.renderCameraSelection=function(x){var d=this,A=this,E=document.getElementById(this.getDashboardSectionCameraScanRegionId());E.style.textAlign="center";var y=Hx.create(E,!1),N=function(fe){var $=fe.zoomFeature();if($.isSupported()){y.setOnCameraZoomValueChangeCallback(function(we){$.apply(we)});var ce=1;d.config.defaultZoomValueIfSupported&&(ce=d.config.defaultZoomValueIfSupported),ce=lx(ce,$.min(),$.max()),y.setValues($.min(),$.max(),ce,$.step()),y.show()}},B=Px.create(E,x),O=document.createElement("span"),w=ya.createElement("button",li.CAMERA_START_BUTTON_ID);w.innerText=Rt.scanButtonStartScanningText(),O.appendChild(w);var L=ya.createElement("button",li.CAMERA_STOP_BUTTON_ID);L.innerText=Rt.scanButtonStopScanningText(),L.style.display="none",L.disabled=!0,O.appendChild(L);var k,J=function(fe){if(!fe.torchFeature().isSupported()){k&&k.hide();return}k?k.updateTorchCapability(fe.torchFeature()):k=zx.create(O,fe.torchFeature(),{display:"none",marginLeft:"5px"},function($){A.setHeaderMessage($,ri.STATUS_WARNING)}),k.show()};E.appendChild(O);var ne=function(fe){fe||(w.style.display="none"),w.innerText=Rt.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,fe&&(w.style.display="inline-block")};if(w.addEventListener("click",function(fe){w.innerText=Rt.scanButtonScanningStarting(),B.disable(),w.disabled=!0,w.style.opacity="0.5",d.scanTypeSelector.hasMoreThanOneScanType()&&A.showHideScanTypeSwapLink(!1),A.resetHeaderMessage();var $=B.getValue();A.persistedDataManager.setLastUsedCameraId($),A.html5Qrcode.start($,jx(A.config),A.qrCodeSuccessCallback,A.qrCodeErrorCallback).then(function(ce){L.disabled=!1,L.style.display="inline-block",ne(!1);var we=A.html5Qrcode.getRunningTrackCameraCapabilities();d.config.showTorchButtonIfSupported===!0&&J(we),d.config.showZoomSliderIfSupported===!0&&N(we)}).catch(function(ce){A.showHideScanTypeSwapLink(!0),B.enable(),ne(!0),A.setHeaderMessage(ce,ri.STATUS_WARNING)})}),B.hasSingleItem()&&w.click(),L.addEventListener("click",function(fe){if(!A.html5Qrcode)throw"html5Qrcode not defined";L.disabled=!0,A.html5Qrcode.stop().then(function($){d.scanTypeSelector.hasMoreThanOneScanType()&&A.showHideScanTypeSwapLink(!0),B.enable(),w.disabled=!1,L.style.display="none",w.style.display="inline-block",k&&(k.reset(),k.hide()),y.removeOnCameraZoomValueChangeCallback(),y.hide(),A.insertCameraScanImageToScanRegion()}).catch(function($){L.disabled=!1,A.setHeaderMessage($,ri.STATUS_WARNING)})}),A.persistedDataManager.getLastUsedCameraId()){var ae=A.persistedDataManager.getLastUsedCameraId();B.hasValue(ae)?(B.setValue(ae),w.click()):A.persistedDataManager.resetLastUsedCameraId()}},h.prototype.createSectionSwap=function(){var x=this,d=Rt.textIfCameraScanSelected(),A=Rt.textIfFileScanSelected(),E=document.getElementById(this.getDashboardSectionId()),y=document.createElement("div");y.style.textAlign="center";var N=ya.createElement("span",this.getDashboardSectionSwapLinkId());N.style.textDecoration="underline",N.style.cursor="pointer",N.innerText=ur.isCameraScanType(this.currentScanType)?d:A,N.addEventListener("click",function(){if(!x.sectionSwapAllowed){x.verbose&&x.logger.logError("Section swap called when not allowed");return}x.resetHeaderMessage(),x.fileSelectionUi.resetValue(),x.sectionSwapAllowed=!1,ur.isCameraScanType(x.currentScanType)?(x.clearScanRegion(),x.getCameraScanRegion().style.display="none",x.fileSelectionUi.show(),N.innerText=A,x.currentScanType=cr.SCAN_TYPE_FILE,x.insertFileScanImageToScanRegion()):(x.clearScanRegion(),x.getCameraScanRegion().style.display="block",x.fileSelectionUi.hide(),N.innerText=d,x.currentScanType=cr.SCAN_TYPE_CAMERA,x.insertCameraScanImageToScanRegion(),x.startCameraScanIfPermissionExistsOnSwap()),x.sectionSwapAllowed=!0}),y.appendChild(N),E.appendChild(y)},h.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var x=this,d=this;if(this.persistedDataManager.hasCameraPermissions()){Nh.hasPermissions().then(function(A){if(A){var E=document.getElementById(d.getCameraPermissionButtonId());if(!E)throw x.logger.logError("Permission button not found, fail;"),"Permission button not found";E.click()}else d.persistedDataManager.setHasPermission(!1)}).catch(function(A){d.persistedDataManager.setHasPermission(!1)});return}},h.prototype.resetHeaderMessage=function(){var x=document.getElementById(this.getHeaderMessageContainerId());x.style.display="none"},h.prototype.setHeaderMessage=function(x,d){d||(d=ri.STATUS_DEFAULT);var A=this.getHeaderMessageDiv();switch(A.innerText=x,A.style.display="block",d){case ri.STATUS_SUCCESS:A.style.background="rgba(106, 175, 80, 0.26)",A.style.color="#477735";break;case ri.STATUS_WARNING:A.style.background="rgba(203, 36, 49, 0.14)",A.style.color="#cb2431";break;case ri.STATUS_DEFAULT:default:A.style.background="rgba(0, 0, 0, 0)",A.style.color="rgb(17, 17, 17)";break}},h.prototype.showHideScanTypeSwapLink=function(x){this.scanTypeSelector.hasMoreThanOneScanType()&&(x!==!0&&(x=!1),this.sectionSwapAllowed=x,this.getDashboardSectionSwapLink().style.display=x?"inline-block":"none")},h.prototype.insertCameraScanImageToScanRegion=function(){var x=this,d=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){d.innerHTML="<br>",d.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(A){d.innerHTML="<br>",d.appendChild(x.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Ix,this.cameraScanImage.alt=Rt.cameraScanAltText()},h.prototype.insertFileScanImageToScanRegion=function(){var x=this,d=document.getElementById(this.getScanRegionId());if(this.fileScanImage){d.innerHTML="<br>",d.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(A){d.innerHTML="<br>",d.appendChild(x.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Ox,this.fileScanImage.alt=Rt.fileScanAltText()},h.prototype.clearScanRegion=function(){var x=document.getElementById(this.getScanRegionId());x.innerHTML=""},h.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},h.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},h.prototype.getDashboardSectionSwapLinkId=function(){return li.SCAN_TYPE_CHANGE_ANCHOR_ID},h.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},h.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},h.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},h.prototype.getCameraPermissionButtonId=function(){return li.CAMERA_PERMISSION_BUTTON_ID},h.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},h.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},h.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},h}(),ff={};(function h(x,d,A,E){var y=!!(x.Worker&&x.Blob&&x.Promise&&x.OffscreenCanvas&&x.OffscreenCanvasRenderingContext2D&&x.HTMLCanvasElement&&x.HTMLCanvasElement.prototype.transferControlToOffscreen&&x.URL&&x.URL.createObjectURL),N=typeof Path2D=="function"&&typeof DOMMatrix=="function",B=function(){if(!x.OffscreenCanvas)return!1;var M=new OffscreenCanvas(1,1),D=M.getContext("2d");D.fillRect(0,0,1,1);var se=M.transferToImageBitmap();try{D.createPattern(se,"no-repeat")}catch{return!1}return!0}();function O(){}function w(M){var D=d.exports.Promise,se=D!==void 0?D:x.Promise;return typeof se=="function"?new se(M):(M(O,O),null)}var L=function(M,D){return{transform:function(se){if(M)return se;if(D.has(se))return D.get(se);var de=new OffscreenCanvas(se.width,se.height),re=de.getContext("2d");return re.drawImage(se,0,0),D.set(se,de),de},clear:function(){D.clear()}}}(B,new Map),k=function(){var M=Math.floor(16.666666666666668),D,se,de={},re=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(D=function(be){var te=Math.random();return de[te]=requestAnimationFrame(function ve(Ce){re===Ce||re+M-1<Ce?(re=Ce,delete de[te],be()):de[te]=requestAnimationFrame(ve)}),te},se=function(be){de[be]&&cancelAnimationFrame(de[be])}):(D=function(be){return setTimeout(be,M)},se=function(be){return clearTimeout(be)}),{frame:D,cancel:se}}(),J=function(){var M,D,se={};function de(re){function be(te,ve){re.postMessage({options:te||{},callback:ve})}re.init=function(ve){var Ce=ve.transferControlToOffscreen();re.postMessage({canvas:Ce},[Ce])},re.fire=function(ve,Ce,Fe){if(D)return be(ve,null),D;var Pe=Math.random().toString(36).slice(2);return D=w(function(Ye){function pt(Be){Be.data.callback===Pe&&(delete se[Pe],re.removeEventListener("message",pt),D=null,L.clear(),Fe(),Ye())}re.addEventListener("message",pt),be(ve,Pe),se[Pe]=pt.bind(null,{data:{callback:Pe}})}),D},re.reset=function(){re.postMessage({reset:!0});for(var ve in se)se[ve](),delete se[ve]}}return function(){if(M)return M;if(!A&&y){var re=["var CONFETTI, SIZE = {}, module = {};","("+h.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{M=new Worker(URL.createObjectURL(new Blob([re])))}catch(be){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",be),null}de(M)}return M}}(),ne={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function ae(M,D){return D?D(M):M}function fe(M){return M!=null}function $(M,D,se){return ae(M&&fe(M[D])?M[D]:ne[D],se)}function ce(M){return M<0?0:Math.floor(M)}function we(M,D){return Math.floor(Math.random()*(D-M))+M}function oe(M){return parseInt(M,16)}function Ie(M){return M.map(Le)}function Le(M){var D=String(M).replace(/[^0-9a-f]/gi,"");return D.length<6&&(D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2]),{r:oe(D.substring(0,2)),g:oe(D.substring(2,4)),b:oe(D.substring(4,6))}}function je(M){var D=$(M,"origin",Object);return D.x=$(D,"x",Number),D.y=$(D,"y",Number),D}function me(M){M.width=document.documentElement.clientWidth,M.height=document.documentElement.clientHeight}function Ze(M){var D=M.getBoundingClientRect();M.width=D.width,M.height=D.height}function X(M){var D=document.createElement("canvas");return D.style.position="fixed",D.style.top="0px",D.style.left="0px",D.style.pointerEvents="none",D.style.zIndex=M,D}function qe(M,D,se,de,re,be,te,ve,Ce){M.save(),M.translate(D,se),M.rotate(be),M.scale(de,re),M.arc(0,0,1,te,ve,Ce),M.restore()}function Et(M){var D=M.angle*(Math.PI/180),se=M.spread*(Math.PI/180);return{x:M.x,y:M.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:M.startVelocity*.5+Math.random()*M.startVelocity,angle2D:-D+(.5*se-Math.random()*se),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:M.color,shape:M.shape,tick:0,totalTicks:M.ticks,decay:M.decay,drift:M.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:M.gravity*3,ovalScalar:.6,scalar:M.scalar,flat:M.flat}}function De(M,D){D.x+=Math.cos(D.angle2D)*D.velocity+D.drift,D.y+=Math.sin(D.angle2D)*D.velocity+D.gravity,D.velocity*=D.decay,D.flat?(D.wobble=0,D.wobbleX=D.x+10*D.scalar,D.wobbleY=D.y+10*D.scalar,D.tiltSin=0,D.tiltCos=0,D.random=1):(D.wobble+=D.wobbleSpeed,D.wobbleX=D.x+10*D.scalar*Math.cos(D.wobble),D.wobbleY=D.y+10*D.scalar*Math.sin(D.wobble),D.tiltAngle+=.1,D.tiltSin=Math.sin(D.tiltAngle),D.tiltCos=Math.cos(D.tiltAngle),D.random=Math.random()+2);var se=D.tick++/D.totalTicks,de=D.x+D.random*D.tiltCos,re=D.y+D.random*D.tiltSin,be=D.wobbleX+D.random*D.tiltCos,te=D.wobbleY+D.random*D.tiltSin;if(M.fillStyle="rgba("+D.color.r+", "+D.color.g+", "+D.color.b+", "+(1-se)+")",M.beginPath(),N&&D.shape.type==="path"&&typeof D.shape.path=="string"&&Array.isArray(D.shape.matrix))M.fill(Se(D.shape.path,D.shape.matrix,D.x,D.y,Math.abs(be-de)*.1,Math.abs(te-re)*.1,Math.PI/10*D.wobble));else if(D.shape.type==="bitmap"){var ve=Math.PI/10*D.wobble,Ce=Math.abs(be-de)*.1,Fe=Math.abs(te-re)*.1,Pe=D.shape.bitmap.width*D.scalar,Ye=D.shape.bitmap.height*D.scalar,pt=new DOMMatrix([Math.cos(ve)*Ce,Math.sin(ve)*Ce,-Math.sin(ve)*Fe,Math.cos(ve)*Fe,D.x,D.y]);pt.multiplySelf(new DOMMatrix(D.shape.matrix));var Be=M.createPattern(L.transform(D.shape.bitmap),"no-repeat");Be.setTransform(pt),M.globalAlpha=1-se,M.fillStyle=Be,M.fillRect(D.x-Pe/2,D.y-Ye/2,Pe,Ye),M.globalAlpha=1}else if(D.shape==="circle")M.ellipse?M.ellipse(D.x,D.y,Math.abs(be-de)*D.ovalScalar,Math.abs(te-re)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI):qe(M,D.x,D.y,Math.abs(be-de)*D.ovalScalar,Math.abs(te-re)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI);else if(D.shape==="star")for(var Qe=Math.PI/2*3,Tt=4*D.scalar,Yt=8*D.scalar,At=D.x,et=D.y,We=5,xn=Math.PI/We;We--;)At=D.x+Math.cos(Qe)*Yt,et=D.y+Math.sin(Qe)*Yt,M.lineTo(At,et),Qe+=xn,At=D.x+Math.cos(Qe)*Tt,et=D.y+Math.sin(Qe)*Tt,M.lineTo(At,et),Qe+=xn;else M.moveTo(Math.floor(D.x),Math.floor(D.y)),M.lineTo(Math.floor(D.wobbleX),Math.floor(re)),M.lineTo(Math.floor(be),Math.floor(te)),M.lineTo(Math.floor(de),Math.floor(D.wobbleY));return M.closePath(),M.fill(),D.tick<D.totalTicks}function $e(M,D,se,de,re){var be=D.slice(),te=M.getContext("2d"),ve,Ce,Fe=w(function(Pe){function Ye(){ve=Ce=null,te.clearRect(0,0,de.width,de.height),L.clear(),re(),Pe()}function pt(){A&&!(de.width===E.width&&de.height===E.height)&&(de.width=M.width=E.width,de.height=M.height=E.height),!de.width&&!de.height&&(se(M),de.width=M.width,de.height=M.height),te.clearRect(0,0,de.width,de.height),be=be.filter(function(Be){return De(te,Be)}),be.length?ve=k.frame(pt):Ye()}ve=k.frame(pt),Ce=Ye});return{addFettis:function(Pe){return be=be.concat(Pe),Fe},canvas:M,promise:Fe,reset:function(){ve&&k.cancel(ve),Ce&&Ce()}}}function bt(M,D){var se=!M,de=!!$(D||{},"resize"),re=!1,be=$(D,"disableForReducedMotion",Boolean),te=y&&!!$(D||{},"useWorker"),ve=te?J():null,Ce=se?me:Ze,Fe=M&&ve?!!M.__confetti_initialized:!1,Pe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ye;function pt(Qe,Tt,Yt){for(var At=$(Qe,"particleCount",ce),et=$(Qe,"angle",Number),We=$(Qe,"spread",Number),xn=$(Qe,"startVelocity",Number),Ne=$(Qe,"decay",Number),Sa=$(Qe,"gravity",Number),Yr=$(Qe,"drift",Number),Xt=$(Qe,"colors",Ie),hr=$(Qe,"ticks",Number),vn=$(Qe,"shapes"),dr=$(Qe,"scalar"),Pn=!!$(Qe,"flat"),un=je(Qe),ba=At,Ii=[],Il=M.width*un.x,_t=M.height*un.y;ba--;)Ii.push(Et({x:Il,y:_t,angle:et,spread:We,startVelocity:xn,color:Xt[ba%Xt.length],shape:vn[we(0,vn.length)],ticks:hr,decay:Ne,gravity:Sa,drift:Yr,scalar:dr,flat:Pn}));return Ye?Ye.addFettis(Ii):(Ye=$e(M,Ii,Ce,Tt,Yt),Ye.promise)}function Be(Qe){var Tt=be||$(Qe,"disableForReducedMotion",Boolean),Yt=$(Qe,"zIndex",Number);if(Tt&&Pe)return w(function(xn){xn()});se&&Ye?M=Ye.canvas:se&&!M&&(M=X(Yt),document.body.appendChild(M)),de&&!Fe&&Ce(M);var At={width:M.width,height:M.height};ve&&!Fe&&ve.init(M),Fe=!0,ve&&(M.__confetti_initialized=!0);function et(){if(ve){var xn={getBoundingClientRect:function(){if(!se)return M.getBoundingClientRect()}};Ce(xn),ve.postMessage({resize:{width:xn.width,height:xn.height}});return}At.width=At.height=null}function We(){Ye=null,de&&(re=!1,x.removeEventListener("resize",et)),se&&M&&(document.body.contains(M)&&document.body.removeChild(M),M=null,Fe=!1)}return de&&!re&&(re=!0,x.addEventListener("resize",et,!1)),ve?ve.fire(Qe,At,We):pt(Qe,At,We)}return Be.reset=function(){ve&&ve.reset(),Ye&&Ye.reset()},Be}var K;function ye(){return K||(K=bt(null,{useWorker:!0,resize:!0})),K}function Se(M,D,se,de,re,be,te){var ve=new Path2D(M),Ce=new Path2D;Ce.addPath(ve,new DOMMatrix(D));var Fe=new Path2D;return Fe.addPath(Ce,new DOMMatrix([Math.cos(te)*re,Math.sin(te)*re,-Math.sin(te)*be,Math.cos(te)*be,se,de])),Fe}function Ue(M){if(!N)throw new Error("path confetti are not supported in this browser");var D,se;typeof M=="string"?D=M:(D=M.path,se=M.matrix);var de=new Path2D(D),re=document.createElement("canvas"),be=re.getContext("2d");if(!se){for(var te=1e3,ve=te,Ce=te,Fe=0,Pe=0,Ye,pt,Be=0;Be<te;Be+=2)for(var Qe=0;Qe<te;Qe+=2)be.isPointInPath(de,Be,Qe,"nonzero")&&(ve=Math.min(ve,Be),Ce=Math.min(Ce,Qe),Fe=Math.max(Fe,Be),Pe=Math.max(Pe,Qe));Ye=Fe-ve,pt=Pe-Ce;var Tt=10,Yt=Math.min(Tt/Ye,Tt/pt);se=[Yt,0,0,Yt,-Math.round(Ye/2+ve)*Yt,-Math.round(pt/2+Ce)*Yt]}return{type:"path",path:D,matrix:se}}function st(M){var D,se=1,de="#000000",re='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof M=="string"?D=M:(D=M.text,se="scalar"in M?M.scalar:se,re="fontFamily"in M?M.fontFamily:re,de="color"in M?M.color:de);var be=10*se,te=""+be+"px "+re,ve=new OffscreenCanvas(be,be),Ce=ve.getContext("2d");Ce.font=te;var Fe=Ce.measureText(D),Pe=Math.ceil(Fe.actualBoundingBoxRight+Fe.actualBoundingBoxLeft),Ye=Math.ceil(Fe.actualBoundingBoxAscent+Fe.actualBoundingBoxDescent),pt=2,Be=Fe.actualBoundingBoxLeft+pt,Qe=Fe.actualBoundingBoxAscent+pt;Pe+=pt+pt,Ye+=pt+pt,ve=new OffscreenCanvas(Pe,Ye),Ce=ve.getContext("2d"),Ce.font=te,Ce.fillStyle=de,Ce.fillText(D,Be,Qe);var Tt=1/se;return{type:"bitmap",bitmap:ve.transferToImageBitmap(),matrix:[Tt,0,0,Tt,-Pe*Tt/2,-Ye*Tt/2]}}d.exports=function(){return ye().apply(this,arguments)},d.exports.reset=function(){ye().reset()},d.exports.create=bt,d.exports.shapeFromPath=Ue,d.exports.shapeFromText=st})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ff,!1);const Gx=ff.exports;ff.exports.create;function Xx(){const h=Ca(),[x,d]=Z.useState(!0);return Z.useEffect(()=>{const A="qr-reader",E=new Yx(A,{fps:10,qrbox:250,rememberLastUsedCamera:!0});return E.render(y=>{console.log(" QR detectado:",y),d(!1);const N=y.trim();let B;if(N.includes("/actividad/")){const O=N.indexOf("/actividad/");B=N.substring(O)}else{alert(" QR no válido. Asegúrate de que el QR contiene una URL con /actividad/número");return}Gx({particleCount:100,spread:90,origin:{y:.6},colors:["#79a981","#fdd835","#66bb6a","#9b9b9b"]}),localStorage.setItem("accesoQR","true"),setTimeout(()=>{E.clear().then(()=>{h(B)})},100)},y=>{console.warn("Escaneo fallido:",y)}),()=>{E.clear().catch(y=>console.error(" Error al limpiar scanner",y))}},[h]),ee.jsxs("div",{className:"scanner-container",children:[ee.jsx("h2",{className:"scanner-title",children:"Escanea el código QR"}),ee.jsx("div",{id:"qr-reader",className:"qr-reader-box"}),x&&ee.jsxs("div",{className:"spinner-container",children:[ee.jsx("div",{className:"spinner"}),ee.jsx("p",{className:"texto-escaneo",children:"Escaneando... apunta con la cámara al QR"})]})]})}function $h(){const h=localStorage.getItem("actividadesCompletadas");return h?JSON.parse(h):[]}function um(h){const x=$h();x.includes(h)||(x.push(h),localStorage.setItem("actividadesCompletadas",JSON.stringify(x)))}function cm(){localStorage.removeItem("actividadesCompletadas")}const qx=[{id:1,titulo:"Fósiles prehistóricos",ubicacion:"Fósil de trilobite y helecho",audio:"/sounds/soundsParadas/audioParada1.mp3",avatarDialogo:{explorador:{mensaje:"¡Qué hallazgo! Este fósil tiene millones de años. Un trilobite, de los primeros animales con caparazón.",sabiasQue:"¿Sabías que los trilobites existieron antes que los dinosaurios?"},exploradora:{mensaje:"Este helecho fosilizado es testigo del pasado. ¡Tiene más de 300 millones de años!",sabiasQue:"¿Sabías que las plantas fósiles ayudaron a formar el carbón que usamos hoy?"}},respuestaCorrecta:"Animal marino / Planta del pasado",geniallyURL:"https://view.genially.com/67e134e5a75d54115e15f3f0/interactive-content-actividad-1",completada:!1},{id:2,titulo:"Dinosaurios gigantes",ubicacion:"Triceratops, brontosaurio, velociraptor y alosaurio",audio:"/sounds/soundsParadas/audioParada2.mp3",avatarDialogo:{explorador:{mensaje:"El brontosaurio era tan largo como un autobús. ¡Qué bestia!",sabiasQue:"¿Sabías que el triceratops tenía tres cuernos para defenderse?"},exploradora:{mensaje:"Aunque el velociraptor era pequeño, ¡era súper veloz!",sabiasQue:"¿Sabías que el velociraptor tenía plumas?"}},respuestaCorrecta:"Tres / Brontosaurio",geniallyURL:"https://view.genially.com/67f395c2cd8c8266c1f2ba62/interactive-content-actividad2",completada:!1},{id:3,titulo:"Tortuga de las Galápagos",ubicacion:"Zona de reptiles fósiles",audio:"/sounds/soundsParadas/audioParada3.mp3",avatarDialogo:{explorador:{mensaje:"Las tortugas de las Galápagos pueden vivir más de 100 años. ¡Increíble!",sabiasQue:"¿Sabías que pueden pesar más de 200 kilos?"},exploradora:{mensaje:"Una de las especies más longevas del planeta. ¡Y súper lentas!",sabiasQue:"¿Sabías que su caparazón puede cambiar según la isla?"}},respuestaCorrecta:"Islas Galápagos / El caparazón",geniallyURL:"https://view.genially.com/67f8f2f8b5b5ac75ac152d4e/interactive-content-actividad-3",completada:!1},{id:4,titulo:"Huellas de Laetoli",ubicacion:"Descubrimiento de pisadas humanas fósiles",audio:"/sounds/soundsParadas/audioParada4.mp3",avatarDialogo:{explorador:{mensaje:"Estas huellas tienen más de 3 millones de años. ¡Nuestros antepasados ya caminaban erguidos!",sabiasQue:"¿Sabías que fueron descubiertas en Tanzania en 1978?"},exploradora:{mensaje:"¡Increíble! Estas huellas fosilizadas muestran cómo caminaban nuestros ancestros.",sabiasQue:"¿Sabías que pertenecen a Australopithecus afarensis?"}},respuestaCorrecta:"Australopithecus / Que caminaban erguidos",geniallyURL:"https://view.genially.com/67f8fa02c2e20bb7b0ca82c6/interactive-content-actividad-4",completada:!1},{id:5,titulo:"Cueva con pinturas rupestres",ubicacion:"Arte prehistórico",audio:"/sounds/soundsParadas/audioParada5.mp3",avatarDialogo:{explorador:{mensaje:"Mira estas pinturas rupestres. Así se comunicaban nuestros antepasados.",sabiasQue:"¿Sabías que usaban pigmentos naturales de rocas y carbón?"},exploradora:{mensaje:"¡Arte antiguo! Reflejan la vida cotidiana y los animales que cazaban.",sabiasQue:"¿Sabías que algunas tienen más de 30.000 años?"}},respuestaCorrecta:"Animales y caza / Pigmentos naturales",geniallyURL:"https://view.genially.com/67e3cc8058a3eb22e678b730/interactive-content-actividad5",completada:!1},{id:6,titulo:"Poblado nómada",ubicacion:"Estilo de vida de los nómadas",audio:"/sounds/soundsParadas/audioParada6.mp3",avatarDialogo:{explorador:{mensaje:"Los nómadas viajaban de un lugar a otro buscando alimento.",sabiasQue:"¿Sabías que no tenían casas fijas y vivían en chozas?"},exploradora:{mensaje:"Vivían de la caza y la recolección, ¡siempre en movimiento!",sabiasQue:"¿Sabías que seguían a los animales y las estaciones?"}},respuestaCorrecta:"Buscar alimentos / Cambiar de lugar",geniallyURL:"https://view.genially.com/67f8edffb7b2a9c007101174/interactive-content-actividad6",completada:!1},{id:7,titulo:"Poblado sedentario",ubicacion:"Primeros asentamientos",audio:"/sounds/soundsParadas/audioParada7.mp3",avatarDialogo:{explorador:{mensaje:"Con la agricultura, los humanos se volvieron sedentarios.",sabiasQue:"¿Sabías que comenzaron a construir aldeas permanentes?"},exploradora:{mensaje:"¡Revolución Neolítica! Aquí nacen los pueblos y la domesticación.",sabiasQue:"¿Sabías que almacenaban grano en silos?"}},respuestaCorrecta:"Agricultura / Cultivo de alimentos",geniallyURL:"https://view.genially.com/67f8f638c08c8840c0b4fe3c/interactive-content-actividad7",completada:!1},{id:8,titulo:"Pozo",ubicacion:"Acceso al agua en la antigüedad",audio:"/sounds/soundsParadas/audioParada8.mp3",avatarDialogo:{explorador:{mensaje:"Los pozos eran esenciales para sobrevivir lejos de ríos.",sabiasQue:"¿Sabías que algunos tenían poleas para sacar el agua más fácil?"},exploradora:{mensaje:"El agua era un tesoro. ¡Y sin grifo!",sabiasQue:"¿Sabías que los primeros pozos datan del Neolítico?"}},respuestaCorrecta:"Sacar agua / Usando poleas",geniallyURL:"https://view.genially.com/67f8fda123c430f481ddb5e6/interactive-content-actividad-8",completada:!1},{id:9,titulo:"Stonehenge",ubicacion:"Monumento megalítico",audio:"/sounds/soundsParadas/audioParada9.mp3",avatarDialogo:{explorador:{mensaje:"Estas piedras pesan toneladas y tienen más de 4.000 años.",sabiasQue:"¿Sabías que algunas alineaciones indican los solsticios?"},exploradora:{mensaje:"Un misterio ancestral. Algunos creen que era un calendario solar.",sabiasQue:"¿Sabías que aún no sabemos cómo las transportaron?"}},respuestaCorrecta:"Ceremonias y calendario / Solsticio de verano",geniallyURL:"https://view.genially.com/67f65b9660c12a0045379037/interactive-content-actividad9",completada:!1},{id:10,titulo:"Templo de Karnak",ubicacion:"Antiguo Egipto",audio:"/sounds/soundsParadas/audioParada10.mp3",avatarDialogo:{explorador:{mensaje:"Este templo fue construido durante más de 1.000 años. ¡Impresionante!",sabiasQue:"¿Sabías que cada faraón dejaba su huella en Karnak?"},exploradora:{mensaje:"Un lugar sagrado lleno de historia, columnas y jeroglíficos.",sabiasQue:"¿Sabías que era el centro religioso más importante del antiguo Egipto?"}},respuestaCorrecta:"Egipto / Los egipcios",geniallyURL:"https://view.genially.com/67e283be994f4e3b61c714e9/interactive-content-actividad10",completada:!1}];function Zx(){const h=$h(),x=Ca(),d=h.length+1,A=localStorage.getItem("avatar")||"explorador",E=localStorage.getItem("nombre")||"explorador/a";return ee.jsxs("div",{className:"mapa-check-container",children:[ee.jsx("h2",{children:"Mapa del Recorrido"}),ee.jsx("img",{src:`/04-WebApp-Prehistoria/assets/avatars/${A}.png`,alt:"avatar",className:"guia-avatar"}),ee.jsxs("p",{className:"guia-texto",children:["¡Buen trabajo ",E,"! Has completado ",h.length," de 10 paradas."]}),ee.jsx("div",{className:"barra-progreso",children:ee.jsx("div",{className:"relleno",style:{width:`${h.length/10*100}%`}})}),ee.jsx("img",{src:"/04-WebApp-Prehistoria/assets/images/fondo-mapa.jpg",alt:"Mapa",className:"mapa-real"}),ee.jsx("ul",{className:"checkpoints",children:qx.map(y=>ee.jsxs("li",{className:h.includes(y.id)?"hecha":"",children:[y.id,". ",y.titulo]},y.id))}),ee.jsxs("div",{className:"botones-container",children:[h.length>=10?ee.jsx("button",{className:"btn-final",onClick:()=>x("/final"),children:"Ver pantalla final"}):ee.jsxs("button",{className:"btn-scan",onClick:()=>x("/EscanerQR"),children:["Escanear siguiente parada (",d,")"]}),ee.jsx("button",{className:"btn-medallas",onClick:()=>x("/Vitrina"),children:"Ver Medallas"})]})]})}function zo(){return ee.jsx("div",{className:"spinner-container",children:ee.jsx("div",{className:"spinner"})})}const Qx=Z.lazy(()=>Xo(()=>import("./Final-BoBhbflE.js").then(h=>h.F),__vite__mapDeps([0,1]))),Wx=Z.lazy(()=>Xo(()=>import("./Actividad-D14VtYQ7.js"),__vite__mapDeps([2,3]))),Kx=Z.lazy(()=>Xo(()=>import("./Vitrina-BFDanZcQ.js"),__vite__mapDeps([4,5]))),Jx=Z.lazy(()=>Xo(()=>import("./VitrinaVirtual-d6FcrK18.js"),__vite__mapDeps([6,7])));function $x(){return ee.jsxs(mg,{children:[ee.jsx(vi,{path:Xi.MODOJUEGO,element:ee.jsx(Jg,{})}),ee.jsx(vi,{path:Xi.PORTADA,element:ee.jsx($g,{})}),ee.jsx(vi,{path:Xi.FORM,element:ee.jsx(nx,{})}),ee.jsx(vi,{path:Xi.MAPA,element:ee.jsx(ax,{})}),ee.jsx(vi,{path:Xi.ENTREACTIVIDADES,element:ee.jsx(Zx,{})}),ee.jsx(vi,{path:Xi.ESCANERQR,element:ee.jsx(Xx,{})}),ee.jsx(vi,{path:Xi.ACTIVIDAD,element:ee.jsx(Z.Suspense,{fallback:ee.jsx(zo,{}),children:ee.jsx(Wx,{})})}),ee.jsx(vi,{path:Xi.FINAL,element:ee.jsx(Z.Suspense,{fallback:ee.jsx(zo,{}),children:ee.jsx(Qx,{})})}),ee.jsx(vi,{path:Xi.VITRINA,element:ee.jsx(Z.Suspense,{fallback:ee.jsx(zo,{}),children:ee.jsx(Kx,{})})}),ee.jsx(vi,{path:Xi.VITRINA_VIRTUAL,element:ee.jsx(Z.Suspense,{fallback:ee.jsx(zo,{}),children:ee.jsx(Jx,{})})})]})}const em=()=>{const[h,x]=Z.useState(!1),d=Z.useRef(null),A=()=>{x(!h),d.current&&(d.current.muted=!h)};return Z.useEffect(()=>{d.current&&(d.current.volume=.1)},[]),ee.jsxs("div",{children:[ee.jsx("audio",{ref:d,src:"/sounds/musica.mp3",loop:!0,autoPlay:!0,muted:h}),ee.jsx("button",{className:"btn-music",onClick:A,children:h?"🔊Activar música":"🔇Silenciar música"})]})};function tm(){const h=Ca(),[x,d]=Z.useState(!1);Z.useEffect(()=>{const y=localStorage.getItem("modoOscuro")==="true";d(y),y&&document.documentElement.classList.add("dark")},[]);const A=()=>{const E=!x;d(E),document.documentElement.classList.toggle("dark",E),localStorage.setItem("modoOscuro",E)};return ee.jsxs("header",{className:"header",children:[ee.jsxs("div",{className:"branding",children:[ee.jsx("img",{src:"/04-WebApp-Prehistoria/assets/images/Logo-principal.png",alt:"Logo de la empresa",className:"logo"}),ee.jsx("span",{children:"Proyecto desarrollado para la empresa"})]}),ee.jsx("h1",{children:"¡Bienvenidos a esta aventura!"}),ee.jsxs("div",{className:"botones-header",children:[ee.jsx("button",{className:"btn-tema",onClick:A,children:x?"🌞 Modo Claro":"🌙 Modo Oscuro"}),ee.jsx("button",{className:"btn-home",onClick:()=>h("/"),children:"🏠Inicio"}),ee.jsx(em,{}),ee.jsx("button",{className:"btn-kiosco",onClick:()=>{const E=document.documentElement;E.requestFullscreen?E.requestFullscreen():E.webkitRequestFullscreen?E.webkitRequestFullscreen():E.msRequestFullscreen&&E.msRequestFullscreen()},children:"🖥 Modo Kiosco"})]})]})}function nm(){return ee.jsxs("footer",{className:"footer",children:[ee.jsx("p",{children:"🌍 Proyecto educativo para el Parque de la Prehistoria"}),ee.jsxs("p",{children:["🧠 Desarrollado por ",ee.jsx("strong",{children:"Engranajes Ciencia"})," & Equipo FCT 💻"]}),ee.jsxs("p",{children:["© ",new Date().getFullYear()," Todos los derechos reservados"]})]})}function im(){const[h,x]=Z.useState(navigator.onLine);return Z.useEffect(()=>{const d=()=>x(!0),A=()=>x(!1);return window.addEventListener("online",d),window.addEventListener("offline",A),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",A)}},[]),ee.jsx(ee.Fragment,{children:!h&&ee.jsx("div",{className:"connection-alert",children:"⚠️ ¡Estás desconectado de Internet!"})})}const am=({timeout:h=9e5,onTimeout:x})=>{const d=Z.useRef(null),A=()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{x()},h)};return Z.useEffect(()=>{const E=["touchstart","touchmove","keydown","scroll"],y=()=>{A()};return E.forEach(N=>window.addEventListener(N,y)),A(),()=>{E.forEach(N=>window.removeEventListener(N,y)),d.current&&clearTimeout(d.current)}},[h,x]),null},rm=({children:h})=>{const x=Ca(),d=fr(),A=document.documentElement.classList.contains("dark"),E=()=>{alert("Inactividad detectada. Cerrando sesión..."),x("/")},y=d.pathname==="/";return ee.jsxs("div",{className:`layout ${A?"modo-oscuro":""}`,children:[!y&&ee.jsx(am,{timeout:9e5,onTimeout:E}),ee.jsx(tm,{}),ee.jsx("main",{children:h}),ee.jsx(im,{}),ee.jsx(nm,{})]})};function lm(){const h=Qg();return ee.jsxs("div",{children:[h==="portrait"&&ee.jsxs("div",{className:"orientacion-alerta",children:["⚠️ Para una mejor experiencia recomendamos utilizar el dispositivo en modo horizontal"," "]}),ee.jsx(rm,{children:ee.jsx($x,{})})]})}v2.createRoot(document.getElementById("root")).render(ee.jsx(A2.StrictMode,{children:ee.jsx(Fg,{children:ee.jsx(lm,{})})}));export{Xo as _,cm as a,sm as b,Gx as c,qx as d,om as e,Uo as f,tf as g,ee as j,um as m,Z as r,Ca as u,ex as v};
